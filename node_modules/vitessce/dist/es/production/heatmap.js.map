{"version":3,"sources":["../webpack/bootstrap","../external \"react\"","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","app/state/hooks.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","utils.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","layers/heatmap-constants.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","components/utils.js","../external \"@luma.gl/constants\"","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../external \"lodash/isEqual\"","../external \"@material-ui/core/styles\"","components/sets/constants.js","components/hooks.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../external \"@deck.gl/core\"","loaders/errors/LoaderValidationError.js","loaders/errors/LoaderNotFoundError.js","loaders/errors/index.js","../external \"@hms-dbmi/viv\"","components/sets/utils.js","components/sets/cell-set-utils.js","app/state/coordination.js","../external \"@material-ui/core/TableCell\"","components/data-hooks.js","components/classNames.js","components/spatial/constants.js","../external \"zustand\"","layers/constants.js","../external \"lodash/debounce\"","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../external \"@deck.gl/layers\"","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","loaders/errors/AbstractLoaderError.js","components/LoadingIndicator.js","components/TitleInfo.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../external \"@material-ui/core/IconButton\"","../external \"@material-ui/core/colors\"","../external \"@material-ui/core/Slider\"","../external \"@material-ui/core/TableRow\"","../external \"lodash/range\"","components/shared-mui/components.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","components/shared-plot-options/styles.js","../external \"d3-array\"","../external \"@material-ui/core/Paper\"","../external \"lodash/clamp\"","../external \"@material-ui/core/MenuItem\"","../external \"zustand/context\"","../external \"zustand/shallow\"","../external \"@material-ui/core/Popper\"","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get.js","components/shared-mui/styles.js","../external \"@material-ui/icons/ArrowDropDown\"","../external \"@material-ui/icons/ArrowDropUp\"","../external \"@turf/helpers\"","../external \"uuid/v4\"","../external \"deck.gl\"","../external \"@material-ui/core/Select\"","../external \"@luma.gl/core\"","components/shared-plot-options/OptionSelect.js","../external \"@material-ui/icons/CloudDownload\"","../external \"@material-ui/core/Link\"","../external \"@material-ui/icons/Settings\"","../external \"@material-ui/icons/Close\"","../external \"@material-ui/core/CircularProgress\"","../external \"@material-ui/core/MenuList\"","../external \"@material-ui/core/ClickAwayListener\"","../external \"@material-ui/core/Fade\"","../external \"fast-deep-equal\"","../external \"lodash/isNil\"","../external \"tinycolor2\"","components/tooltip/Tooltip2D.js","components/tooltip/TooltipContent.js","components/shared-plot-options/OptionsContainer.js","components/tooltip/styles.js","components/tooltip/Tooltip.js","components/interpolate-colors.js","../external \"@turf/centroid\"","../external \"concaveman\"","layers/HeatmapCompositeTextLayer.js","layers/PixelatedBitmapLayer.js","layers/heatmap-bitmap-layer-shaders.js","layers/HeatmapBitmapLayer.js","../external \"@material-ui/core/Box\"","../external \"@material-ui/core/Table\"","../external \"@material-ui/core/TableBody\"","../external \"@material-ui/core/TableContainer\"","components/heatmap/utils.js","Pool.js","components/heatmap/HeatmapWorkerPool.js","components/heatmap/Heatmap.js","../external \"regenerator-runtime\"","components/heatmap/HeatmapTooltipSubscriber.js","components/heatmap/HeatmapOptions.js","components/heatmap/HeatmapSubscriber.js","components/heatmap/heatmap.worker.js","components/heatmap/index.js","../node_modules/worker-loader/dist/workers/InlineWorker.js"],"names":["createContext","ViewConfigProviderLocal","Provider","useViewConfigStoreLocal","useStore","useViewConfigStoreApiLocal","useStoreApi","ViewConfigProvider","useViewConfigStore","useViewConfigStoreApi","AuxiliaryProviderLocal","useAuxiliaryStoreLocal","AuxiliaryProvider","useAuxiliaryStore","createViewConfigStore","create","set","viewConfig","loaders","setViewConfig","setLoaders","setCoordinationValue","parameter","scope","value","state","coordinationSpace","removeComponent","i","newLayout","layout","slice","splice","changeLayout","newComponentProps","forEach","newProps","useComponentLayout","component","scopes","coordinationScopes","filter","l","every","createAuxiliaryStore","auxiliaryStore","useHoverStore","componentHover","setComponentHover","useWarnStore","warning","setWarning","useViewInfoStore","viewInfo","setComponentViewInfo","uuid","useGridSizeStore","resizeCount","incrementResizeCount","useCoordination","parameters","values","fromEntries","map","undefined","shallow","setters","useMemo","setterName","capitalize","setterFunc","AUXILIARY_COORDINATION_TYPES_MAP","spatialRasterLayers","mapCoordinationScopes","newCoordinationScopes","Object","keys","key","newCoordinationTypes","coordinationType","mapParameters","Boolean","flat","useAuxiliaryCoordination","mappedCoordinationScopes","mappedParameters","useLoaders","useLayout","useRemoveComponent","useChangeLayout","useSetLoaders","useSetViewConfig","viewConfigStoreApi","setViewConfigRef","useRef","getState","current","useComponentHover","useSetComponentHover","useWarning","useSetWarning","useComponentViewInfo","useCallback","useSetComponentViewInfo","setViewInfoRef","useGridResize","useEmitGridResize","iterable","reduce","obj","val","assign","range","length","Array","pluralize","singular","plural","count","word","charAt","toUpperCase","getNextScope","prevScopes","chars","nextCharIndices","next","r","charIndex","unshift","increment","push","join","nextScope","includes","getSourceFromLoader","loader","level","data","source","isArray","isRgb","shape","dtype","labels","channelSize","indexOf","TILE_SIZE","MIN_ROW_AGG","MAX_ROW_AGG","COLOR_BAR_SIZE","AXIS_LABEL_TEXT_SIZE","AXIS_TITLE_TEXT_SIZE","AXIS_MIN_SIZE","AXIS_MAX_SIZE","AXIS_MARGIN","THEME_TO_TEXT_COLOR","dark","light","AXIS_FONT_FAMILY","PIXELATED_TEXTURE_PARAMETERS","GL","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","makeCellStatusMessage","cellInfoFactors","entries","factor","cellLayerDefaultProps","cells","updateStatus","setCellHighlight","coordinateSystem","COORDINATE_SYSTEM","CARTESIAN","pickable","autoHighlight","stroked","filled","getElevation","onHover","info","object","cellId","cellInfo","factors","DEFAULT_DARK_COLOR","DEFAULT_LIGHT_COLOR","getDefaultColor","theme","PALETTE","VIEWER_PALETTE","COLORMAP_OPTIONS","DEFAULT_GL_OPTIONS","webgl2","createDefaultUpdateStatus","componentName","message","console","warn","createDefaultUpdateCellsSelection","cellsSelection","createDefaultUpdateCellsHover","hoverInfo","createDefaultUpdateGenesHover","geneId","createDefaultUpdateViewInfo","createDefaultClearPleaseWait","copyUint8Array","arr","newBuffer","ArrayBuffer","buffer","byteLength","newArr","Uint8Array","getNextNumberedNodeName","nodes","prefix","find","n","name","setCellSelection","cellSelection","additionalCellSets","cellSetColor","setCellSetSelection","setAdditionalCellSets","setCellSetColor","setCellColorEncoding","CELL_SELECTIONS_LEVEL_ZERO_NAME","selectionsLevelZeroNode","tree","nextAdditionalCellSets","version","HIERARCHICAL_SCHEMAS","SETS_DATATYPE_CELL","latestVersion","datatype","nextName","children","colorIndex","d","nextPath","path","color","mergeCellSets","cellSets","createWarningComponent","props","title","PRIMARY_CARD","asEsModule","__esModule","default","formatBytes","bytes","decimals","k","dm","sizes","Math","floor","log","parseFloat","pow","toFixed","getStatsForResolution","resolution","height","width","depth","depthDownsampled","max","totalBytes","canLoadResolution","maxHeapSize","window","performance","memory","jsHeapSizeLimit","maxSize","FILE_EXTENSION_JSON","MIME_TYPE_JSON","FILE_EXTENSION_TABULAR","MIME_TYPE_TABULAR","SEPARATOR_TABULAR","NA_VALUE_TABULAR","cell","schema","cellSetsSchema","TABULAR_SCHEMAS","cellSetsTabularSchema","getWindowDimensions","innerWidth","innerHeight","useVitessceContainer","ref","closest","VITESSCE_CONTAINER","useWindowDimensions","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","onResizeDebounced","debounce","trailing","addEventListener","removeEventListener","useGridItemSize","containerRef","setHeight","setWidth","onWindowResize","container","containerRect","getBoundingClientRect","useDeckCanvasSize","deckRef","canvas","deck","canvasRect","useReady","supportedItems","items","waiting","setWaiting","setItemIsReady","readyItem","waitingItems","nextWaitingItems","item","JSON","stringify","setItemIsNotReady","notReadyItem","resetReadyItems","isReady","useUrls","urls","setUrls","addUrl","url","prev","resetUrls","useClosestVitessceContainerSize","componentHeight","clientHeight","componentWidth","clientWidth","useExpressionValueGetter","attrs","expressionData","cellIdMap","result","rows","getExpressionValue","entry","cellIndex","LoaderValidationError","datasetType","datasetFileType","datasetUrl","reason","AbstractLoaderError","LoaderNotFoundError","callbackOnKeyPress","event","callback","preventDefault","colorArrayToString","rgbArray","tinycolor","g","b","toHexString","colorStringToArray","colorString","colorObj","toRgb","getLevelTooltipText","subs","j","repeat","isEqualOrPrefix","targetPath","testPath","isEqual","tryRenamePath","nextTargetPath","PATH_SEP","pathToKey","generateKey","uuidv4","nodeToSet","currNode","flatMap","c","nodeToHeight","newLevel","childrenHeights","getNodeLength","acc","curr","nodeFindNodeByNamePath","node","currLevelIndex","currNodeName","foundNodes","child","treeFindNodeByNamePath","currTree","targetNamePath","levelZeroNode","nodeTransform","predicate","transform","transformedPaths","currPath","newPath","concat","nodeTransformAll","newNode","nodeAppendChild","newChild","nodePrependChild","nodeInsertChild","insertIndex","newChildren","from","treeToUnion","checkedPaths","nodeSets","a","h","hEl","treeToIntersection","treeToComplement","primaryUnion","el","nodeToLevelDescendantNamePaths","prevPath","stopEarly","treeExport","treeExportLevelZeroNode","nodePath","cellSetColors","nodeWithColors","nPath","nodeColor","treeWithOneLevelZeroNode","treeToExport","nodeName","treeExportSet","setToExport","treeInitialize","nodeToRenderProps","nodeKey","size","isLeaf","colorMixWithUncertainty","originalColor","p","mixingColor","treeToCellColorsBySetNames","selectedNamePaths","cellColorsArray","setNamePath","nodeSet","prob","isNil","Map","treeToObjectsBySetNames","setColor","cellsArray","obsId","treeToCellPolygonsBySetNames","mapping","cellSetPolygons","cellPositions","mappings","points","turfFeatureCollection","turfPoint","concavity","Infinity","hullCoords","concaveman","centroidCoords","centroid","geometry","coordinates","hull","treeToSetSizesBySetNames","filterNode","filterPath","treeToExpectedCheckedLevel","lzn","levelZeroPath","levelIndex","levelNodePaths","treesConflict","testCellSets","paths","testPaths","hasConflict","getPaths","getTestPaths","initializeCellSetColor","nextCellSetColor","nodeCountPerTreePerLevel","fill","processNode","hierarchyLevel","treeIndex","index","getCellSetPolygons","params","cellSetSelection","COORDINATION_TYPES","DATASET","EMBEDDING_TYPE","EMBEDDING_ZOOM","EMBEDDING_ROTATION","EMBEDDING_TARGET_X","EMBEDDING_TARGET_Y","EMBEDDING_TARGET_Z","EMBEDDING_CELL_SET_POLYGONS_VISIBLE","EMBEDDING_CELL_SET_LABELS_VISIBLE","EMBEDDING_CELL_SET_LABEL_SIZE","EMBEDDING_CELL_RADIUS","EMBEDDING_CELL_OPACITY","EMBEDDING_CELL_RADIUS_MODE","EMBEDDING_CELL_OPACITY_MODE","SPATIAL_ZOOM","SPATIAL_ROTATION","SPATIAL_TARGET_X","SPATIAL_TARGET_Y","SPATIAL_TARGET_Z","SPATIAL_ROTATION_X","SPATIAL_ROTATION_Y","SPATIAL_ROTATION_Z","SPATIAL_ROTATION_ORBIT","SPATIAL_ORBIT_AXIS","SPATIAL_AXIS_FIXED","HEATMAP_ZOOM_X","HEATMAP_ZOOM_Y","HEATMAP_TARGET_X","HEATMAP_TARGET_Y","CELL_FILTER","CELL_HIGHLIGHT","CELL_SET_SELECTION","CELL_SET_HIGHLIGHT","CELL_SET_COLOR","GENE_FILTER","GENE_HIGHLIGHT","GENE_SELECTION","GENE_EXPRESSION_COLORMAP","GENE_EXPRESSION_TRANSFORM","GENE_EXPRESSION_COLORMAP_RANGE","CELL_COLOR_ENCODING","SPATIAL_RASTER_LAYERS","SPATIAL_CELLS_LAYER","SPATIAL_MOLECULES_LAYER","SPATIAL_NEIGHBORHOODS_LAYER","GENOMIC_ZOOM_X","GENOMIC_ZOOM_Y","GENOMIC_TARGET_X","GENOMIC_TARGET_Y","ADDITIONAL_CELL_SETS","MOLECULE_HIGHLIGHT","DEFAULT_COORDINATION_VALUES","AUTO_INDEPENDENT_COORDINATION_TYPES","COMPONENT_COORDINATION_TYPES","scatterplot","spatial","heatmap","cellSetSizes","cellSetExpression","status","genes","expressionHistogram","layerController","higlass","genomicProfiles","description","error","warnInConsole","initCoordinationSpace","initialValues","initialValue","shouldInit","equal","useDescription","dataset","setDescription","useCellsData","isRequired","coordinationSetters","initialCoordinationValues","setCells","cellsCount","setCellsCount","load","catch","e","then","payload","coordinationValues","coordinationValuesOrDefault","spatialCellsLayer","DEFAULT_CELLS_LAYER","useCellSetsData","setCellSets","useExpressionMatrixData","expressionMatrix","setExpressionMatrix","cols","matrix","useGeneSelection","selection","geneData","setGeneData","implementsGeneSelection","loadGeneSelection","expressionDataForSelection","sel","geneIndex","numGenes","numCells","useExpressionAttrs","setAttrs","implementsLoadAttrs","loadAttrs","useMoleculesData","molecules","setMolecules","moleculesCount","setMoleculesCount","locationsCount","setLocationsCount","spatialMoleculesLayer","DEFAULT_MOLECULES_LAYER","useNeighborhoodsData","neighborhoods","setNeighborhoods","spatialNeighborhoodsLayer","DEFAULT_NEIGHBORHOODS_LAYER","useRasterData","raster","setRaster","imageLayerLoaders","setImageLayerLoaders","imageLayerMeta","setImageLayerMeta","nextImageLoaders","nextImageMeta","meta","useGenomicProfilesData","genomicProfilesAttrs","setGenomicProfilesAttrs","TOOLTIP_ANCESTOR","CARD","SECONDARY_CARD","BLACK_CARD","TITLE_CARD","SCROLL_CARD","GLOBAL_LABELS","DEFAULT_RASTER_DOMAIN_TYPE","DEFAULT_RASTER_LAYER_PROPS","visible","colormap","opacity","domainType","transparentColor","renderingMode","RENDERING_MODES","ADDITIVE","use3d","radius","DEFAULT_LAYER_TYPE_ORDERING","GLSL_COLORMAPS","GLSL_COLORMAP_DEFAULT","COLORMAP_SHADER_PLACEHOLDER","Error","LoadingIndicator","useStyles","makeStyles","iconButton","border","marginLeft","background","palette","primaryForeground","paddingLeft","paddingRight","borderRadius","backgroundColor","primaryBackgroundLight","marginRight","verticalAlign","overflow","downloadLink","SettingsIconWithArrow","open","PlotOptions","options","setOpen","classes","CloudDownloadIconWithArrow","DownloadOptions","ClosePaneButton","removeGridComponent","TitleInfo","isScroll","isSpatial","childClassName","MuiSpan","styles","span","PopperMenu","buttonIcon","buttonClassName","anchorRef","handleClick","handleClose","id","getTooltipContainer","TransitionProps","paper","box","boxSizing","checkbox","padding","slider","minWidth","sliderValueLabel","primaryBackground","tableContainer","overflowX","labelCell","inputCell","select","fontSize","selectRoot","maxHeight","position","left","top","textAlign","muiTheme","createMuiTheme","type","primary","grey","secondary","primaryBackgroundHighlight","primaryBackgroundInput","primaryBackgroundDim","primaryForegroundDim","primaryForegroundActive","secondaryBackground","secondaryBackgroundDim","secondaryForeground","MuiButtonBase","disableRipple","OptionSelect","classesProp","root","Tooltip2D","parentUuid","sourceUuid","x","y","parentWidth","parentHeight","isTooltipVisible","crosshairWidth","TooltipContent","OptionsContainer","table","tooltipAnchor","pointerEvents","userSelect","tooltipContent","outline","borderCollapse","Tooltip","placementX","setPlacementX","placementY","setPlacementY","flipX","flipY","style","schemeRdBu","schemePlasma","rgbSpline","spline","colors","t","basis","innerBasis","t1","v0","v1","v2","v3","t2","t3","interpolateRgbBasis","interpolateSequentialMulti","min","interpolateRdBu","interpolatePlasma","getCellColors","cellColorEncoding","expressionDataAttrs","geneExpColormap","cellColor","HeatmapCompositeTextLayer","axisTopLabelData","matrixLeft","matrixWidth","viewWidth","targetX","targetY","axisTopTitle","cellWidth","axisOffsetTop","scaleFactor","showAxisTopLabels","axisLabelTop","TextLayer","getText","getPosition","getTextAnchor","getColor","getSize","getAngle","fontFamily","updateTriggers","axisLeftLabelData","matrixTop","matrixHeight","viewHeight","axisLeftTitle","cellHeight","axisOffsetLeft","showAxisLeftLabels","axisLabelLeft","_renderAxisTopLayers","_renderAxisLeftLayers","CompositeLayer","layerName","defaultProps","BitmapLayer","image","async","bounds","compare","desaturate","tintColor","PixelatedBitmapLayer","textureParameters","vertexShader","fragmentShader","aggSizeX","aggSizeY","colorScaleLo","colorScaleHi","HeatmapBitmapLayer","shaders","extensions","extension","_mergeShaders","getShaders","call","fragmentShaderWithColormap","replace","_getShaders","vs","fs","modules","project32","picking","args","loadTexture","oldProps","gl","context","model","delete","_getModel","getAttributeManager","invalidateAll","opts","uniforms","bitmapTexture","setUniforms","uBitmapTexture","uTextureSize","uAggSize","uColorScaleRange","draw","Texture2D","setState","mipmaps","format","LUMINANCE","dataFormat","UNSIGNED_BYTE","getGeneByCellTile","view","tileSize","tileI","tileJ","cellOrdering","tileData","offset","cellI","geneI","sortedCellI","tileSizeRange","getCellByGeneTile","layerFilter","layer","viewport","startsWith","getAxisSizes","transpose","geneLabelMaxLength","cellLabelMaxLength","clamp","mouseToHeatmapPosition","mouseX","mouseY","offsetLeft","offsetTop","numRows","numCols","viewMouseX","viewMouseY","bboxTargetX","bboxTargetY","bboxLeft","bboxTop","zoomedOffsetLeft","zoomedOffsetTop","zoomedViewMouseX","zoomedViewMouseY","zoomedMouseX","zoomedMouseY","rowI","colI","heatmapToMousePosition","minY","maxY","totalHeight","minInViewY","maxInViewY","inViewHeight","normalizedRowY","globalRowY","minX","maxX","totalWidth","minInViewX","maxInViewX","inViewWidth","normalizedRowX","globalRowX","defaultPoolSize","navigator","hardwareConcurrency","Pool","Worker","workers","idleWorkers","waitQueue","decoder","w","idleWorker","pop","waiter","promise","Promise","resolve","currentWorker","terminate","HeatmapPool","waitForWorker","reject","onmessage","finishTask","onerror","postMessage","Heatmap","forwardRef","rawViewState","viewState","setViewState","expression","cellColors","colormapRange","clearPleaseWait","setGeneHighlight","updateViewInfo","setIsRendering","variablesTitle","observationsTitle","target","minZoom","workerPool","HeatmapWorkerPool","tilesRef","dataRef","axisLeftLabels","setAxisLeftLabels","axisTopLabels","setAxisTopLabels","useReducer","tileIteration","incTileIteration","backlog","setBacklog","newCellOrdering","oldCellOrdering","matrixRight","matrixBottom","xTiles","ceil","yTiles","widthRatio","heightRatio","tileWidth","tileHeight","zoom","log2","project","onViewStateChange","nextViewState","nextZoom","nextScaleFactor","minTargetX","maxTargetX","minTargetY","maxTargetY","nextTarget","promises","process","all","tiles","tile","currWork","currIndex","heatmapLayers","getLayer","layers","textLayers","cellColorsTiles","colorBarTileWidthPx","colorBarTileHeightPx","Uint8ClampedArray","tileY","get","rValue","gValue","bValue","ImageData","cellColorsLayers","offsetCenter","obsI","varI","varId","OrthographicView","controller","interactionState","isDragging","HeatmapTooltipSubscriber","getCellInfo","getGeneInfo","cellHighlight","geneHighlight","cellCoord","geneInfo","geneCoord","HeatmapOptions","geneExpressionColormap","setGeneExpressionColormap","geneExpressionColormapRange","setGeneExpressionColormapRange","handleGeneExpressionColormapChange","handleColormapRangeChange","handleColormapRangeChangeDebounced","cmap","valueLabel","HEATMAP_DATA_TYPES","HeatmapSubscriber","observationsLabelOverride","observationsLabel","observationsPluralLabelOverride","observationsPluralLabel","variablesLabelOverride","variablesLabel","variablesPluralLabelOverride","variablesPluralLabel","disableTooltip","zoomX","heatmapZoomX","heatmapTargetX","heatmapTargetY","geneSelection","setZoomX","setHeatmapZoomX","setZoomY","setHeatmapZoomY","setTargetX","setHeatmapTargetX","setTargetY","setHeatmapTargetY","isRendering","mergedCellSets","genesCount","selectedCount","module","exports","require"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;AClFA,kC;;;;;;;;;ACAe;AACf;AACA,C;;ACFe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,+BAA+B;AAC5E;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,C;;;;;ACzBe;AACf;AACA,C;;ACFA;AAA8C;AACY;AACY;AACtB;AACjC;AACf,SAAS,eAAc,SAAS,qBAAoB,YAAY,qDAA0B,YAAY,gBAAe;AACrH,C;;;;;;;ACNA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA,C;;;;;;;ACbA;AAAA;AAA8C;;AAE9C;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEe;AACf,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA,QAAQ,uEAAc;AACtB,OAAO;AACP,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,C;;;;;;;;;;;;AClCkD;AACnC;AACf,iCAAiC,2CAAgB;AACjD,C;;ACHe;AACf;AACA,C;;;;;ACFe;AACf;AACA,C;;ACFA;AAAoD;AA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","file":"heatmap.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 171);\n","module.exports = require(\"react\");","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import { useRef, useCallback, useMemo } from 'react';\nimport create from 'zustand';\nimport createContext from 'zustand/context';\nimport shallow from 'zustand/shallow';\nimport { fromEntries, capitalize } from '../../utils';\n\n// Reference: https://github.com/pmndrs/zustand#react-context\n// Reference: https://github.com/pmndrs/zustand/blob/e47ea03/tests/context.test.tsx#L60\nconst {\n  Provider: ViewConfigProviderLocal,\n  useStore: useViewConfigStoreLocal,\n  useStoreApi: useViewConfigStoreApiLocal,\n} = createContext();\n\nexport const ViewConfigProvider = ViewConfigProviderLocal;\nexport const useViewConfigStore = useViewConfigStoreLocal;\nexport const useViewConfigStoreApi = useViewConfigStoreApiLocal;\n\nconst {\n  Provider: AuxiliaryProviderLocal,\n  useStore: useAuxiliaryStoreLocal,\n} = createContext();\n\nexport const AuxiliaryProvider = AuxiliaryProviderLocal;\nexport const useAuxiliaryStore = useAuxiliaryStoreLocal;\n\n\n/**\n * The useViewConfigStore hook is initialized via the zustand\n * create() function, which sets up both the state variables\n * and the reducer-type functions.\n * Reference: https://github.com/react-spring/zustand\n * @returns {function} The useStore hook.\n */\nexport const createViewConfigStore = () => create(set => ({\n  // State:\n  // The viewConfig is an object which must conform to the schema\n  // found in src/schemas/config.schema.json.\n  viewConfig: null,\n  // The loaders object is a mapping from dataset ID to\n  // data type to loader object instance.\n  loaders: null,\n  // Reducer functions which update the state\n  // (although technically also part of state):\n  setViewConfig: viewConfig => set({ viewConfig }),\n  setLoaders: loaders => set({ loaders }),\n  setCoordinationValue: ({ parameter, scope, value }) => set(state => ({\n    viewConfig: {\n      ...state.viewConfig,\n      coordinationSpace: {\n        ...state.viewConfig.coordinationSpace,\n        [parameter]: {\n          ...state.viewConfig.coordinationSpace[parameter],\n          [scope]: value,\n        },\n      },\n    },\n  })),\n  removeComponent: i => set((state) => {\n    const newLayout = state.viewConfig.layout.slice();\n    newLayout.splice(i, 1);\n    return {\n      viewConfig: {\n        ...state.viewConfig,\n        layout: newLayout,\n      },\n    };\n  }),\n  changeLayout: newComponentProps => set((state) => {\n    const newLayout = state.viewConfig.layout.slice();\n    newComponentProps.forEach(([i, newProps]) => {\n      newLayout[i] = {\n        ...newLayout[i],\n        ...newProps,\n      };\n    });\n    return {\n      viewConfig: {\n        ...state.viewConfig,\n        layout: newLayout,\n      },\n    };\n  }),\n}));\n\n/**\n * Hook for getting components' layout from the view config based on\n * matching all coordination scopes.\n * @returns {Object} The components' layout.\n */\nexport const useComponentLayout = (component, scopes, coordinationScopes) => useViewConfigStore(\n  state => state.viewConfig.layout.filter(l => l.component === component).filter(\n    l => scopes.every(scope => l.coordinationScopes[scope]\n          === coordinationScopes[scope]),\n  ),\n);\n\n/**\n * The useAuxiliaryStore hook is initialized via the zustand\n * create() function, which sets up both the state variables\n * and the reducer-type functions.\n * Reference: https://github.com/react-spring/zustand\n * It is meant to be used for non-viewconfig-based coordination between components.\n * For example, as currently happens, the layer controller can coordinate\n * on-load callbacks with spatial view based on whether or not they are\n * coordinated via `spatialRasterLayers` - the callbacks are not part of the view config\n * though so they live here.\n * @returns {function} The useStore hook.\n */\nexport const createAuxiliaryStore = () => create(set => ({\n  auxiliaryStore: null,\n  setCoordinationValue: ({ parameter, scope, value }) => set(state => ({\n    auxiliaryStore: {\n      ...state.auxiliaryStore,\n      [parameter]: {\n        [scope]: value,\n      },\n    },\n  })),\n}));\n\n/**\n * The hover store can be used to store global state\n * related to which component is currently hovered,\n * which is required for tooltip / crossover elements.\n * @returns {function} The useStore hook.\n */\nconst useHoverStore = create(set => ({\n  // Components may need to know if they are the \"hover source\"\n  // for tooltip interactions. This value should be a unique\n  // component ID, such as its index in the view config layout.\n  componentHover: null,\n  setComponentHover: componentHover => set({ componentHover }),\n}));\n\n/**\n * The warning store can be used to store global state\n * related to app warning messages.\n * @returns {function} The useStore hook.\n */\nconst useWarnStore = create(set => ({\n  // Want a global state to collect warning messages\n  // that occur anywhere in the app.\n  warning: null,\n  setWarning: warning => set({ warning }),\n}));\n\n/**\n * The view info store can be used to store component-level\n * viewInfo objects,\n * which are required for tooltip / crossover elements.\n * @returns {function} The useStore hook.\n */\nconst useViewInfoStore = create(set => ({\n  // The viewInfo object is a mapping from\n  // component IDs to component view info objects.\n  // Each view info object must have a project() function.\n  viewInfo: {},\n  setComponentViewInfo: (uuid, viewInfo) => set(state => ({\n    viewInfo: {\n      ...state.viewInfo,\n      [uuid]: viewInfo,\n    },\n  })),\n}));\n\n/**\n * The grid size store can be used to store a\n * counter which updates on each window or react-grid-layout\n * resize event.\n * @returns {function} The useStore hook.\n */\nconst useGridSizeStore = create(set => ({\n  resizeCount: {},\n  incrementResizeCount: () => set(state => ({\n    resizeCount: state.resizeCount + 1,\n  })),\n}));\n\n/**\n * The useCoordination hook returns both the\n * values and setter functions for the coordination objects\n * in a particular coordination scope mapping.\n * This hook is intended to be used within the ___Subscriber\n * components to allow them to \"hook into\" only those coordination\n * objects and setter functions of relevance.\n * @param {string[]} parameters Array of coordination types.\n * @param {object} coordinationScopes Mapping of coordination types\n * to scope names.\n * @returns {array} Returns a tuple [values, setters]\n * where values is an object containing all coordination values,\n * and setters is an object containing all coordination setter\n * functions for the values in `values`, named with a \"set\"\n * prefix.\n */\nexport function useCoordination(parameters, coordinationScopes) {\n  const setCoordinationValue = useViewConfigStore(state => state.setCoordinationValue);\n\n  const values = useViewConfigStore((state) => {\n    const { coordinationSpace } = state.viewConfig;\n    return fromEntries(parameters.map((parameter) => {\n      if (coordinationSpace && coordinationSpace[parameter]) {\n        const value = coordinationSpace[parameter][coordinationScopes[parameter]];\n        return [parameter, value];\n      }\n      return [parameter, undefined];\n    }));\n  }, shallow);\n\n  const setters = useMemo(() => fromEntries(parameters.map((parameter) => {\n    const setterName = `set${capitalize(parameter)}`;\n    const setterFunc = value => setCoordinationValue({\n      parameter,\n      scope: coordinationScopes[parameter],\n      value,\n    });\n    return [setterName, setterFunc];\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  })), [parameters, coordinationScopes]);\n\n  return [values, setters];\n}\n\nconst AUXILIARY_COORDINATION_TYPES_MAP = {\n  spatialRasterLayers: ['rasterLayersCallbacks', 'areLoadingRasterChannnels'],\n};\n\n/**\n * The maps the coordination types of incoming scopes to new types\n * for the auxiliary store.\n * @param {object} coordinationScopes Mapping of coordination types\n * to scope names.\n * @returns {object} Mapping of coordination types\n * to new scope names for the auxiliary store.\n */\nconst mapCoordinationScopes = (coordinationScopes) => {\n  const newCoordinationScopes = {};\n  Object.keys(coordinationScopes).forEach((key) => {\n    const newCoordinationTypes = AUXILIARY_COORDINATION_TYPES_MAP[key] || [];\n    newCoordinationTypes.forEach((coordinationType) => {\n      newCoordinationScopes[coordinationType || key] = coordinationScopes[key];\n    });\n  });\n  return newCoordinationScopes;\n};\n\nconst mapParameters = parameters => parameters\n  .map(parameter => AUXILIARY_COORDINATION_TYPES_MAP[parameter]).filter(Boolean).flat();\n\n/**\n * The useAuxiliaryCoordination hook returns both the\n * values and setter functions for the auxiliary coordination objects\n * in a particular coordination scope mapping.\n * This hook is intended to be used within the ___Subscriber\n * components to allow them to \"hook into\" only those auxiliary coordination\n * objects and setter functions of relevance, for example \"on load\" callbacks.\n * @param {string[]} parameters Array of coordination types.\n * @param {object} coordinationScopes Mapping of coordination types\n * to scope names.\n * @returns {array} Returns a tuple [values, setters]\n * where values is an object containing all coordination values,\n * and setters is an object containing all coordination setter\n * functions for the values in `values`, named with a \"set\"\n * prefix.\n */\nexport function useAuxiliaryCoordination(parameters, coordinationScopes) {\n  const setCoordinationValue = useAuxiliaryStore(state => state.setCoordinationValue);\n  const mappedCoordinationScopes = mapCoordinationScopes(coordinationScopes);\n  const mappedParameters = mapParameters(parameters);\n  const values = useAuxiliaryStore((state) => {\n    const { auxiliaryStore } = state;\n    return fromEntries(mappedParameters.map((parameter) => {\n      if (auxiliaryStore && auxiliaryStore[parameter]) {\n        const value = auxiliaryStore[parameter][mappedCoordinationScopes[parameter]];\n        return [parameter, value];\n      }\n      return [parameter, undefined];\n    }));\n  }, shallow);\n  const setters = useMemo(() => fromEntries(mappedParameters.map((parameter) => {\n    const setterName = `set${capitalize(parameter)}`;\n    const setterFunc = value => setCoordinationValue({\n      parameter,\n      scope: mappedCoordinationScopes[parameter],\n      value,\n    });\n    return [setterName, setterFunc];\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  })), [parameters, coordinationScopes]);\n\n  return [values, setters];\n}\n\n/**\n * Obtain the loaders object from\n * the global app state.\n * @returns {object} The loaders object\n * in the `useViewConfigStore` store.\n */\nexport function useLoaders() {\n  return useViewConfigStore(state => state.loaders);\n}\n\n/**\n * Obtain the view config layout array from\n * the global app state.\n * @returns {object[]} The layout array\n * in the `useViewConfigStore` store.\n */\nexport function useLayout() {\n  return useViewConfigStore(state => state.viewConfig?.layout);\n}\n\n/**\n * Obtain the component removal function from\n * the global app state.\n * @returns {function} The remove component function\n * in the `useViewInfoStore` store.\n */\nexport function useRemoveComponent() {\n  return useViewConfigStore(state => state.removeComponent);\n}\n\n/**\n * Obtain the component prop setter function from\n * the global app state.\n * @returns {function} The set component props function\n * in the `useViewInfoStore` store.\n */\nexport function useChangeLayout() {\n  return useViewConfigStore(state => state.changeLayout);\n}\n\n/**\n * Obtain the loaders setter function from\n * the global app state.\n * @returns {function} The loaders setter function\n * in the `useViewConfigStore` store.\n */\nexport function useSetLoaders() {\n  return useViewConfigStore(state => state.setLoaders);\n}\n\n/**\n * Obtain the view config setter function from\n * the global app state.\n * @returns {function} The view config setter function\n * in the `useViewConfigStore` store.\n */\nexport function useSetViewConfig(viewConfigStoreApi) {\n  const setViewConfigRef = useRef(viewConfigStoreApi.getState().setViewConfig);\n  const setViewConfig = setViewConfigRef.current;\n  return setViewConfig;\n}\n\n/**\n * Obtain the component hover value from\n * the global app state.\n * @returns {number} The hovered component ID\n * in the `useHoverStore` store.\n */\nexport function useComponentHover() {\n  return useHoverStore(state => state.componentHover);\n}\n\n/**\n * Obtain the component hover setter function from\n * the global app state.\n * @returns {function} The component hover setter function\n * in the `useHoverStore` store.\n */\nexport function useSetComponentHover() {\n  return useHoverStore(state => state.setComponentHover);\n}\n\n/**\n * Obtain the warning message from\n * the global app state.\n * @returns {string} The warning message\n * in the `useWarnStore` store.\n */\nexport function useWarning() {\n  return useWarnStore(state => state.warning);\n}\n\n/**\n * Obtain the warning setter function from\n * the global app state.\n * @returns {function} The warning setter function\n * in the `useWarnStore` store.\n */\nexport function useSetWarning() {\n  return useWarnStore(state => state.setWarning);\n}\n\n/**\n * Obtain the component view info value from\n * the global app state.\n * @returns {object} The view info object for the component\n * in the `useViewInfoStore` store.\n */\nexport function useComponentViewInfo(uuid) {\n  return useViewInfoStore(useCallback(state => state.viewInfo[uuid], [uuid]));\n}\n\n/**\n * Obtain the component view info setter function from\n * the global app state.\n * @returns {function} The component view info setter function\n * in the `useViewInfoStore` store.\n */\nexport function useSetComponentViewInfo(uuid) {\n  const setViewInfoRef = useRef(useViewInfoStore.getState().setComponentViewInfo);\n  const setComponentViewInfo = viewInfo => setViewInfoRef.current(uuid, viewInfo);\n  return setComponentViewInfo;\n}\n\n/**\n * Obtain the grid resize count value\n * from the global app state.\n * @returns {number} The grid resize increment value.\n */\nexport function useGridResize() {\n  return useGridSizeStore(state => state.resizeCount);\n}\n\n/**\n * Obtain the grid resize count increment function\n * from the global app state.\n * @returns {function} The grid resize count increment\n * function.\n */\nexport function useEmitGridResize() {\n  return useGridSizeStore(state => state.incrementResizeCount);\n}\n","module.exports = require(\"regenerator-runtime\");\n","/* eslint-disable no-plusplus */\n\n// Adapted from https://github.com/feross/fromentries/blob/29b52a850bb3a47c390937631c2638edf3443942/index.js\nexport function fromEntries(iterable) {\n  return [...iterable]\n    .reduce((obj, { 0: key, 1: val }) => Object.assign(obj, { [key]: val }), {});\n}\n\nexport function range(length) {\n  return [...Array(length).keys()];\n}\n\n/**\n * Select between a singular and plural version of a word,\n * based on an item count.\n * @param {string} singular The singular version of the word.\n * @param {string} plural The plural version of the word.\n * @param {number} count The number of items.\n * @returns {string} Singular if count is one, else plural.\n */\nexport function pluralize(singular, plural, count) {\n  return (count === 1 ? singular : plural);\n}\n\n/**\n * Capitalize a the first letter of a string.\n * @param {string} word A string to capitalize.\n * @returns {string} The word parameter with the first letter capitalized.\n */\nexport function capitalize(word) {\n  return word.charAt(0).toUpperCase() + word.slice(1);\n}\n\n/**\n * Generate a new scope name which does not\n * conflict / overlap with a previous scope name.\n * Really these just need to be unique within the coordination object.\n * So in theory they could be String(Math.random()) or uuidv4() or something.\n * However it may be good to make them more human-readable and memorable\n * since eventually we will want to expose a UI to update the coordination.\n * @param {string[]} prevScopes Previous scope names.\n * @returns {string} The new scope name.\n */\nexport function getNextScope(prevScopes) {\n  // Keep an ordered list of valid characters.\n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n  // Store the value of the next character for each position\n  // in the new string.\n  // For example, [0] -> \"A\", [1] -> \"B\", [0, 1] -> \"AB\"\n  const nextCharIndices = [0];\n\n  // Generate a new scope name,\n  // potentially conflicting with an existing name.\n  // Reference: https://stackoverflow.com/a/12504061\n  function next() {\n    const r = [];\n    nextCharIndices.forEach((charIndex) => {\n      r.unshift(chars[charIndex]);\n    });\n    let increment = true;\n    for (let i = 0; i < nextCharIndices.length; i++) {\n      const val = ++nextCharIndices[i];\n      if (val >= chars.length) {\n        nextCharIndices[i] = 0;\n      } else {\n        increment = false;\n        break;\n      }\n    }\n    if (increment) {\n      nextCharIndices.push(0);\n    }\n    return r.join('');\n  }\n\n  let nextScope;\n  do {\n    nextScope = next();\n  } while (prevScopes.includes(nextScope));\n  return nextScope;\n}\n\n/**\n * Get a representative PixelSource from a loader object returned from\n * the Vitessce imaging loaders\n * @param {object} loader { data: (PixelSource[]|PixelSource), metadata, channels } object\n * @param {number=} level Level of the multiscale loader from which to get a PixelSource\n * @returns {object} PixelSource object\n */\nexport function getSourceFromLoader(loader, level) {\n  const { data } = loader;\n  const source = Array.isArray(data) ? data[(level || data.length - 1)] : data;\n  return source;\n}\n\n/*\n * Helper method to determine whether pixel data is interleaved and rgb or not.\n * @param {object} loader\n */\nexport function isRgb(loader) {\n  const source = getSourceFromLoader(loader);\n  const { shape, dtype, labels } = source;\n  const channelSize = shape[labels.indexOf('c')];\n  return (channelSize === 3) && dtype === 'Uint8';\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import GL from '@luma.gl/constants'; // eslint-disable-line import/no-extraneous-dependencies\n\nexport const TILE_SIZE = 2048;\nexport const MIN_ROW_AGG = 1;\nexport const MAX_ROW_AGG = 16;\n\nexport const COLOR_BAR_SIZE = 20;\nexport const AXIS_LABEL_TEXT_SIZE = 9;\nexport const AXIS_TITLE_TEXT_SIZE = 15;\nexport const AXIS_MIN_SIZE = 10;\nexport const AXIS_MAX_SIZE = 90;\nexport const AXIS_MARGIN = 3;\nexport const THEME_TO_TEXT_COLOR = {\n  dark: [224, 224, 224],\n  light: [64, 64, 64],\n};\nexport const AXIS_FONT_FAMILY = \"-apple-system, 'Helvetica Neue', Arial, sans-serif\";\n\nexport const PIXELATED_TEXTURE_PARAMETERS = {\n  // NEAREST for integer data to prevent interpolation.\n  [GL.TEXTURE_MIN_FILTER]: GL.NEAREST,\n  [GL.TEXTURE_MAG_FILTER]: GL.NEAREST,\n  // CLAMP_TO_EDGE to remove tile artifacts.\n  [GL.TEXTURE_WRAP_S]: GL.CLAMP_TO_EDGE,\n  [GL.TEXTURE_WRAP_T]: GL.CLAMP_TO_EDGE,\n};\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import React from 'react';\nimport { COORDINATE_SYSTEM } from '@deck.gl/core'; // eslint-disable-line import/no-extraneous-dependencies\nimport {\n  SETS_DATATYPE_CELL,\n  HIERARCHICAL_SCHEMAS,\n} from './sets/constants';\nimport { PRIMARY_CARD } from './classNames';\n\nexport function makeCellStatusMessage(cellInfoFactors) {\n  return Object.entries(cellInfoFactors).map(\n    ([factor, value]) => `${factor}: ${value}`,\n  ).join('; ');\n}\n\nexport function cellLayerDefaultProps(cells, updateStatus, setCellHighlight, setComponentHover) {\n  return {\n    coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,\n    data: cells,\n    pickable: true,\n    autoHighlight: true,\n    stroked: true,\n    filled: true,\n    getElevation: 0,\n    onHover: (info) => {\n      // Notify the parent component that its child component is\n      // the \"hover source\".\n      if (setComponentHover) {\n        setComponentHover();\n      }\n      if (info.object) {\n        const [cellId, cellInfo] = info.object;\n        const { factors = {} } = cellInfo;\n        if (updateStatus) {\n          updateStatus(makeCellStatusMessage(factors));\n        }\n        if (setCellHighlight) {\n          setCellHighlight(cellId);\n        }\n      } else if (setCellHighlight) {\n        // Clear the currently-hovered cell info by passing null.\n        setCellHighlight('');\n      }\n    },\n  };\n}\n\nexport const DEFAULT_DARK_COLOR = [50, 50, 50];\nexport const DEFAULT_LIGHT_COLOR = [200, 200, 200];\n\nexport function getDefaultColor(theme) {\n  return theme === 'dark' ? DEFAULT_DARK_COLOR : DEFAULT_LIGHT_COLOR;\n}\n\n// From https://personal.sron.nl/~pault/#sec:qualitative\nexport const PALETTE = [\n  [68, 119, 170],\n  [136, 204, 238],\n  [68, 170, 153],\n  [17, 119, 51],\n  [153, 153, 51],\n  [221, 204, 119],\n  [204, 102, 119],\n  [136, 34, 85],\n  [170, 68, 153],\n];\n\nexport const VIEWER_PALETTE = [\n  [0, 0, 255],\n  [0, 255, 0],\n  [255, 0, 255],\n  [255, 255, 0],\n  [0, 255, 255],\n  [255, 255, 255],\n  [255, 128, 0],\n  [255, 0, 0],\n];\n\nexport const COLORMAP_OPTIONS = [\n  'viridis',\n  'greys',\n  'magma',\n  'jet',\n  'hot',\n  'bone',\n  'copper',\n  'summer',\n  'density',\n  'inferno',\n];\n\nexport const DEFAULT_GL_OPTIONS = { webgl2: true };\n\nexport function createDefaultUpdateStatus(componentName) {\n  return message => console.warn(`${componentName} updateStatus: ${message}`);\n}\n\nexport function createDefaultUpdateCellsSelection(componentName) {\n  return cellsSelection => console.warn(`${componentName} updateCellsSelection: ${cellsSelection}`);\n}\n\nexport function createDefaultUpdateCellsHover(componentName) {\n  return hoverInfo => console.warn(`${componentName} updateCellsHover: ${hoverInfo.cellId}`);\n}\n\nexport function createDefaultUpdateGenesHover(componentName) {\n  return hoverInfo => console.warn(`${componentName} updateGenesHover: ${hoverInfo.geneId}`);\n}\n\nexport function createDefaultUpdateViewInfo(componentName) {\n  return viewInfo => console.warn(`${componentName} updateViewInfo: ${viewInfo}`);\n}\n\nexport function createDefaultClearPleaseWait() {\n  return () => {};\n}\n\n\n/**\n * Copy a typed array into a new array buffer.\n * @param {Uint8Array} arr The typed array to be copied.\n * @returns {Uint8Array} The copied array.\n */\nexport function copyUint8Array(arr) {\n  const newBuffer = new ArrayBuffer(arr.buffer.byteLength);\n  const newArr = new Uint8Array(newBuffer);\n  newArr.set(arr);\n  return newArr;\n}\n\nexport function getNextNumberedNodeName(nodes, prefix) {\n  let i = 1;\n  if (nodes) {\n    // eslint-disable-next-line no-loop-func\n    while (nodes.find(n => n.name === `${prefix}${i}`)) {\n      // eslint-disable-next-line no-plusplus\n      i++;\n    }\n  }\n  return `${prefix}${i}`;\n}\n\n/**\n * Create a new selected cell set based on a cell selection.\n * @param {string[]} cellSelection An array of cell IDs.\n * @param {object[]} additionalCellSets The previous array of user-defined cell sets.\n * @param {function} setCellSetSelection The setter function for cell set selections.\n * @param {function} setAdditionalCellSets The setter function for user-defined cell sets.\n */\nexport function setCellSelection(cellSelection, additionalCellSets, cellSetColor, setCellSetSelection, setAdditionalCellSets, setCellSetColor, setCellColorEncoding, prefix = 'Selection ') {\n  const CELL_SELECTIONS_LEVEL_ZERO_NAME = 'My Selections';\n\n  const selectionsLevelZeroNode = additionalCellSets?.tree.find(\n    n => n.name === CELL_SELECTIONS_LEVEL_ZERO_NAME,\n  );\n  const nextAdditionalCellSets = {\n    version: HIERARCHICAL_SCHEMAS[SETS_DATATYPE_CELL].latestVersion,\n    datatype: SETS_DATATYPE_CELL,\n    tree: [...(additionalCellSets ? additionalCellSets.tree : [])],\n  };\n\n  const nextName = getNextNumberedNodeName(selectionsLevelZeroNode?.children, prefix);\n  let colorIndex = 0;\n  if (selectionsLevelZeroNode) {\n    colorIndex = selectionsLevelZeroNode.children.length;\n    selectionsLevelZeroNode.children.push({\n      name: nextName,\n      set: cellSelection.map(d => [d, null]),\n    });\n  } else {\n    nextAdditionalCellSets.tree.push({\n      name: CELL_SELECTIONS_LEVEL_ZERO_NAME,\n      children: [\n        {\n          name: nextName,\n          set: cellSelection.map(d => [d, null]),\n        },\n      ],\n    });\n  }\n  setAdditionalCellSets(nextAdditionalCellSets);\n  const nextPath = ['My Selections', nextName];\n  setCellSetColor([\n    ...(cellSetColor || []),\n    {\n      path: nextPath,\n      color: PALETTE[colorIndex % PALETTE.length],\n    },\n  ]);\n  setCellSetSelection([nextPath]);\n  setCellColorEncoding('cellSetSelection');\n}\n\nexport function mergeCellSets(cellSets, additionalCellSets) {\n  return {\n    version: HIERARCHICAL_SCHEMAS[SETS_DATATYPE_CELL].latestVersion,\n    datatype: SETS_DATATYPE_CELL,\n    tree: [\n      ...(cellSets ? cellSets.tree : []),\n      ...(additionalCellSets ? additionalCellSets.tree : []),\n    ],\n  };\n}\n\nexport function createWarningComponent(props) {\n  return () => {\n    const {\n      title,\n      message,\n    } = props;\n    return (\n      <div className={PRIMARY_CARD}>\n        <h1>{title}</h1>\n        <div>{message}</div>\n      </div>\n    );\n  };\n}\n\nexport function asEsModule(component) {\n  return {\n    __esModule: true,\n    default: component,\n  };\n}\n\n\nexport function formatBytes(bytes, decimals = 2) {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  // eslint-disable-next-line no-restricted-properties\n  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;\n}\n\nexport const getStatsForResolution = (loader, resolution) => {\n  const { shape, labels } = loader[resolution];\n  const height = shape[labels.indexOf('y')];\n  const width = shape[labels.indexOf('x')];\n  const depth = shape[labels.indexOf('z')];\n  // eslint-disable-next-line no-bitwise\n  const depthDownsampled = Math.max(1, depth >> resolution);\n  // Check memory allocation limits for Float32Array (used in XR3DLayer for rendering)\n  const totalBytes = 4 * height * width * depthDownsampled;\n  return {\n    height, width, depthDownsampled, totalBytes,\n  };\n};\n\nexport const canLoadResolution = (loader, resolution) => {\n  const {\n    totalBytes, height, width, depthDownsampled,\n  } = getStatsForResolution(\n    loader,\n    resolution,\n  );\n  const maxHeapSize = window.performance?.memory\n    && window.performance?.memory?.jsHeapSizeLimit / 2;\n  const maxSize = maxHeapSize || (2 ** 31) - 1;\n  // 2048 is a normal texture size limit although some browsers go larger.\n  return (\n    totalBytes < maxSize\n    && height <= 2048\n    && depthDownsampled <= 2048\n    && width <= 2048\n    && depthDownsampled > 1\n  );\n};\n","module.exports = require(\"@luma.gl/constants\");","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","module.exports = require(\"lodash/isEqual\");","module.exports = require(\"@material-ui/core/styles\");","import cellSetsSchema from '../../schemas/cell-sets.schema.json';\nimport cellSetsTabularSchema from '../../schemas/cell-sets-tabular.schema.json';\n\nexport const FILE_EXTENSION_JSON = 'json';\nexport const MIME_TYPE_JSON = 'application/json';\n\nexport const FILE_EXTENSION_TABULAR = 'csv';\nexport const MIME_TYPE_TABULAR = 'text/csv';\nexport const SEPARATOR_TABULAR = ',';\n// The NA value below corresponds to the allowed string enum\n// value \"NA\" in the cell-sets-tabular JSON schema.\nexport const NA_VALUE_TABULAR = 'NA';\n\nexport const SETS_DATATYPE_CELL = 'cell';\nexport const HIERARCHICAL_SCHEMAS = {\n  cell: {\n    latestVersion: '0.1.3',\n    schema: cellSetsSchema,\n  },\n};\n\nexport const TABULAR_SCHEMAS = {\n  cell: {\n    schema: cellSetsTabularSchema,\n  },\n};\n","import {\n  useRef, useState, useEffect, useCallback, useMemo,\n} from 'react';\nimport debounce from 'lodash/debounce';\nimport { useGridResize, useEmitGridResize } from '../app/state/hooks';\nimport { VITESSCE_CONTAINER } from './classNames';\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height,\n  };\n}\n\nexport function useVitessceContainer(ref) {\n  return useCallback(() => {\n    if (ref.current) {\n      return ref.current.closest(`.${VITESSCE_CONTAINER}`);\n    }\n    return null;\n  }, [ref]);\n}\n\n/**\n * Custom hook, gets the full window dimensions.\n * @returns {array} `[width, height]` where width and height\n * are numbers.\n */\nexport function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions(),\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n    const onResizeDebounced = debounce(handleResize, 100, { trailing: true });\n\n    window.addEventListener('resize', onResizeDebounced);\n    return () => window.removeEventListener('resize', onResizeDebounced);\n  }, []);\n\n  return windowDimensions;\n}\n\n/**\n * Custom hook, subscribes to GRID_RESIZE and window resize events.\n * @returns {array} `[width, height, containerRef]` where width and height\n * are numbers and containerRef is a React ref.\n */\nexport function useGridItemSize() {\n  const containerRef = useRef();\n\n  const [height, setHeight] = useState();\n  const [width, setWidth] = useState();\n\n  const resizeCount = useGridResize();\n  const incrementResizeCount = useEmitGridResize();\n\n  // On window resize events, increment the grid resize count.\n  useEffect(() => {\n    function onWindowResize() {\n      incrementResizeCount();\n    }\n    const onResizeDebounced = debounce(onWindowResize, 100, { trailing: true });\n    window.addEventListener('resize', onResizeDebounced);\n    onWindowResize();\n    return () => {\n      window.removeEventListener('resize', onResizeDebounced);\n    };\n  }, [incrementResizeCount]);\n\n  // On new grid resize counts, re-compute the component\n  // width/height.\n  useEffect(() => {\n    if (!containerRef.current) return;\n    const container = containerRef.current;\n    const containerRect = container.getBoundingClientRect();\n    setHeight(containerRect.height);\n    setWidth(containerRect.width);\n  }, [resizeCount]);\n\n  return [width, height, containerRef];\n}\n\n/**\n * Custom hook, subscribes to GRID_RESIZE and window resize events.\n * @returns {array} `[width, height, deckRef]` where width and height\n * are numbers and deckRef is a React ref to be used with\n * a <DeckGL/> element (or a forwardRef to one).\n */\nexport function useDeckCanvasSize() {\n  const deckRef = useRef();\n\n  const [height, setHeight] = useState();\n  const [width, setWidth] = useState();\n\n  const resizeCount = useGridResize();\n  const incrementResizeCount = useEmitGridResize();\n\n  // On window resize events, increment the grid resize count.\n  useEffect(() => {\n    function onWindowResize() {\n      incrementResizeCount();\n    }\n    const onResizeDebounced = debounce(onWindowResize, 100, { trailing: true });\n    window.addEventListener('resize', onResizeDebounced);\n    onWindowResize();\n    return () => {\n      window.removeEventListener('resize', onResizeDebounced);\n    };\n  }, [incrementResizeCount]);\n\n  // On new grid resize counts, re-compute the DeckGL canvas\n  // width/height.\n  useEffect(() => {\n    if (!deckRef.current) return;\n    const { canvas } = deckRef.current.deck;\n    const canvasRect = canvas.getBoundingClientRect();\n    setHeight(canvasRect.height);\n    setWidth(canvasRect.width);\n  }, [resizeCount]);\n\n  return [width, height, deckRef];\n}\n\n/**\n * This hook handles a boolean isReady value,\n * which only returns true once every item in the\n * input list has been marked as \"ready\".\n * @param {string[]} items The items to wait on.\n * Should be defined as a constant\n * (outside a function component / render function),\n * otherwise strange bugs may occur.\n * @returns {array} An array\n * [isReady, setItemIsReady, setItemIsNotReady, resetReadyItems]\n * where isReady is the boolean value,\n * setItemIsReady marks one item as ready,\n * setItemIsNotReady marks one item as not ready,\n * and resetReadyItem marks all items as waiting.\n */\nexport function useReady(supportedItems) {\n  const items = supportedItems;\n  const [waiting, setWaiting] = useState(items);\n\n  const setItemIsReady = useCallback((readyItem) => {\n    setWaiting((waitingItems) => {\n      const nextWaitingItems = waitingItems.filter(item => item !== readyItem);\n      // eslint-disable-next-line no-console\n      console.log(`cleared ${readyItem}; waiting on ${nextWaitingItems.length}: ${JSON.stringify(nextWaitingItems)}`);\n      return nextWaitingItems;\n    });\n  }, [setWaiting]);\n\n  const setItemIsNotReady = useCallback((notReadyItem) => {\n    setWaiting((waitingItems) => {\n      const nextWaitingItems = [...waitingItems, notReadyItem];\n      // eslint-disable-next-line no-console\n      console.log(`waiting on ${nextWaitingItems.length}: ${JSON.stringify(nextWaitingItems)}`);\n      return nextWaitingItems;\n    });\n  }, [setWaiting]);\n\n  const resetReadyItems = useCallback(() => {\n    setWaiting(items);\n    // eslint-disable-next-line no-console\n    console.log(`waiting on ${items.length}: ${JSON.stringify(items)}`);\n  }, [setWaiting, items]);\n\n  const isReady = waiting.length === 0;\n\n  return [isReady, setItemIsReady, setItemIsNotReady, resetReadyItems];\n}\n\n/**\n * This hook manages a list of URLs,\n * with adding and resetting helpers.\n * @returns {array} An array\n * [urls, addUrl, resetUrls]\n * where urls is the array of URL objects,\n * addUrl is a function for adding a URL to the array,\n * resetUrls is a function that clears the array.\n */\nexport function useUrls() {\n  const [urls, setUrls] = useState([]);\n\n  const addUrl = useCallback((url, name) => {\n    if (url) {\n      setUrls(prev => ([...prev, { url, name }]));\n    }\n  }, [setUrls]);\n\n  const resetUrls = useCallback(() => {\n    setUrls([]);\n  }, [setUrls]);\n\n  return [urls, addUrl, resetUrls];\n}\n\n/**\n * Custom hook, subscribes to the width and height of the closest .vitessce-container\n * element and updates upon window resize events.\n * @param {Ref} ref A React ref object within the `.vitessce-container`.\n * @returns {array} `[width, height]` where width and height\n * are numbers.\n */\nexport function useClosestVitessceContainerSize(ref) {\n  const [height, setHeight] = useState();\n  const [width, setWidth] = useState();\n\n  useEffect(() => {\n    function onWindowResize() {\n      if (ref.current) {\n        const {\n          clientHeight: componentHeight, clientWidth: componentWidth,\n        } = ref.current.closest('.vitessce-container');\n        setWidth(componentWidth);\n        setHeight(componentHeight);\n      }\n    }\n    const onResizeDebounced = debounce(onWindowResize, 100, { trailing: true });\n    window.addEventListener('resize', onResizeDebounced);\n    onWindowResize();\n    return () => {\n      window.removeEventListener('resize', onResizeDebounced);\n    };\n  }, [ref]);\n\n  return [width, height];\n}\n\nexport function useExpressionValueGetter({ attrs, expressionData }) {\n  // Get a mapping from cell ID to row index in the gene expression matrix.\n  const cellIdMap = useMemo(() => {\n    const result = {};\n    if (attrs && attrs.rows) {\n      // eslint-disable-next-line no-plusplus\n      for (let i = 0; i < attrs.rows.length; i++) {\n        result[attrs.rows[i]] = i;\n      }\n    }\n    return result;\n  }, [attrs]);\n\n  // Set up a getter function for gene expression values, to be used\n  // by the DeckGL layer to obtain values for instanced attributes.\n  const getExpressionValue = useCallback((entry) => {\n    const cellId = entry[0];\n    if (cellIdMap && expressionData && expressionData[0]) {\n      const cellIndex = cellIdMap[cellId];\n      const val = expressionData[0][cellIndex];\n      return val;\n    }\n    return 0;\n  }, [cellIdMap, expressionData]);\n  return getExpressionValue;\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","module.exports = require(\"@deck.gl/core\");","import AbstractLoaderError from './AbstractLoaderError';\n\nexport default class LoaderValidationError extends AbstractLoaderError {\n  constructor(datasetType, datasetFileType, datasetUrl, reason) {\n    super(`Error while validating ${datasetType}.`);\n    this.name = 'LoaderValidationError';\n\n    this.datasetType = datasetType;\n    this.datasetFileType = datasetFileType;\n    this.datasetUrl = datasetUrl;\n    this.reason = reason;\n  }\n\n  warnInConsole() {\n    const {\n      datasetType, datasetUrl, reason,\n    } = this;\n    console.warn(\n      `${datasetType} from ${datasetUrl}: validation failed`,\n      JSON.stringify(reason, null, 2),\n    );\n  }\n}\n","import AbstractLoaderError from './AbstractLoaderError';\n\nexport default class LoaderNotFoundError extends AbstractLoaderError {\n  constructor(datasetType, datasetFileType, datasetUrl) {\n    super(`Error finding loader for ${datasetType}.`);\n    this.name = 'LoaderNotFoundError';\n\n    this.datasetType = datasetType;\n    this.datasetFileType = datasetFileType;\n    this.datasetUrl = datasetUrl;\n  }\n\n  warnInConsole() {\n    const {\n      datasetType, datasetFileType, datasetUrl,\n    } = this;\n    if (datasetFileType && datasetUrl) {\n      console.warn(\n        `${datasetType} from ${datasetUrl}: unable to find loader for fileType ${datasetFileType}`,\n      );\n    } else {\n      console.warn(\n        `${datasetType}: unable to find loader`,\n      );\n    }\n  }\n}\n","export { default as AbstractLoaderError } from './AbstractLoaderError';\nexport { default as LoaderValidationError } from './LoaderValidationError';\nexport { default as LoaderNotFoundError } from './LoaderNotFoundError';\n","module.exports = require(\"@hms-dbmi/viv\");","import tinycolor from 'tinycolor2';\nimport isEqual from 'lodash/isEqual';\n\n/**\n * Execute a callback function based on a keypress event.\n * @param {object} event The event from onKeyPress\n * @param {string} key The key identifier to match.\n * @param {Function} callback The function to execute.\n */\nexport function callbackOnKeyPress(event, key, callback) {\n  if (event.key === key) {\n    event.preventDefault();\n    callback();\n  }\n}\n\n/**\n * Convert an array of [r, g, b] numbers to a hex color.\n * @param {number[]} rgbArray The color [r, g, b] array.\n * @returns {string} The hex color as a string.\n */\nexport function colorArrayToString(rgbArray) {\n  return tinycolor({ r: rgbArray[0], g: rgbArray[1], b: rgbArray[2] }).toHexString();\n}\n\n/**\n * Convert a string color representation to an array of [r,g,b].\n * @param {string} colorString The color as a string.\n * @returns {number[]} The color as an array.\n */\nexport function colorStringToArray(colorString) {\n  const colorObj = tinycolor(colorString).toRgb();\n  return [colorObj.r, colorObj.g, colorObj.b];\n}\n\n/**\n * Get a string of help text for coloring a particular hierarchy level.\n * @param {integer} i The level. 1 for cluster, 2 for subcluster, etc.\n * @returns {string} The tooltip text for coloring the level.\n */\nexport function getLevelTooltipText(i) {\n  if (i === 0) return 'Color by hierarchy';\n  if (i <= 2) {\n    const subs = j => ('sub'.repeat(j));\n    return `Color by ${subs(i - 1)}cluster`;\n  }\n  return `Color by cluster level ${i}`;\n}\n\nexport function isEqualOrPrefix(targetPath, testPath) {\n  if (targetPath.length <= testPath.length) {\n    return isEqual(targetPath, testPath.slice(0, targetPath.length));\n  }\n  return false;\n}\n\nexport function tryRenamePath(targetPath, testPath, nextTargetPath) {\n  if (isEqualOrPrefix(targetPath, testPath)) {\n    return [...nextTargetPath, ...testPath.slice(nextTargetPath.length)];\n  }\n  return testPath;\n}\n\nexport const PATH_SEP = '___';\n\nexport function pathToKey(path) {\n  return path.join(PATH_SEP);\n}\n","/* eslint-disable no-underscore-dangle */\nimport uuidv4 from 'uuid/v4';\nimport isNil from 'lodash/isNil';\nimport isEqual from 'lodash/isEqual';\nimport range from 'lodash/range';\nimport { featureCollection as turfFeatureCollection, point as turfPoint } from '@turf/helpers';\nimport centroid from '@turf/centroid';\nimport concaveman from 'concaveman';\nimport {\n  HIERARCHICAL_SCHEMAS,\n} from './constants';\nimport { getDefaultColor, PALETTE } from '../utils';\nimport { pathToKey } from './utils';\n\n/**\n * Alias for the uuidv4 function to make code more readable.\n * @returns {string} UUID.\n */\nfunction generateKey() {\n  return uuidv4();\n}\n\n/**\n * Get the set associated with a particular node.\n * Recursive.\n * @param {object} currNode A node object.\n * @returns {array} The array representing the set associated with the node.\n */\nexport function nodeToSet(currNode) {\n  if (!currNode) {\n    return [];\n  }\n  if (!currNode.children) {\n    return (currNode.set || []);\n  }\n  return currNode.children.flatMap(c => nodeToSet(c));\n}\n\n/**\n * Get the height of a node (the number of levels to reach a leaf).\n * @param {object} currNode A node object.\n * @param {number} level The level that the height will be computed relative to. By default, 0.\n * @returns {number} The height. If the node has a .children property,\n * then the minimum value returned is 1.\n */\nexport function nodeToHeight(currNode, level = 0) {\n  if (!currNode.children) {\n    return level;\n  }\n  const newLevel = level + 1;\n  const childrenHeights = currNode.children.map(c => nodeToHeight(c, newLevel));\n  return Math.max(...childrenHeights, newLevel);\n}\n\n/**\n * Get the size associated with a particular node.\n * Recursive.\n * @param {object} currNode A node object.\n * @returns {number} The length of all the node's children\n */\nexport function getNodeLength(currNode) {\n  if (!currNode) {\n    return 0;\n  }\n  if (!currNode.children) {\n    return (currNode.set?.length || 0);\n  }\n  return currNode.children.reduce((acc, curr) => acc + getNodeLength(curr), 0);\n}\n\n/**\n * Find a node with a matching name path, relative to a particular node.\n * @param {object} node A node object.\n * @param {string[]} path The name path for the node of interest.\n * @param {number} currLevelIndex The index of the current hierarchy level.\n * @returns {object|null} A matching node object, or null if none is found.\n */\nfunction nodeFindNodeByNamePath(node, path, currLevelIndex) {\n  const currNodeName = path[currLevelIndex];\n  if (node.name === currNodeName) {\n    if (currLevelIndex === path.length - 1) {\n      return node;\n    }\n    if (node.children) {\n      const foundNodes = node.children\n        .map(child => nodeFindNodeByNamePath(child, path, currLevelIndex + 1))\n        .filter(Boolean);\n      if (foundNodes.length === 1) {\n        return foundNodes[0];\n      }\n    }\n  }\n  return null;\n}\n\n/**\n * Find a node with a matching name path, relative to the whole tree.\n * @param {object} currTree A tree object.\n * @param {string[]} targetNamePath The name path for the node of interest.\n * @returns {object|null} A matching node object, or null if none is found.\n */\nexport function treeFindNodeByNamePath(currTree, targetNamePath) {\n  const foundNodes = currTree.tree\n    .map(levelZeroNode => nodeFindNodeByNamePath(levelZeroNode, targetNamePath, 0))\n    .filter(Boolean);\n  if (foundNodes.length === 1) {\n    return foundNodes[0];\n  }\n  return null;\n}\n\n/**\n * Transform a node object using a transform function.\n * @param {object} node A node object.\n * @param {function} predicate Returns true if a node matches a condition of interest.\n * @param {function} transform Takes the node matching the predicate as input, returns\n * a transformed version of the node.\n * @param {array} transformedPaths This array parameter is mutated. The path of\n * each transformed node is appended to this array.\n * @param {string[]} The current path of the node being updated, used internally\n * during recursion.\n * @returns {object} The updated node.\n */\nexport function nodeTransform(node, predicate, transform, transformedPaths, currPath) {\n  let newPath;\n  if (!currPath) {\n    newPath = [node.name];\n  } else {\n    newPath = [...currPath];\n  }\n  if (predicate(node, newPath)) {\n    transformedPaths.push(newPath);\n    return transform(node, newPath);\n  }\n  if (node.children) {\n    return {\n      ...node,\n      children: node.children.map(\n        child => nodeTransform(\n          child, predicate, transform, transformedPaths, newPath.concat([child.name]),\n        ),\n      ),\n    };\n  }\n  return node;\n}\n\n/**\n * Transform many node objects using a transform function.\n * @param {object} node A node object.\n * @param {function} predicate Returns true if a node matches a condition of interest.\n * @param {function} transform Takes the node matching the predicate as input, returns\n * a transformed version of the node.\n * @param {array} transformedPaths This array parameter is mutated. The path of\n * each transformed node is appended to this array.\n * @param {string[]} The current path of the node being updated, used internally\n * during recursion.\n * @returns {object} The updated node.\n */\nexport function nodeTransformAll(node, predicate, transform, transformedPaths, currPath) {\n  let newPath;\n  if (!currPath) {\n    newPath = [node.name];\n  } else {\n    newPath = [...currPath];\n  }\n  let newNode = node;\n  if (predicate(node, newPath)) {\n    transformedPaths.push(newPath);\n    newNode = transform(node, newPath);\n  }\n  if (node.children) {\n    return {\n      ...newNode,\n      children: newNode.children.map(\n        child => nodeTransformAll(\n          child, predicate, transform, transformedPaths, newPath.concat([child.name]),\n        ),\n      ),\n    };\n  }\n  return newNode;\n}\n\n/**\n * Append a child to a parent node.\n * @param {object} currNode A node object.\n * @param {object} newChild The child node object.\n * @returns {object} The updated node.\n */\nexport function nodeAppendChild(currNode, newChild) {\n  return {\n    ...currNode,\n    children: [...currNode.children, newChild],\n  };\n}\n\n/**\n * Prepend a child to a parent node.\n * @param {object} currNode A node object.\n * @param {object} newChild The child node object.\n * @returns {object} The updated node.\n */\nexport function nodePrependChild(currNode, newChild) {\n  return {\n    ...currNode,\n    children: [newChild, ...currNode.children],\n  };\n}\n\n/**\n * Insert a child to a parent node.\n * @param {object} currNode A node object.\n * @param {*} newChild The child node object.\n * @param {*} insertIndex The index at which to insert the child.\n * @returns {object} The updated node.\n */\nexport function nodeInsertChild(currNode, newChild, insertIndex) {\n  const newChildren = Array.from(currNode.children);\n  newChildren.splice(insertIndex, 0, newChild);\n  return {\n    ...currNode,\n    children: newChildren,\n  };\n}\n\n/**\n * Get an array representing the union of the sets of checked nodes.\n * @param {object} currTree A tree object.\n * @returns {array} An array representing the union of the sets of checked nodes.\n */\nexport function treeToUnion(currTree, checkedPaths) {\n  const nodes = checkedPaths.map(path => treeFindNodeByNamePath(currTree, path));\n  const nodeSets = nodes.map(node => nodeToSet(node).map(([cellId]) => cellId));\n  return nodeSets\n    .reduce((a, h) => a.concat(h.filter(hEl => !a.includes(hEl))), nodeSets[0] || []);\n}\n\n/**\n * Get an array representing the intersection of the sets of checked nodes.\n * @param {object} currTree A tree object.\n * @returns {array} An array representing the intersection of the sets of checked nodes.\n */\nexport function treeToIntersection(currTree, checkedPaths) {\n  const nodes = checkedPaths.map(path => treeFindNodeByNamePath(currTree, path));\n  const nodeSets = nodes.map(node => nodeToSet(node).map(([cellId]) => cellId));\n  return nodeSets\n    .reduce((a, h) => h.filter(hEl => a.includes(hEl)), nodeSets[0] || []);\n}\n\n/**\n * Get an array representing the complement of the union of the sets of checked nodes.\n * @param {object} currTree\n * @returns {array} An array representing the complement of the\n * union of the sets of checked nodes.\n */\nexport function treeToComplement(currTree, checkedPaths, items) {\n  const primaryUnion = treeToUnion(currTree, checkedPaths);\n  return items.filter(el => !primaryUnion.includes(el));\n}\n\n/**\n * Get an flattened array of descendants at a particular relative\n * level of interest.\n * @param {object} node A node object.\n * @param {number} level The relative level of interest.\n * 0 for this node's children, 1 for grandchildren, etc.\n * @param {boolean} stopEarly Should a node be returned early if no children exist?\n * @returns {object[]} An array of descendants at the specified level,\n * where the level is relative to the node.\n */\nexport function nodeToLevelDescendantNamePaths(node, level, prevPath, stopEarly = false) {\n  if (!node.children) {\n    if (!stopEarly) {\n      return null;\n    }\n    return [[...prevPath, node.name]];\n  }\n  if (level === 0) {\n    return [[...prevPath, node.name]];\n  }\n  return node.children\n    .flatMap(c => nodeToLevelDescendantNamePaths(c, level - 1, [...prevPath, node.name], stopEarly))\n    .filter(Boolean);\n}\n\n/**\n * Export the tree by clearing tree state and all node states.\n * @param {object} currTree A tree object.\n * @returns {object} Tree object with tree and node state removed.\n */\nexport function treeExport(currTree, datatype) {\n  return {\n    version: HIERARCHICAL_SCHEMAS[datatype].latestVersion,\n    datatype,\n    tree: currTree.tree,\n  };\n}\n\n/**\n * Export the tree by clearing tree state and all node states,\n * and filter so that only the level zero node of interest is included.\n * @param {object} currTree A tree object.\n * @param {string} nodePath The path of the node of interest.\n * @param {string} dataType Datatype (i.e cell sets)\n * @param {Array} cellSetColors Array of objects of cell set colors and paths\n * @param {string} theme \"light\" or \"dark\" for the vitessce theme\n * @returns {object} { treeToExport, nodeName }\n * Tree with one level zero node, and with state removed.\n */\nexport function treeExportLevelZeroNode(currTree, nodePath, datatype, cellSetColors, theme) {\n  const node = treeFindNodeByNamePath(currTree, nodePath);\n  const nodeWithColors = nodeTransformAll(node, () => true, (n, nPath) => {\n    const nodeColor = cellSetColors?.find(c => isEqual(c.path, nPath))?.color\n      ?? getDefaultColor(theme);\n    return {\n      ...n,\n      color: nodeColor.slice(0, 3),\n    };\n  }, []);\n  const treeWithOneLevelZeroNode = {\n    ...currTree,\n    tree: [nodeWithColors],\n  };\n  return {\n    treeToExport: treeExport(treeWithOneLevelZeroNode, datatype),\n    nodeName: node.name,\n  };\n}\n\n/**\n * Prepare the set of a node of interest for export.\n * @param {object} currTree A tree object.\n * @param {string} nodeKey The key of the node of interest.\n * @returns {object} { setToExport, nodeName } The set as an array.\n */\nexport function treeExportSet(currTree, nodePath) {\n  const node = treeFindNodeByNamePath(currTree, nodePath);\n  return { setToExport: nodeToSet(node), nodeName: node.name };\n}\n\n/**\n * Get an empty tree, with a default tree state.\n * @param {string} datatype The type of sets that this tree contains.\n * @returns {object} Empty tree.\n */\nexport function treeInitialize(datatype) {\n  return {\n    version: HIERARCHICAL_SCHEMAS[datatype].latestVersion,\n    datatype,\n    tree: [],\n  };\n}\n\n/**\n * For convenience, get an object with information required\n * to render a node as a component.\n * @param {object} node A node to be rendered.\n * @returns {object} An object containing properties required\n * by the TreeNode render functions.\n */\nexport function nodeToRenderProps(node, path, cellSetColor) {\n  const level = path.length - 1;\n  return {\n    title: node.name,\n    nodeKey: pathToKey(path),\n    path,\n    size: getNodeLength(node),\n    color: cellSetColor?.find(d => isEqual(d.path, path))?.color,\n    level,\n    isLeaf: (!node.children || node.children.length === 0) && Boolean(node.set),\n    height: nodeToHeight(node),\n  };\n}\n\n/**\n * Using a color and a probability, mix the color with an \"uncertainty\" color,\n * for example, gray.\n * Reference: https://github.com/bgrins/TinyColor/blob/80f7225029c428c0de0757f7d98ac15f497bee57/tinycolor.js#L701\n * @param {number[]} originalColor The color assignment for the class.\n * @param {number} p The mixing amount, or level certainty in the originalColor classification,\n * between 0 and 1.\n * @param {number[]} mixingColor The color with which to mix. By default, [128, 128, 128] gray.\n * @returns {number[]} Returns the color after mixing.\n */\nfunction colorMixWithUncertainty(originalColor, p, mixingColor = [128, 128, 128]) {\n  return [\n    ((originalColor[0] - mixingColor[0]) * p) + mixingColor[0],\n    ((originalColor[1] - mixingColor[1]) * p) + mixingColor[1],\n    ((originalColor[2] - mixingColor[2]) * p) + mixingColor[2],\n  ];\n}\n\n/**\n * Given a tree with state, get the cellIds and cellColors,\n * based on the nodes currently marked as \"visible\".\n * @param {object} currTree A tree object.\n *  @param {array} selectedNamePaths Array of arrays of strings,\n * representing set \"paths\".\n * @param {object[]} cellSetColor Array of objects with the\n * properties `path` and `color`.\n * @param {string} theme \"light\" or \"dark\" for the vitessce theme\n * @returns {array} Tuple of [cellIds, cellColors]\n * where cellIds is an array of strings,\n * and cellColors is an object mapping cellIds to color [r,g,b] arrays.\n */\nexport function treeToCellColorsBySetNames(currTree, selectedNamePaths, cellSetColor, theme) {\n  let cellColorsArray = [];\n  selectedNamePaths.forEach((setNamePath) => {\n    const node = treeFindNodeByNamePath(currTree, setNamePath);\n    if (node) {\n      const nodeSet = nodeToSet(node);\n      const nodeColor = (\n        cellSetColor?.find(d => isEqual(d.path, setNamePath))?.color\n        || getDefaultColor(theme)\n      );\n      cellColorsArray = [\n        ...cellColorsArray,\n        ...nodeSet.map(([cellId, prob]) => [\n          cellId,\n          (isNil(prob) ? nodeColor : colorMixWithUncertainty(nodeColor, prob)),\n        ]),\n      ];\n    }\n  });\n  return new Map(cellColorsArray);\n}\n\n/**\n * Given a tree with state, get an array of\n * objects with cellIds and cellColors,\n * based on the nodes currently marked as \"visible\".\n * @param {object} currTree A tree object.\n * @param {array} selectedNamePaths Array of arrays of strings,\n * representing set \"paths\".\n * @param {object[]} setColor Array of objects with the\n * properties `path` and `color`\n * @param {string} theme \"light\" or \"dark\" for the vitessce theme.\n * @returns {object[]} Array of objects with properties\n * `obsId`, `name`, and `color`.\n */\nexport function treeToObjectsBySetNames(currTree, selectedNamePaths, setColor, theme) {\n  let cellsArray = [];\n  for (let i = 0; i < selectedNamePaths.length; i += 1) {\n    const setNamePath = selectedNamePaths[i];\n    const node = treeFindNodeByNamePath(currTree, setNamePath);\n    if (node) {\n      const nodeSet = nodeToSet(node);\n      const nodeColor = (\n        setColor?.find(d => isEqual(d.path, setNamePath))?.color\n        || getDefaultColor(theme)\n      );\n      cellsArray = cellsArray.concat(nodeSet.map(([cellId]) => ({\n        obsId: cellId,\n        name: node.name,\n        color: nodeColor,\n      })));\n    }\n  }\n  return cellsArray;\n}\n\nexport function treeToCellPolygonsBySetNames(\n  currTree, cells, mapping, selectedNamePaths, cellSetColor, theme,\n) {\n  const cellSetPolygons = [];\n  selectedNamePaths.forEach((setNamePath) => {\n    const node = treeFindNodeByNamePath(currTree, setNamePath);\n    if (node) {\n      const nodeSet = nodeToSet(node);\n      const nodeColor = (\n        cellSetColor?.find(d => isEqual(d.path, setNamePath))?.color\n        || getDefaultColor(theme)\n      );\n      const cellPositions = nodeSet\n        .map(([cellId]) => ([\n          cells[cellId]?.mappings[mapping][0],\n          -cells[cellId]?.mappings[mapping][1],\n        ]))\n        .filter(cell => cell.every(i => typeof i === 'number'));\n\n      if (cellPositions.length > 2) {\n        const points = turfFeatureCollection(\n          cellPositions.map(turfPoint),\n        );\n        const concavity = Infinity;\n        const hullCoords = concaveman(cellPositions, concavity);\n        if (hullCoords) {\n          const centroidCoords = centroid(points).geometry.coordinates;\n          cellSetPolygons.push({\n            path: setNamePath,\n            name: setNamePath[setNamePath.length - 1],\n            hull: hullCoords,\n            color: nodeColor,\n            centroid: centroidCoords,\n          });\n        }\n      }\n    }\n  });\n  return cellSetPolygons;\n}\n\n/**\n * Given a tree with state, get the sizes of the\n * sets currently marked as \"visible\".\n * @param {object} currTree A tree object.\n * @param {array} selectedNamePaths Array of arrays of strings,\n * representing set \"paths\".\n * @param {object[]} setColor Array of objects with the\n * properties `path` and `color`.\n * @param {string} theme \"light\" or \"dark\" for the vitessce theme\n * @returns {object[]} Array of objects\n * with the properties `name`, `size`, `key`,\n * and `color`.\n */\nexport function treeToSetSizesBySetNames(currTree, selectedNamePaths, setColor, theme) {\n  const sizes = [];\n  selectedNamePaths.forEach((setNamePath) => {\n    const node = treeFindNodeByNamePath(currTree, setNamePath);\n    if (node) {\n      const nodeSet = nodeToSet(node);\n      const nodeColor = setColor.find(d => isEqual(d.path, setNamePath))?.color\n        || getDefaultColor(theme);\n      sizes.push({\n        key: generateKey(),\n        name: node.name,\n        size: nodeSet.length,\n        color: nodeColor,\n      });\n    }\n  });\n  return sizes;\n}\n\n/**\n * Find and remove a node from the descendants of the current node.\n * @param {object} node A node to search on.\n * @param {array} prevPath Path of the current node to be searched.\n * @param {array} filterPath The path sought.\n * @returns {object} A new node without a node at filterPath.\n */\nexport function filterNode(node, prevPath, filterPath) {\n  if (isEqual([...prevPath, node.name], filterPath)) {\n    return null;\n  }\n  if (!node.children) {\n    return node;\n  }\n  return {\n    ...node,\n    children: node.children.map(\n      c => filterNode(c, [...prevPath, node.name], filterPath),\n    ).filter(Boolean),\n  };\n}\n\nexport function treeToExpectedCheckedLevel(currTree, checkedPaths) {\n  let result = null;\n  if (currTree) {\n    currTree.tree.forEach((lzn) => {\n      const levelZeroPath = [lzn.name];\n      const height = nodeToHeight(lzn);\n      range(height).forEach((i) => {\n        const levelIndex = i + 1;\n        const levelNodePaths = nodeToLevelDescendantNamePaths(lzn, levelIndex, [], true);\n        if (isEqual(levelNodePaths, checkedPaths)) {\n          result = { levelZeroPath, levelIndex };\n        }\n      });\n    });\n  }\n  return result;\n}\n\nexport function treesConflict(cellSets, testCellSets) {\n  const paths = [];\n  const testPaths = [];\n  let hasConflict = false;\n\n  function getPaths(node, prevPath) {\n    paths.push([...prevPath, node.name]);\n    if (node.children) {\n      node.children.forEach(c => getPaths(c, [...prevPath, node.name]));\n    }\n  }\n  cellSets.tree.forEach(lzn => getPaths(lzn, []));\n\n  function getTestPaths(node, prevPath) {\n    testPaths.push([...prevPath, node.name]);\n    if (node.children) {\n      node.children.forEach(c => getPaths(c, [...prevPath, node.name]));\n    }\n  }\n  testCellSets.tree.forEach(lzn => getTestPaths(lzn, []));\n\n  testPaths.forEach((testPath) => {\n    if (paths.find(p => isEqual(p, testPath))) {\n      hasConflict = true;\n    }\n  });\n  return hasConflict;\n}\n\nexport function initializeCellSetColor(cellSets, cellSetColor) {\n  const nextCellSetColor = [...(cellSetColor || [])];\n  const nodeCountPerTreePerLevel = cellSets.tree.map(tree => Array\n    .from({\n      length: nodeToHeight(tree) + 1, // Need to add one because its an array.\n    }).fill(0));\n\n  function processNode(node, prevPath, hierarchyLevel, treeIndex) {\n    const index = nodeCountPerTreePerLevel[treeIndex][hierarchyLevel];\n    const nodePath = [...prevPath, node.name];\n\n    const nodeColor = nextCellSetColor.find(d => isEqual(d.path, nodePath));\n    if (!nodeColor) {\n      nextCellSetColor.push({\n        path: nodePath,\n        color: PALETTE[index % PALETTE.length],\n      });\n    }\n    nodeCountPerTreePerLevel[treeIndex][hierarchyLevel] += 1;\n    if (node.children) {\n      node.children.forEach(c => processNode(c, nodePath, hierarchyLevel + 1, treeIndex));\n    }\n  }\n\n  cellSets.tree.forEach((lzn, treeIndex) => processNode(lzn, [], 0, treeIndex));\n  return nextCellSetColor;\n}\n\nexport function getCellSetPolygons(params) {\n  const {\n    cells,\n    mapping,\n    cellSets,\n    cellSetSelection,\n    cellSetColor,\n    theme,\n  } = params;\n  if (cellSetSelection && cellSetSelection.length > 0 && cellSets && cells) {\n    return treeToCellPolygonsBySetNames(\n      cellSets, cells, mapping, cellSetSelection, cellSetColor, theme,\n    );\n  }\n  return [];\n}\n","/**\n * Constants representing names of coordination types,\n * to help prevent typos.\n */\nexport const COORDINATION_TYPES = {\n  DATASET: 'dataset',\n  EMBEDDING_TYPE: 'embeddingType',\n  EMBEDDING_ZOOM: 'embeddingZoom',\n  EMBEDDING_ROTATION: 'embeddingRotation',\n  EMBEDDING_TARGET_X: 'embeddingTargetX',\n  EMBEDDING_TARGET_Y: 'embeddingTargetY',\n  EMBEDDING_TARGET_Z: 'embeddingTargetZ',\n  EMBEDDING_CELL_SET_POLYGONS_VISIBLE: 'embeddingCellSetPolygonsVisible',\n  EMBEDDING_CELL_SET_LABELS_VISIBLE: 'embeddingCellSetLabelsVisible',\n  EMBEDDING_CELL_SET_LABEL_SIZE: 'embeddingCellSetLabelSize',\n  EMBEDDING_CELL_RADIUS: 'embeddingCellRadius',\n  EMBEDDING_CELL_OPACITY: 'embeddingCellOpacity',\n  EMBEDDING_CELL_RADIUS_MODE: 'embeddingCellRadiusMode',\n  EMBEDDING_CELL_OPACITY_MODE: 'embeddingCellOpacityMode',\n  SPATIAL_ZOOM: 'spatialZoom',\n  SPATIAL_ROTATION: 'spatialRotation',\n  SPATIAL_TARGET_X: 'spatialTargetX',\n  SPATIAL_TARGET_Y: 'spatialTargetY',\n  SPATIAL_TARGET_Z: 'spatialTargetZ',\n  SPATIAL_ROTATION_X: 'spatialRotationX',\n  SPATIAL_ROTATION_Y: 'spatialRotationY',\n  SPATIAL_ROTATION_Z: 'spatialRotationZ',\n  SPATIAL_ROTATION_ORBIT: 'spatialRotationOrbit',\n  SPATIAL_ORBIT_AXIS: 'spatialOrbitAxis',\n  SPATIAL_AXIS_FIXED: 'spatialAxisFixed',\n  HEATMAP_ZOOM_X: 'heatmapZoomX',\n  HEATMAP_ZOOM_Y: 'heatmapZoomY',\n  HEATMAP_TARGET_X: 'heatmapTargetX',\n  HEATMAP_TARGET_Y: 'heatmapTargetY',\n  CELL_FILTER: 'cellFilter',\n  CELL_HIGHLIGHT: 'cellHighlight',\n  CELL_SET_SELECTION: 'cellSetSelection',\n  CELL_SET_HIGHLIGHT: 'cellSetHighlight',\n  CELL_SET_COLOR: 'cellSetColor',\n  GENE_FILTER: 'geneFilter',\n  GENE_HIGHLIGHT: 'geneHighlight',\n  GENE_SELECTION: 'geneSelection',\n  GENE_EXPRESSION_COLORMAP: 'geneExpressionColormap',\n  GENE_EXPRESSION_TRANSFORM: 'geneExpressionTransform',\n  GENE_EXPRESSION_COLORMAP_RANGE: 'geneExpressionColormapRange',\n  CELL_COLOR_ENCODING: 'cellColorEncoding',\n  SPATIAL_RASTER_LAYERS: 'spatialRasterLayers',\n  SPATIAL_CELLS_LAYER: 'spatialCellsLayer',\n  SPATIAL_MOLECULES_LAYER: 'spatialMoleculesLayer',\n  SPATIAL_NEIGHBORHOODS_LAYER: 'spatialNeighborhoodsLayer',\n  GENOMIC_ZOOM_X: 'genomicZoomX',\n  GENOMIC_ZOOM_Y: 'genomicZoomY',\n  GENOMIC_TARGET_X: 'genomicTargetX',\n  GENOMIC_TARGET_Y: 'genomicTargetY',\n  ADDITIONAL_CELL_SETS: 'additionalCellSets',\n  MOLECULE_HIGHLIGHT: 'moleculeHighlight',\n};\n\n/**\n * Coordination types may have default values,\n * which can be defined here, and used by the\n * auto initialization strategy.\n */\nexport const DEFAULT_COORDINATION_VALUES = {\n  [COORDINATION_TYPES.EMBEDDING_ZOOM]: null,\n  [COORDINATION_TYPES.EMBEDDING_ROTATION]: 0,\n  [COORDINATION_TYPES.EMBEDDING_TARGET_X]: null,\n  [COORDINATION_TYPES.EMBEDDING_TARGET_Y]: null,\n  [COORDINATION_TYPES.EMBEDDING_TARGET_Z]: 0,\n  [COORDINATION_TYPES.EMBEDDING_CELL_SET_POLYGONS_VISIBLE]: false,\n  [COORDINATION_TYPES.EMBEDDING_CELL_SET_LABELS_VISIBLE]: false,\n  [COORDINATION_TYPES.EMBEDDING_CELL_SET_LABEL_SIZE]: 14,\n  [COORDINATION_TYPES.EMBEDDING_CELL_RADIUS]: 1,\n  [COORDINATION_TYPES.EMBEDDING_CELL_RADIUS_MODE]: 'auto',\n  [COORDINATION_TYPES.EMBEDDING_CELL_OPACITY]: 1,\n  [COORDINATION_TYPES.EMBEDDING_CELL_OPACITY_MODE]: 'auto',\n  [COORDINATION_TYPES.SPATIAL_ZOOM]: null,\n  [COORDINATION_TYPES.SPATIAL_ROTATION]: 0,\n  [COORDINATION_TYPES.SPATIAL_TARGET_X]: null,\n  [COORDINATION_TYPES.SPATIAL_TARGET_Y]: null,\n  [COORDINATION_TYPES.SPATIAL_TARGET_Z]: null,\n  [COORDINATION_TYPES.SPATIAL_ROTATION_X]: null,\n  [COORDINATION_TYPES.SPATIAL_ROTATION_Y]: null,\n  [COORDINATION_TYPES.SPATIAL_ROTATION_Z]: null,\n  [COORDINATION_TYPES.SPATIAL_AXIS_FIXED]: false,\n  [COORDINATION_TYPES.SPATIAL_ROTATION_ORBIT]: 0,\n  [COORDINATION_TYPES.SPATIAL_ORBIT_AXIS]: 'Y',\n  [COORDINATION_TYPES.SPATIAL_RASTER_LAYERS]: null,\n  [COORDINATION_TYPES.SPATIAL_CELLS_LAYER]: null,\n  [COORDINATION_TYPES.SPATIAL_MOLECULES_LAYER]: null,\n  [COORDINATION_TYPES.SPATIAL_NEIGHBORHOODS_LAYER]: null,\n  [COORDINATION_TYPES.HEATMAP_ZOOM_X]: 0,\n  [COORDINATION_TYPES.HEATMAP_ZOOM_Y]: 0,\n  [COORDINATION_TYPES.HEATMAP_TARGET_X]: 0,\n  [COORDINATION_TYPES.HEATMAP_TARGET_Y]: 0,\n  [COORDINATION_TYPES.GENE_EXPRESSION_COLORMAP]: 'plasma',\n  [COORDINATION_TYPES.GENE_EXPRESSION_COLORMAP_RANGE]: [0.0, 1.0],\n  [COORDINATION_TYPES.GENE_EXPRESSION_TRANSFORM]: null,\n  [COORDINATION_TYPES.GENE_FILTER]: null,\n  [COORDINATION_TYPES.GENE_HIGHLIGHT]: null,\n  [COORDINATION_TYPES.GENE_SELECTION]: null,\n  [COORDINATION_TYPES.CELL_FILTER]: null,\n  [COORDINATION_TYPES.CELL_HIGHLIGHT]: null,\n  [COORDINATION_TYPES.CELL_SET_SELECTION]: null,\n  [COORDINATION_TYPES.CELL_SET_HIGHLIGHT]: null,\n  [COORDINATION_TYPES.CELL_SET_COLOR]: null,\n  [COORDINATION_TYPES.CELL_COLOR_ENCODING]: 'cellSetSelection',\n  [COORDINATION_TYPES.GENOMIC_ZOOM_X]: 0,\n  [COORDINATION_TYPES.GENOMIC_ZOOM_Y]: 0,\n  [COORDINATION_TYPES.GENOMIC_TARGET_X]: 1549999999.5,\n  [COORDINATION_TYPES.GENOMIC_TARGET_Y]: 1549999999.5,\n  [COORDINATION_TYPES.ADDITIONAL_CELL_SETS]: null,\n  [COORDINATION_TYPES.MOLECULE_HIGHLIGHT]: null,\n};\n\n// The following coordination types should be\n// initialized to independent scopes when\n// initialized automatically.\n// These make the resulting view config\n// (after auto-initialization) behave\n// like \"legacy\" Vitessce (pre-coordination model).\nexport const AUTO_INDEPENDENT_COORDINATION_TYPES = [\n  COORDINATION_TYPES.HEATMAP_ZOOM_X,\n  COORDINATION_TYPES.HEATMAP_ZOOM_Y,\n  COORDINATION_TYPES.HEATMAP_TARGET_X,\n  COORDINATION_TYPES.HEATMAP_TARGET_Y,\n  COORDINATION_TYPES.EMBEDDING_ZOOM,\n  COORDINATION_TYPES.EMBEDDING_TARGET_X,\n  COORDINATION_TYPES.EMBEDDING_TARGET_Y,\n  COORDINATION_TYPES.EMBEDDING_TARGET_Z,\n  COORDINATION_TYPES.EMBEDDING_CELL_SET_POLYGONS_VISIBLE,\n  COORDINATION_TYPES.EMBEDDING_CELL_SET_LABELS_VISIBLE,\n  COORDINATION_TYPES.EMBEDDING_CELL_SET_LABEL_SIZE,\n  COORDINATION_TYPES.EMBEDDING_CELL_RADIUS,\n  COORDINATION_TYPES.EMBEDDING_CELL_OPACITY,\n];\n\n/**\n   * Mapping from component type to\n   * supported coordination object types.\n   * This mapping can be used to determine\n   * which pieces of state that a component will\n   * need to get/set.\n   * Keys here are the component registry keys.\n   */\nexport const COMPONENT_COORDINATION_TYPES = {\n  scatterplot: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.EMBEDDING_TYPE,\n    COORDINATION_TYPES.EMBEDDING_ZOOM,\n    COORDINATION_TYPES.EMBEDDING_ROTATION,\n    COORDINATION_TYPES.EMBEDDING_TARGET_X,\n    COORDINATION_TYPES.EMBEDDING_TARGET_Y,\n    COORDINATION_TYPES.EMBEDDING_TARGET_Z,\n    COORDINATION_TYPES.EMBEDDING_CELL_SET_POLYGONS_VISIBLE,\n    COORDINATION_TYPES.EMBEDDING_CELL_SET_LABELS_VISIBLE,\n    COORDINATION_TYPES.EMBEDDING_CELL_SET_LABEL_SIZE,\n    COORDINATION_TYPES.EMBEDDING_CELL_RADIUS,\n    COORDINATION_TYPES.EMBEDDING_CELL_RADIUS_MODE,\n    COORDINATION_TYPES.EMBEDDING_CELL_OPACITY,\n    COORDINATION_TYPES.EMBEDDING_CELL_OPACITY_MODE,\n    COORDINATION_TYPES.CELL_FILTER,\n    COORDINATION_TYPES.CELL_HIGHLIGHT,\n    COORDINATION_TYPES.CELL_SET_SELECTION,\n    COORDINATION_TYPES.CELL_SET_HIGHLIGHT,\n    COORDINATION_TYPES.CELL_SET_COLOR,\n    COORDINATION_TYPES.GENE_HIGHLIGHT,\n    COORDINATION_TYPES.GENE_SELECTION,\n    COORDINATION_TYPES.GENE_EXPRESSION_COLORMAP,\n    COORDINATION_TYPES.GENE_EXPRESSION_COLORMAP_RANGE,\n    COORDINATION_TYPES.CELL_COLOR_ENCODING,\n    COORDINATION_TYPES.ADDITIONAL_CELL_SETS,\n  ],\n  spatial: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.SPATIAL_ZOOM,\n    COORDINATION_TYPES.SPATIAL_ROTATION,\n    COORDINATION_TYPES.SPATIAL_RASTER_LAYERS,\n    COORDINATION_TYPES.SPATIAL_CELLS_LAYER,\n    COORDINATION_TYPES.SPATIAL_MOLECULES_LAYER,\n    COORDINATION_TYPES.SPATIAL_NEIGHBORHOODS_LAYER,\n    COORDINATION_TYPES.SPATIAL_TARGET_X,\n    COORDINATION_TYPES.SPATIAL_TARGET_Y,\n    COORDINATION_TYPES.SPATIAL_TARGET_Z,\n    COORDINATION_TYPES.SPATIAL_ROTATION_X,\n    COORDINATION_TYPES.SPATIAL_ROTATION_Y,\n    COORDINATION_TYPES.SPATIAL_ROTATION_Z,\n    COORDINATION_TYPES.SPATIAL_ROTATION_ORBIT,\n    COORDINATION_TYPES.SPATIAL_ORBIT_AXIS,\n    COORDINATION_TYPES.SPATIAL_AXIS_FIXED,\n    COORDINATION_TYPES.CELL_FILTER,\n    COORDINATION_TYPES.CELL_HIGHLIGHT,\n    COORDINATION_TYPES.CELL_SET_SELECTION,\n    COORDINATION_TYPES.CELL_SET_HIGHLIGHT,\n    COORDINATION_TYPES.CELL_SET_COLOR,\n    COORDINATION_TYPES.GENE_HIGHLIGHT,\n    COORDINATION_TYPES.GENE_SELECTION,\n    COORDINATION_TYPES.GENE_EXPRESSION_COLORMAP,\n    COORDINATION_TYPES.GENE_EXPRESSION_COLORMAP_RANGE,\n    COORDINATION_TYPES.CELL_COLOR_ENCODING,\n    COORDINATION_TYPES.ADDITIONAL_CELL_SETS,\n    COORDINATION_TYPES.MOLECULE_HIGHLIGHT,\n  ],\n  heatmap: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.HEATMAP_ZOOM_X,\n    COORDINATION_TYPES.HEATMAP_ZOOM_Y,\n    COORDINATION_TYPES.HEATMAP_TARGET_X,\n    COORDINATION_TYPES.HEATMAP_TARGET_Y,\n    COORDINATION_TYPES.CELL_FILTER,\n    COORDINATION_TYPES.CELL_HIGHLIGHT,\n    COORDINATION_TYPES.CELL_SET_SELECTION,\n    COORDINATION_TYPES.CELL_SET_HIGHLIGHT,\n    COORDINATION_TYPES.CELL_SET_COLOR,\n    COORDINATION_TYPES.GENE_FILTER,\n    COORDINATION_TYPES.GENE_HIGHLIGHT,\n    COORDINATION_TYPES.GENE_SELECTION,\n    COORDINATION_TYPES.GENE_EXPRESSION_COLORMAP,\n    COORDINATION_TYPES.GENE_EXPRESSION_COLORMAP_RANGE,\n    COORDINATION_TYPES.CELL_COLOR_ENCODING,\n    COORDINATION_TYPES.ADDITIONAL_CELL_SETS,\n  ],\n  cellSets: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.CELL_SET_SELECTION,\n    COORDINATION_TYPES.CELL_SET_HIGHLIGHT,\n    COORDINATION_TYPES.CELL_SET_COLOR,\n    COORDINATION_TYPES.CELL_COLOR_ENCODING,\n    COORDINATION_TYPES.ADDITIONAL_CELL_SETS,\n  ],\n  cellSetSizes: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.CELL_SET_SELECTION,\n    COORDINATION_TYPES.CELL_SET_HIGHLIGHT,\n    COORDINATION_TYPES.CELL_SET_COLOR,\n    COORDINATION_TYPES.ADDITIONAL_CELL_SETS,\n  ],\n  cellSetExpression: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.GENE_SELECTION,\n    COORDINATION_TYPES.GENE_EXPRESSION_TRANSFORM,\n    COORDINATION_TYPES.CELL_SET_SELECTION,\n    COORDINATION_TYPES.CELL_SET_HIGHLIGHT,\n    COORDINATION_TYPES.CELL_SET_COLOR,\n    COORDINATION_TYPES.ADDITIONAL_CELL_SETS,\n  ],\n  status: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.CELL_HIGHLIGHT,\n    COORDINATION_TYPES.GENE_HIGHLIGHT,\n    COORDINATION_TYPES.CELL_SET_HIGHLIGHT,\n    COORDINATION_TYPES.MOLECULE_HIGHLIGHT,\n  ],\n  genes: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.GENE_FILTER,\n    COORDINATION_TYPES.GENE_HIGHLIGHT,\n    COORDINATION_TYPES.GENE_SELECTION,\n    COORDINATION_TYPES.CELL_COLOR_ENCODING,\n  ],\n  expressionHistogram: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.GENE_SELECTION,\n  ],\n  layerController: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.SPATIAL_RASTER_LAYERS,\n    COORDINATION_TYPES.SPATIAL_CELLS_LAYER,\n    COORDINATION_TYPES.SPATIAL_MOLECULES_LAYER,\n    COORDINATION_TYPES.SPATIAL_NEIGHBORHOODS_LAYER,\n    COORDINATION_TYPES.SPATIAL_ZOOM,\n    COORDINATION_TYPES.SPATIAL_TARGET_X,\n    COORDINATION_TYPES.SPATIAL_TARGET_Y,\n    COORDINATION_TYPES.SPATIAL_TARGET_Z,\n    COORDINATION_TYPES.SPATIAL_ROTATION_X,\n    COORDINATION_TYPES.SPATIAL_ROTATION_Y,\n    COORDINATION_TYPES.SPATIAL_ROTATION_Z,\n    COORDINATION_TYPES.SPATIAL_ROTATION_ORBIT,\n    COORDINATION_TYPES.SPATIAL_ORBIT_AXIS,\n  ],\n  higlass: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.GENOMIC_ZOOM_X,\n    COORDINATION_TYPES.GENOMIC_ZOOM_Y,\n    COORDINATION_TYPES.GENOMIC_TARGET_X,\n    COORDINATION_TYPES.GENOMIC_TARGET_Y,\n    COORDINATION_TYPES.GENE_FILTER,\n    COORDINATION_TYPES.GENE_HIGHLIGHT,\n    COORDINATION_TYPES.GENE_SELECTION,\n  ],\n  genomicProfiles: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.GENOMIC_ZOOM_X,\n    COORDINATION_TYPES.GENOMIC_ZOOM_Y,\n    COORDINATION_TYPES.GENOMIC_TARGET_X,\n    COORDINATION_TYPES.GENOMIC_TARGET_Y,\n    COORDINATION_TYPES.GENE_FILTER,\n    COORDINATION_TYPES.GENE_HIGHLIGHT,\n    COORDINATION_TYPES.GENE_SELECTION,\n    COORDINATION_TYPES.CELL_SET_SELECTION,\n    COORDINATION_TYPES.CELL_SET_HIGHLIGHT,\n    COORDINATION_TYPES.CELL_SET_COLOR,\n    COORDINATION_TYPES.ADDITIONAL_CELL_SETS,\n  ],\n  description: [\n    COORDINATION_TYPES.DATASET,\n    COORDINATION_TYPES.SPATIAL_RASTER_LAYERS,\n  ],\n};\n","module.exports = require(\"@material-ui/core/TableCell\");","import { useState, useEffect } from 'react';\nimport equal from 'fast-deep-equal';\nimport { capitalize } from '../utils';\nimport { useSetWarning } from '../app/state/hooks';\nimport {\n  AbstractLoaderError,\n  LoaderNotFoundError,\n} from '../loaders/errors/index';\nimport {\n  DEFAULT_MOLECULES_LAYER,\n  DEFAULT_CELLS_LAYER,\n  DEFAULT_NEIGHBORHOODS_LAYER,\n} from './spatial/constants';\nimport { DEFAULT_COORDINATION_VALUES } from '../app/state/coordination';\n\n/**\n * Warn via publishing to the console\n * and to the global warning store.\n * @param {AbstractLoaderError} error An error instance.\n */\nfunction warn(error, setWarning) {\n  setWarning(error.message);\n  console.warn(error.message);\n  if (error instanceof AbstractLoaderError) {\n    error.warnInConsole();\n  }\n}\n\n/**\n * Initialize values in the coordination space.\n * @param {object} values Object where\n * keys are coordination type names,\n * values are initial coordination values.\n * @param {object} setters Object where\n * keys are coordination type names with the prefix 'set',\n * values are coordination setter functions.\n * @param {object} initialValues Object where\n * keys are coordination type names and keys are values.\n */\nfunction initCoordinationSpace(values, setters, initialValues) {\n  if (!values || !setters) {\n    return;\n  }\n  Object.entries(values).forEach(([coordinationType, value]) => {\n    const setterName = `set${capitalize(coordinationType)}`;\n    const setterFunc = setters[setterName];\n    const initialValue = initialValues && initialValues[coordinationType];\n    const shouldInit = equal(initialValue, DEFAULT_COORDINATION_VALUES[coordinationType]);\n    if (shouldInit && setterFunc) {\n      setterFunc(value);\n    }\n  });\n}\n\n/**\n * Get the dataset description string.\n * @param {object} loaders The object mapping\n * datasets and data types to loader instances.\n * @param {string} dataset The key for a dataset,\n * used to identify which loader to use.\n * @returns {array} [description] where\n * description is a string.\n */\nexport function useDescription(loaders, dataset) {\n  const [description, setDescription] = useState();\n\n  useEffect(() => {\n    if (!loaders[dataset]) {\n      return;\n    }\n\n    if (loaders[dataset].description) {\n      setDescription(loaders[dataset].description);\n    } else {\n      setDescription(null);\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaders, dataset]);\n\n  return [description];\n}\n\n/**\n * Get data from a cells data type loader,\n * updating \"ready\" and URL state appropriately.\n * Throw warnings if the data is marked as required.\n * Subscribe to loader updates.\n * @param {object} loaders The object mapping\n * datasets and data types to loader instances.\n * @param {string} dataset The key for a dataset,\n * used to identify which loader to use.\n * @param {function} setItemIsReady A function to call\n * when done loading.\n * @param {function} addUrl A function to call to update\n * the URL list.\n * @param {boolean} isRequired Should a warning be thrown if\n * loading is unsuccessful?\n * @param {object} coordinationSetters Object where\n * keys are coordination type names with the prefix 'set',\n * values are coordination setter functions.\n * @param {object} initialCoordinationValues Object where\n * keys are coordination type names with the prefix 'initialize',\n * values are initialization preferences as boolean values.\n * @returns {array} [cells, cellsCount] where\n * cells is an object and cellsCount is the\n * number of items in the cells object.\n */\nexport function useCellsData(\n  loaders, dataset, setItemIsReady, addUrl, isRequired,\n  coordinationSetters, initialCoordinationValues,\n) {\n  const [cells, setCells] = useState({});\n  const [cellsCount, setCellsCount] = useState(0);\n\n  const setWarning = useSetWarning();\n\n  useEffect(() => {\n    if (!loaders[dataset]) {\n      return;\n    }\n\n    if (loaders[dataset].loaders.cells) {\n      loaders[dataset].loaders.cells.load().catch(e => warn(e, setWarning)).then((payload) => {\n        if (!payload) return;\n        const { data, url, coordinationValues } = payload;\n        setCells(data);\n        setCellsCount(Object.keys(data).length);\n        addUrl(url, 'Cells');\n        // This dataset has cells, so set up the\n        // spatial cells layer coordination value\n        // using the cell layer singleton.\n        const coordinationValuesOrDefault = {\n          spatialCellsLayer: DEFAULT_CELLS_LAYER,\n          ...coordinationValues,\n        };\n        initCoordinationSpace(\n          coordinationValuesOrDefault,\n          coordinationSetters, initialCoordinationValues,\n        );\n        setItemIsReady('cells');\n      });\n    } else {\n      setCells({});\n      setCellsCount(0);\n      if (isRequired) {\n        warn(new LoaderNotFoundError(dataset, 'cells', null, null), setWarning);\n      } else {\n        setItemIsReady('cells');\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaders, dataset]);\n\n  return [cells, cellsCount];\n}\n\n/**\n * Get data from a cell sets data type loader,\n * updating \"ready\" and URL state appropriately.\n * Throw warnings if the data is marked as required.\n * Subscribe to loader updates.\n * @param {object} loaders The object mapping\n * datasets and data types to loader instances.\n * @param {string} dataset The key for a dataset,\n * used to identify which loader to use.\n * @param {function} setItemIsReady A function to call\n * when done loading.\n * @param {function} addUrl A function to call to update\n * the URL list.\n * @param {boolean} isRequired Should a warning be thrown if\n * loading is unsuccessful?\n * @param {object} coordinationSetters Object where\n * keys are coordination type names with the prefix 'set',\n * values are coordination setter functions.\n * @param {object} initialCoordinationValues Object where\n * keys are coordination type names and values are the current values.\n * @returns {array} [cellSets] where\n * cellSets is a sets tree object.\n */\nexport function useCellSetsData(\n  loaders, dataset, setItemIsReady, addUrl, isRequired,\n  coordinationSetters, initialCoordinationValues,\n) {\n  const [cellSets, setCellSets] = useState();\n\n  const setWarning = useSetWarning();\n\n  useEffect(() => {\n    if (!loaders[dataset]) {\n      return;\n    }\n\n    if (loaders[dataset].loaders['cell-sets']) {\n      // Load the data initially.\n      loaders[dataset].loaders['cell-sets'].load().catch(e => warn(e, setWarning)).then((payload) => {\n        if (!payload) return;\n        const { data, url, coordinationValues } = payload;\n        setCellSets(data);\n        addUrl(url, 'Cell Sets');\n        initCoordinationSpace(\n          coordinationValues,\n          coordinationSetters,\n          initialCoordinationValues,\n        );\n        setItemIsReady('cell-sets');\n      });\n    } else {\n      setCellSets(null);\n      if (isRequired) {\n        warn(new LoaderNotFoundError(dataset, 'cell-sets', null, null), setWarning);\n      } else {\n        setItemIsReady('cell-sets');\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaders, dataset]);\n\n  return [cellSets];\n}\n\n/**\n * Get (potentially filtered) data from an expression matrix data type loader,\n * updating \"ready\" and URL state appropriately.\n * Throw warnings if the data is marked as required.\n * Subscribe to loader updates.  Should not be used in conjunction (called in the same component)\n * with useExpressionAttrs as this returns a potentially filtered set of attributes\n * specifically for the returned expression data.\n * @param {object} loaders The object mapping\n * datasets and data types to loader instances.\n * @param {string} dataset The key for a dataset,\n * used to identify which loader to use.\n * @param {function} setItemIsReady A function to call\n * when done loading.\n * @param {function} addUrl A function to call to update\n * the URL list.\n * @param {boolean} isRequired Should a warning be thrown if\n * loading is unsuccessful?\n * @param {object} coordinationSetters Object where\n * keys are coordination type names with the prefix 'set',\n * values are coordination setter functions.\n * @param {object} initialCoordinationValues Object where\n * keys are coordination type names with the prefix 'initialize',\n * values are initialization preferences as boolean values.\n * @returns {array} [expressionMatrix] where\n * expressionMatrix is an object with\n * shape { cols, rows, matrix }.\n */\nexport function useExpressionMatrixData(\n  loaders, dataset, setItemIsReady, addUrl, isRequired,\n  coordinationSetters, initialCoordinationValues,\n) {\n  const [expressionMatrix, setExpressionMatrix] = useState();\n\n  const setWarning = useSetWarning();\n\n  useEffect(() => {\n    if (!loaders[dataset]) {\n      return;\n    }\n\n    if (loaders[dataset].loaders['expression-matrix']) {\n      loaders[dataset].loaders['expression-matrix'].load().catch(e => warn(e, setWarning)).then((payload) => {\n        if (!payload) return;\n        const { data, url, coordinationValues } = payload;\n        const [attrs, arr] = data;\n        setExpressionMatrix({\n          cols: attrs.cols,\n          rows: attrs.rows,\n          matrix: arr.data,\n        });\n        addUrl(url, 'Expression Matrix');\n        initCoordinationSpace(\n          coordinationValues,\n          coordinationSetters,\n          initialCoordinationValues,\n        );\n        setItemIsReady('expression-matrix');\n      });\n    } else {\n      setExpressionMatrix(null);\n      if (isRequired) {\n        warn(new LoaderNotFoundError(dataset, 'expression-matrix', null, null), setWarning);\n      } else {\n        setItemIsReady('expression-matrix');\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaders, dataset]);\n\n  return [expressionMatrix];\n}\n\n/**\n * Get data from the expression matrix data type loader for a given gene selection.\n * Throw warnings if the data is marked as required.\n * Subscribe to loader updates.\n * @param {object} loaders The object mapping\n * datasets and data types to loader instances.\n * @param {string} dataset The key for a dataset,\n * used to identify which loader to use.\n * @param {function} setItemIsReady A function to call\n * when done loading.\n * @param {boolean} isRequired Should a warning be thrown if\n * loading is unsuccessful?\n * @param {boolean} selection A list of gene names to get expression data for.\n * @returns {array} [geneData] where geneData is an array [Uint8Array, ..., Uint8Array]\n * for however many genes are in the selection.\n */\nexport function useGeneSelection(\n  loaders,\n  dataset,\n  setItemIsReady,\n  isRequired,\n  selection,\n  setItemIsNotReady,\n) {\n  const [geneData, setGeneData] = useState();\n\n  const setWarning = useSetWarning();\n\n  useEffect(() => {\n    if (!loaders[dataset]) {\n      return;\n    }\n    if (!selection) {\n      setItemIsReady('expression-matrix');\n      return;\n    }\n    const loader = loaders[dataset].loaders['expression-matrix'];\n    if (loader) {\n      setItemIsNotReady('expression-matrix');\n      const implementsGeneSelection = typeof loader.loadGeneSelection === 'function';\n      if (implementsGeneSelection) {\n        loaders[dataset].loaders['expression-matrix']\n          .loadGeneSelection({ selection })\n          .catch(e => warn(e, setWarning))\n          .then((payload) => {\n            if (!payload) return;\n            const { data } = payload;\n            setGeneData(data);\n            setItemIsReady('expression-matrix');\n          });\n      } else {\n        loader.load().catch(e => warn(e, setWarning)).then((payload) => {\n          if (!payload) return;\n          const { data } = payload;\n          const [attrs, { data: matrix }] = data;\n          const expressionDataForSelection = selection.map((sel) => {\n            const geneIndex = attrs.cols.indexOf(sel);\n            const numGenes = attrs.cols.length;\n            const numCells = attrs.rows.length;\n            const expressionData = new Uint8Array(numCells);\n            for (let cellIndex = 0; cellIndex < numCells; cellIndex += 1) {\n              expressionData[cellIndex] = matrix[cellIndex * numGenes + geneIndex];\n            }\n            return expressionData;\n          });\n          setGeneData(expressionDataForSelection);\n          setItemIsReady('expression-matrix');\n        });\n      }\n    } else {\n      setGeneData(null);\n      if (isRequired) {\n        warn(new LoaderNotFoundError(dataset, 'expression-matrix', null, null), setWarning);\n      } else {\n        setItemIsReady('expression-matrix');\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaders, dataset, selection]);\n\n  return [geneData];\n}\n\n/**\n * Get the attributes for the expression matrix data type loader,\n * i.e names of cells and genes.\n * Throw warnings if the data is marked as required.\n * Subscribe to loader updates.  Should not be used in conjunction (called in the same component)\n * with useExpressionMatrixData.\n * @param {object} loaders The object mapping\n * datasets and data types to loader instances.\n * @param {string} dataset The key for a dataset,\n * used to identify which loader to use.\n * @param {function} setItemIsReady A function to call\n * when done loading.\n * @param {function} addUrl A function to call to update\n * the URL list.\n * @param {boolean} isRequired Should a warning be thrown if\n * loading is unsuccessful?\n * @returns {object} [attrs] { rows, cols } object containing cell and gene names.\n */\nexport function useExpressionAttrs(loaders, dataset, setItemIsReady, addUrl, isRequired) {\n  const [attrs, setAttrs] = useState();\n\n  const setWarning = useSetWarning();\n\n  useEffect(() => {\n    if (!loaders[dataset]) {\n      return;\n    }\n    const loader = loaders[dataset].loaders['expression-matrix'];\n    if (loader) {\n      const implementsLoadAttrs = typeof loader.loadAttrs === 'function';\n      if (implementsLoadAttrs) {\n        loader.loadAttrs().catch(e => warn(e, setWarning)).then((payload) => {\n          if (!payload) return;\n          const { data, url } = payload;\n          setAttrs(data);\n          addUrl(url, 'Expression Matrix');\n          setItemIsReady('expression-matrix');\n        });\n      } else {\n        loader.load().catch(e => warn(e, setWarning)).then((payload) => {\n          if (!payload) return;\n          const { data, url } = payload;\n          setAttrs(data[0]);\n          addUrl(url, 'Expression Matrix');\n          setItemIsReady('expression-matrix');\n        });\n      }\n    } else {\n      setAttrs(null);\n      if (isRequired) {\n        warn(new LoaderNotFoundError(dataset, 'expression-matrix', null, null), setWarning);\n      } else {\n        setItemIsReady('expression-matrix');\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaders, dataset]);\n\n  return [attrs];\n}\n\n/**\n * Get data from a molecules data type loader,\n * updating \"ready\" and URL state appropriately.\n * Throw warnings if the data is marked as required.\n * Subscribe to loader updates.\n * @param {object} loaders The object mapping\n * datasets and data types to loader instances.\n * @param {string} dataset The key for a dataset,\n * used to identify which loader to use.\n * @param {function} setItemIsReady A function to call\n * when done loading.\n * @param {function} addUrl A function to call to update\n * the URL list.\n * @param {boolean} isRequired Should a warning be thrown if\n * loading is unsuccessful?\n * @param {object} coordinationSetters Object where\n * keys are coordination type names with the prefix 'set',\n * values are coordination setter functions.\n * @param {object} initialCoordinationValues Object where\n * keys are coordination type names with the prefix 'initialize',\n * values are initialization preferences as boolean values.\n * @returns {array} [molecules, moleculesCount, locationsCount] where\n * molecules is an object,\n * moleculesCount is the number of unique molecule types, and\n * locationsCount is the number of molecules.\n */\nexport function useMoleculesData(\n  loaders, dataset, setItemIsReady, addUrl, isRequired,\n  coordinationSetters, initialCoordinationValues,\n) {\n  const [molecules, setMolecules] = useState();\n  const [moleculesCount, setMoleculesCount] = useState(0);\n  const [locationsCount, setLocationsCount] = useState(0);\n\n  const setWarning = useSetWarning();\n\n  useEffect(() => {\n    if (!loaders[dataset]) {\n      return;\n    }\n\n    if (loaders[dataset].loaders.molecules) {\n      loaders[dataset].loaders.molecules.load().catch(e => warn(e, setWarning)).then((payload) => {\n        if (!payload) return;\n        const { data, url, coordinationValues } = payload;\n        setMolecules(data);\n        setMoleculesCount(Object.keys(data).length);\n        setLocationsCount(Object.values(data)\n          .map(l => l.length)\n          .reduce((a, b) => a + b, 0));\n        addUrl(url, 'Molecules');\n        const coordinationValuesOrDefault = {\n          spatialMoleculesLayer: DEFAULT_MOLECULES_LAYER,\n          ...coordinationValues,\n        };\n        initCoordinationSpace(\n          coordinationValuesOrDefault,\n          coordinationSetters,\n          initialCoordinationValues,\n        );\n        setItemIsReady('molecules');\n      });\n    } else {\n      setMolecules({});\n      setMoleculesCount(0);\n      setLocationsCount(0);\n      if (isRequired) {\n        warn(new LoaderNotFoundError(dataset, 'molecules', null, null), setWarning);\n      } else {\n        setItemIsReady('molecules');\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaders, dataset]);\n\n  return [molecules, moleculesCount, locationsCount];\n}\n\n/**\n * Get data from a neighborhoods data type loader,\n * updating \"ready\" and URL state appropriately.\n * Throw warnings if the data is marked as required.\n * Subscribe to loader updates.\n * @param {object} loaders The object mapping\n * datasets and data types to loader instances.\n * @param {string} dataset The key for a dataset,\n * used to identify which loader to use.\n * @param {function} setItemIsReady A function to call\n * when done loading.\n * @param {function} addUrl A function to call to update\n * the URL list.\n * @param {boolean} isRequired Should a warning be thrown if\n * loading is unsuccessful?\n * @param {object} coordinationSetters Object where\n * keys are coordination type names with the prefix 'set',\n * values are coordination setter functions.\n * @param {object} initialCoordinationValues Object where\n * keys are coordination type names with the prefix 'initialize',\n * values are initialization preferences as boolean values.\n * @returns {array} [neighborhoods] where\n * neighborhoods is an object.\n */\nexport function useNeighborhoodsData(\n  loaders, dataset, setItemIsReady, addUrl, isRequired,\n  coordinationSetters, initialCoordinationValues,\n) {\n  const [neighborhoods, setNeighborhoods] = useState();\n\n  const setWarning = useSetWarning();\n\n  useEffect(() => {\n    if (!loaders[dataset]) {\n      return;\n    }\n\n    if (loaders[dataset].loaders.neighborhoods) {\n      loaders[dataset].loaders.neighborhoods.load().catch(e => warn(e, setWarning))\n        .then((payload) => {\n          if (!payload) return;\n          const { data, url, coordinationValues } = payload;\n          setNeighborhoods(data);\n          addUrl(url, 'Neighborhoods');\n          const coordinationValuesOrDefault = {\n            spatialNeighborhoodsLayer: DEFAULT_NEIGHBORHOODS_LAYER,\n            ...coordinationValues,\n          };\n          initCoordinationSpace(\n            coordinationValuesOrDefault,\n            coordinationSetters,\n            initialCoordinationValues,\n          );\n          setItemIsReady('neighborhoods');\n        });\n    } else {\n      setNeighborhoods({});\n      if (isRequired) {\n        warn(new LoaderNotFoundError(dataset, 'neighborhoods', null, null), setWarning);\n      } else {\n        setItemIsReady('neighborhoods');\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaders, dataset]);\n\n  return [neighborhoods];\n}\n\n/**\n * Get data from a raster data type loader,\n * updating \"ready\" and URL state appropriately.\n * Throw warnings if the data is marked as required.\n * Subscribe to loader updates.\n * @param {object} loaders The object mapping\n * datasets and data types to loader instances.\n * @param {string} dataset The key for a dataset,\n * used to identify which loader to use.\n * @param {function} setItemIsReady A function to call\n * when done loading.\n * @param {function} addUrl A function to call to update\n * the URL list.\n * @param {boolean} isRequired Should a warning be thrown if\n * loading is unsuccessful?\n * @param {object} coordinationSetters Object where\n * keys are coordination type names with the prefix 'set',\n * values are coordination setter functions.\n * @param {object} initialCoordinationValues Object where\n * keys are coordination type names with the prefix 'initialize',\n * values are initialization preferences as boolean values.\n * @returns {array} [raster, imageLayerLoaders, imageLayerMeta] where\n * raster is an object,\n * imageLayerLoaders is an object, and\n * imageLayerMeta is an object.\n */\nexport function useRasterData(\n  loaders, dataset, setItemIsReady, addUrl, isRequired,\n  coordinationSetters, initialCoordinationValues,\n) {\n  const [raster, setRaster] = useState();\n  // Since we want the image layer / channel definitions to come from the\n  // coordination space stored as JSON in the view config,\n  // we need to set up a separate state variable here to store the\n  // non-JSON objects, such as layer loader instances.\n  const [imageLayerLoaders, setImageLayerLoaders] = useState([]);\n  const [imageLayerMeta, setImageLayerMeta] = useState([]);\n\n  const setWarning = useSetWarning();\n\n  useEffect(() => {\n    if (!loaders[dataset]) {\n      return;\n    }\n\n    if (loaders[dataset].loaders.raster) {\n      loaders[dataset].loaders.raster.load().catch(e => warn(e, setWarning)).then((payload) => {\n        if (!payload) return;\n        const { data, url: urls, coordinationValues } = payload;\n        setRaster(data);\n        urls.forEach(([url, name]) => {\n          addUrl(url, name);\n        });\n        const { loaders: nextImageLoaders, meta: nextImageMeta } = data;\n        setImageLayerLoaders(nextImageLoaders);\n        setImageLayerMeta(nextImageMeta);\n        initCoordinationSpace(\n          coordinationValues,\n          coordinationSetters,\n          initialCoordinationValues,\n        );\n        setItemIsReady('raster');\n      });\n    } else {\n      // There was no raster loader for this dataset,\n      // and raster should be optional.\n      setImageLayerLoaders([]);\n      setImageLayerMeta([]);\n      if (isRequired) {\n        warn(new LoaderNotFoundError(dataset, 'raster', null, null), setWarning);\n      } else {\n        setItemIsReady('raster');\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaders, dataset]);\n  return [raster, imageLayerLoaders, imageLayerMeta];\n}\n\n/**\n * Get data from a genomic-profiles data type loader,\n * updating \"ready\" and URL state appropriately.\n * Throw warnings if the data is marked as required.\n * Subscribe to loader updates.\n * @param {object} loaders The object mapping\n * datasets and data types to loader instances.\n * @param {string} dataset The key for a dataset,\n * used to identify which loader to use.\n * @param {function} setItemIsReady A function to call\n * when done loading.\n * @param {function} addUrl A function to call to update\n * the URL list.\n * @param {boolean} isRequired Should a warning be thrown if\n * loading is unsuccessful?\n * @param {object} coordinationSetters Object where\n * keys are coordination type names with the prefix 'set',\n * values are coordination setter functions.\n * @param {object} initialCoordinationValues Object where\n * keys are coordination type names with the prefix 'initialize',\n * values are initialization preferences as boolean values.\n * @returns {array} [neighborhoods] where\n * neighborhoods is an object.\n */\nexport function useGenomicProfilesData(\n  loaders, dataset, setItemIsReady, addUrl, isRequired,\n  coordinationSetters, initialCoordinationValues,\n) {\n  const [genomicProfilesAttrs, setGenomicProfilesAttrs] = useState();\n\n  const setWarning = useSetWarning();\n\n  useEffect(() => {\n    if (!loaders[dataset]) {\n      return;\n    }\n\n    if (loaders[dataset].loaders['genomic-profiles']) {\n      loaders[dataset].loaders['genomic-profiles'].load().catch(e => warn(e, setWarning))\n        .then((payload) => {\n          if (!payload) return;\n          const { data, url, coordinationValues } = payload;\n          setGenomicProfilesAttrs(data);\n          addUrl(url);\n          initCoordinationSpace(\n            coordinationValues,\n            coordinationSetters,\n            initialCoordinationValues,\n          );\n          setItemIsReady('genomic-profiles');\n        });\n    } else {\n      setGenomicProfilesAttrs(null);\n      if (isRequired) {\n        warn(new LoaderNotFoundError(dataset, 'genomic-profiles', null, null), setWarning);\n      } else {\n        setItemIsReady('genomic-profiles');\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaders, dataset]);\n\n  return [genomicProfilesAttrs];\n}\n","export const TOOLTIP_ANCESTOR = 'tooltip-ancestor';\nconst CARD = `card card-body my-2 ${TOOLTIP_ANCESTOR}`;\nexport const PRIMARY_CARD = `${CARD} bg-primary`;\nexport const SECONDARY_CARD = `${CARD} bg-secondary`;\nexport const BLACK_CARD = `${CARD} bg-black`;\nexport const TITLE_CARD = 'title';\nexport const SCROLL_CARD = `${PRIMARY_CARD} scroll`;\nexport const VITESSCE_CONTAINER = 'vitessce-container';\n","import { RENDERING_MODES } from '@hms-dbmi/viv';\n\nexport const GLOBAL_LABELS = ['z', 't'];\n\nexport const DEFAULT_RASTER_DOMAIN_TYPE = 'Min/Max';\n\nexport const DEFAULT_RASTER_LAYER_PROPS = {\n  visible: true,\n  colormap: null,\n  opacity: 1,\n  domainType: DEFAULT_RASTER_DOMAIN_TYPE,\n  transparentColor: [0, 0, 0],\n  renderingMode: RENDERING_MODES.ADDITIVE,\n  use3d: false,\n};\n\nexport const DEFAULT_MOLECULES_LAYER = {\n  opacity: 1, radius: 20, visible: true,\n};\nexport const DEFAULT_CELLS_LAYER = {\n  opacity: 1, radius: 50, visible: true, stroked: false,\n};\nexport const DEFAULT_NEIGHBORHOODS_LAYER = {\n  visible: false,\n};\n\nexport const DEFAULT_LAYER_TYPE_ORDERING = [\n  'molecules',\n  'cells',\n  'neighborhoods',\n  'raster',\n];\n","module.exports = require(\"zustand\");","// List of the GLSL colormaps available,\n// to validate against before string replacing.\nexport const GLSL_COLORMAPS = [\n  'plasma',\n  'viridis',\n  'jet',\n];\nexport const GLSL_COLORMAP_DEFAULT = 'plasma';\nexport const COLORMAP_SHADER_PLACEHOLDER = 'COLORMAP_FUNC';\n","module.exports = require(\"lodash/debounce\");","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","module.exports = require(\"@deck.gl/layers\");","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","/**\n * A loader error ancestor class containing a default constructor\n * and a stub for the required warnInConsole() method.\n */\nexport default class AbstractLoaderError {\n  constructor(message) {\n    this.message = message;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  warnInConsole() {\n    throw new Error('The warnInConsole() method has not been implemented.');\n  }\n}\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nexport default function LoadingIndicator() {\n  return (\n    <div className=\"loading-indicator-backdrop\">\n      <div className=\"loading-indicator-container\">\n        <CircularProgress />\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport IconButton from '@material-ui/core/IconButton';\nimport Link from '@material-ui/core/Link';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { SCROLL_CARD, BLACK_CARD, SECONDARY_CARD } from './classNames';\nimport LoadingIndicator from './LoadingIndicator';\nimport { PopperMenu } from './shared-mui/components';\n\nconst useStyles = makeStyles(theme => ({\n  iconButton: {\n    border: 'none',\n    marginLeft: 0,\n    background: 'none',\n    color: theme.palette.primaryForeground,\n    paddingLeft: '0.25em',\n    paddingRight: '0.25em',\n    borderRadius: '2px',\n    '&:hover': {\n      backgroundColor: theme.palette.primaryBackgroundLight,\n    },\n    '&:first-child': {\n      marginLeft: '0.25em',\n    },\n    '&:last-child': {\n      marginRight: '0.25em',\n    },\n    '& svg': {\n      width: '0.7em',\n      height: '0.7em',\n      verticalAlign: 'middle',\n      overflow: 'visible',\n    },\n  },\n  downloadLink: {\n    color: theme.palette.primaryForeground,\n  },\n}));\n\nfunction SettingsIconWithArrow({ open }) {\n  return (\n    <>\n      <SettingsIcon />\n      {open ? <ArrowDropUpIcon /> : <ArrowDropDownIcon />}\n    </>\n  );\n}\n\nfunction PlotOptions(props) {\n  const { options } = props;\n  const [open, setOpen] = useState(false);\n  const classes = useStyles();\n  return (\n    <PopperMenu\n      open={open}\n      setOpen={setOpen}\n      buttonIcon={<SettingsIconWithArrow open={open} />}\n      buttonClassName={classes.iconButton}\n      placement=\"bottom-end\"\n    >\n      {options}\n    </PopperMenu>\n  );\n}\n\nfunction CloudDownloadIconWithArrow({ open }) {\n  return (\n    <>\n      <CloudDownloadIcon />\n      {open ? <ArrowDropUpIcon /> : <ArrowDropDownIcon />}\n    </>\n  );\n}\n\nfunction DownloadOptions(props) {\n  const { urls } = props;\n  const [open, setOpen] = useState(false);\n  const classes = useStyles();\n  return (\n    <PopperMenu\n      open={open}\n      setOpen={setOpen}\n      buttonIcon={<CloudDownloadIconWithArrow open={open} />}\n      buttonClassName={classes.iconButton}\n      placement=\"bottom-end\"\n    >\n      {urls.map(({ url, name }) => (\n        <MenuItem dense key={url}>\n          <Link underline=\"none\" href={url} target=\"_blank\" rel=\"noopener\" className={classes.downloadLink}>\n            Download {name}\n          </Link>\n        </MenuItem>\n      ))}\n    </PopperMenu>\n  );\n}\n\nfunction ClosePaneButton(props) {\n  const { removeGridComponent } = props;\n  const classes = useStyles();\n  return (\n    <IconButton\n      onClick={removeGridComponent}\n      size=\"small\"\n      className={classes.iconButton}\n      title=\"close\"\n    >\n      <CloseIcon />\n    </IconButton>\n  );\n}\n\nexport default function TitleInfo(props) {\n  const {\n    title, info, children, isScroll, isSpatial, removeGridComponent, urls,\n    isReady, options,\n  } = props;\n  // eslint-disable-next-line no-nested-ternary\n  const childClassName = isScroll ? SCROLL_CARD : (isSpatial ? BLACK_CARD : SECONDARY_CARD);\n  return (\n    // d-flex without wrapping div is not always full height; I don't understand the root cause.\n    <>\n      <div className=\"title\">\n        <div className=\"title-left\">\n          {title}\n        </div>\n        <div className=\"title-info\" title={info}>\n          {info}\n        </div>\n        <div className=\"title-buttons\">\n          { options && (\n            <PlotOptions\n              options={options}\n            />\n          ) }\n          {urls && urls.length > 0 && (\n            <DownloadOptions\n              urls={urls}\n            />\n          )}\n          <ClosePaneButton\n            removeGridComponent={removeGridComponent}\n          />\n        </div>\n      </div>\n      <div className={childClassName}>\n        { !isReady && <LoadingIndicator /> }\n        {children}\n      </div>\n    </>\n    // \"pl-2\" only matters when the window is very narrow.\n  );\n}\n","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","module.exports = require(\"@material-ui/core/IconButton\");","module.exports = require(\"@material-ui/core/colors\");","module.exports = require(\"@material-ui/core/Slider\");","module.exports = require(\"@material-ui/core/TableRow\");","module.exports = require(\"lodash/range\");","import React, { useRef } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuList from '@material-ui/core/MenuList';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Fade from '@material-ui/core/Fade';\nimport { useVitessceContainer } from '../hooks';\nimport { styles } from './styles';\n\nexport function MuiSpan(props) {\n  const { children } = props;\n  const classes = styles();\n  return <span className={classes.span}>{children}</span>;\n}\n\nexport function PopperMenu(props) {\n  const {\n    buttonIcon,\n    open,\n    setOpen,\n    children,\n    buttonClassName,\n  } = props;\n  const classes = styles();\n\n  const anchorRef = useRef();\n\n  const handleClick = () => {\n    setOpen(prev => !prev);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const id = open ? 'v-popover-menu' : undefined;\n\n  const getTooltipContainer = useVitessceContainer(anchorRef);\n\n  return (\n    <div ref={anchorRef} className={classes.container}>\n      <IconButton\n        aria-describedby={id}\n        onClick={handleClick}\n        size=\"small\"\n        className={buttonClassName}\n      >\n        {buttonIcon}\n      </IconButton>\n      <Popper\n        id={id}\n        open={open}\n        anchorEl={anchorRef && anchorRef.current}\n        container={getTooltipContainer}\n        onClose={handleClose}\n        placement=\"bottom-end\"\n        transition\n      >\n        {({ TransitionProps }) => (\n          <ClickAwayListener onClickAway={handleClose}>\n            <Fade {...TransitionProps} timeout={100}>\n              <Paper elevation={4} className={classes.paper}>\n                <MenuList>{children}</MenuList>\n              </Paper>\n            </Fade>\n          </ClickAwayListener>\n        )}\n      </Popper>\n    </div>\n  );\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles(theme => ({\n  box: {\n    boxSizing: 'border-box',\n  },\n  checkbox: {\n    padding: '3px',\n    color: theme.palette.primaryForeground,\n    '&:checked': {\n      color: theme.palette.primaryForeground,\n    },\n    '& input': {\n      height: '100%',\n    },\n  },\n  slider: {\n    color: theme.palette.primaryForeground,\n    minWidth: '60px',\n    padding: '10px 0 10px 0',\n  },\n  sliderValueLabel: {\n    '& span': {\n      '& span': {\n        color: theme.palette.primaryBackground,\n      },\n    },\n  },\n  tableContainer: {\n    overflow: 'hidden',\n    overflowX: 'hidden !important',\n  },\n  labelCell: {\n    padding: '2px 8px 2px 16px',\n  },\n  inputCell: {\n    padding: '2px 16px 2px 8px',\n    overflow: 'visible',\n  },\n  select: {\n    '& select': {\n      fontSize: '.875rem',\n    },\n  },\n  selectRoot: {\n    padding: 0,\n    height: 'auto',\n  },\n}));\n","module.exports = require(\"d3-array\");","module.exports = require(\"@material-ui/core/Paper\");","module.exports = require(\"lodash/clamp\");","module.exports = require(\"@material-ui/core/MenuItem\");","module.exports = require(\"zustand/context\");","module.exports = require(\"zustand/shallow\");","module.exports = require(\"@material-ui/core/Popper\");","import getPrototypeOf from \"./getPrototypeOf\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import { makeStyles, createMuiTheme } from '@material-ui/core/styles';\nimport { grey } from '@material-ui/core/colors';\n\nexport const styles = makeStyles(() => ({\n  paper: {\n    maxHeight: 200,\n    overflow: 'auto',\n  },\n  container: {\n    position: 'relative',\n    left: 0,\n    top: 0,\n  },\n  span: {\n    width: '70px',\n    textAlign: 'center',\n    paddingLeft: '2px',\n    paddingRight: '2px',\n  },\n}));\n\nexport const muiTheme = {\n  dark: createMuiTheme({\n    palette: {\n      type: 'dark',\n      primary: grey,\n      secondary: grey,\n      primaryBackground: '#222222',\n      primaryBackgroundHighlight: '#000000',\n      primaryBackgroundInput: '#D3D3D3',\n      primaryBackgroundDim: '#333333',\n      primaryBackgroundLight: '#757575',\n      primaryForeground: '#D3D3D3',\n      primaryForegroundDim: '#000000',\n      primaryForegroundActive: '#9bb7d6',\n      secondaryBackground: '#000000',\n      secondaryBackgroundDim: '#444444',\n      secondaryForeground: '#D3D3D3',\n    },\n    props: {\n      MuiButtonBase: {\n        disableRipple: true,\n      },\n    },\n  }),\n  light: createMuiTheme({\n    palette: {\n      type: 'light',\n      primary: grey,\n      secondary: grey,\n      primaryBackground: '#F1F1F1',\n      primaryBackgroundHighlight: '#FFFFFF',\n      primaryBackgroundInput: '#FFFFFF',\n      primaryBackgroundDim: '#8A8A8A',\n      primaryBackgroundLight: '#e0e0e0',\n      primaryForeground: '#333333',\n      primaryForegroundDim: '#808080',\n      primaryForegroundActive: '#0074D9',\n      secondaryBackground: '#F1F1F1',\n      secondaryBackgroundDim: '#C0C0C0',\n      secondaryForeground: '#222222',\n    },\n    props: {\n      MuiButtonBase: {\n        disableRipple: true,\n      },\n    },\n  }),\n};\n","module.exports = require(\"@material-ui/icons/ArrowDropDown\");","module.exports = require(\"@material-ui/icons/ArrowDropUp\");","module.exports = require(\"@turf/helpers\");","module.exports = require(\"uuid/v4\");","module.exports = require(\"deck.gl\");","module.exports = require(\"@material-ui/core/Select\");","module.exports = require(\"@luma.gl/core\");","import React from 'react';\nimport Select from '@material-ui/core/Select';\nimport { useStyles } from './styles';\n\nexport default function OptionSelect(props) {\n  const { classes: classesProp = {} } = props;\n  const classes = useStyles();\n  return (\n    <Select\n      native\n      disableUnderline\n      {...props}\n      classes={{\n        root: classes.selectRoot,\n        ...classesProp,\n      }}\n    />\n  );\n}\n","module.exports = require(\"@material-ui/icons/CloudDownload\");","module.exports = require(\"@material-ui/core/Link\");","module.exports = require(\"@material-ui/icons/Settings\");","module.exports = require(\"@material-ui/icons/Close\");","module.exports = require(\"@material-ui/core/CircularProgress\");","module.exports = require(\"@material-ui/core/MenuList\");","module.exports = require(\"@material-ui/core/ClickAwayListener\");","module.exports = require(\"@material-ui/core/Fade\");","module.exports = require(\"fast-deep-equal\");","module.exports = require(\"lodash/isNil\");","module.exports = require(\"tinycolor2\");","import React from 'react';\nimport Tooltip from './Tooltip';\n\n/**\n * A tooltip component that also incorporates a crosshair element.\n * @param {object} props\n * @param {string} props.parentUuid A unique identifier corresponding to the plot\n * with which this scatterplot is associated.\n * @param {string} props.sourceUuid A unique identifier corresponding to the plot\n * from which this tooltip originated.\n * @param {number} props.x The x coordinate for the tooltip.\n * @param {number} props.y The y coordinate for the tooltip.\n * @param {number} props.parentWidth The width of the parent plot container element.\n * @param {number} props.parentHeight The height of the parent plot container element.\n * @param {React.Component} props.children The tooltip contents as a react component.\n */\nexport default function Tooltip2D(props) {\n  const {\n    parentUuid,\n    sourceUuid,\n    x,\n    y,\n    parentWidth,\n    parentHeight,\n    children,\n  } = props;\n  // Check if out of bounds.\n  if (x < 0 || x > parentWidth || y < 0 || y > parentHeight) {\n    return null;\n  }\n  // Show tooltip or crosshair?\n  const isTooltipVisible = (parentUuid === sourceUuid);\n  const crosshairWidth = 1;\n  return (\n    <>\n      {isTooltipVisible ? (\n        <Tooltip\n          x={x}\n          y={y}\n          parentWidth={parentWidth}\n          parentHeight={parentHeight}\n        >\n          {children}\n        </Tooltip>\n      ) : (\n        <>\n          {x !== null ? (\n            <div\n              className=\"cell-emphasis-crosshair\"\n              style={{\n                left: `${x - crosshairWidth / 2}px`,\n                top: 0,\n                width: `${crosshairWidth}px`,\n                height: `${parentHeight}px`,\n              }}\n            />\n          ) : null}\n          {y !== null ? (\n            <div\n              className=\"cell-emphasis-crosshair\"\n              style={{\n                left: 0,\n                top: `${y - crosshairWidth / 2}px`,\n                width: `${parentWidth}px`,\n                height: `${crosshairWidth}px`,\n              }}\n            />\n          ) : null}\n        </>\n      )}\n    </>\n  );\n}\n","import React from 'react';\n\nexport default function TooltipContent(props) {\n  const {\n    info,\n  } = props;\n\n  return (\n    <table>\n      <tbody>\n        {Object.entries(info).map(([key, value]) => (\n          <tr key={key}>\n            <th>{key}</th>\n            <td>{value}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n","import React from 'react';\nimport Box from '@material-ui/core/Box';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { useStyles } from './styles';\n\nexport default function OptionsContainer(props) {\n  const {\n    children,\n  } = props;\n\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.box}>\n      <TableContainer className={classes.tableContainer}>\n        <Table className={classes.table} size=\"small\">\n          <TableBody>\n            {children}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </Box>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport const styles = makeStyles(() => ({\n  tooltipAnchor: {\n    position: 'relative',\n    width: '0px',\n    height: '0px',\n    pointerEvents: 'none',\n    userSelect: 'none',\n  },\n  tooltipContent: {\n    opacity: 0.9,\n    padding: '5px',\n    pointerEvents: 'none',\n    '& table > tbody > tr > th, & table > tbody > tr > td': {\n      fontSize: '80%',\n      opacity: 0.8,\n      outline: 0,\n      padding: '0 2px',\n    },\n    '& table': {\n      borderCollapse: 'collapse',\n    },\n  },\n}));\n","import React, { useEffect, useRef, useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport { useVitessceContainer } from '../hooks';\nimport { styles } from './styles';\n\nexport default function Tooltip(props) {\n  const {\n    x,\n    y,\n    parentWidth,\n    parentHeight,\n    children,\n  } = props;\n  const ref = useRef();\n  const classes = styles();\n  const [placementX, setPlacementX] = useState('start');\n  const [placementY, setPlacementY] = useState('bottom');\n\n  const getTooltipContainer = useVitessceContainer(ref);\n\n  // Do collision detection based on the bounds of the tooltip ancestor element.\n  useEffect(() => {\n    if (ref && ref.current) {\n      const flipX = (x > parentWidth / 2);\n      const flipY = (y > parentHeight / 2);\n      setPlacementX(flipX ? 'end' : 'start');\n      setPlacementY(flipY ? 'top' : 'bottom');\n      ref.current.style.left = `${x + (flipX ? -20 : 5)}px`;\n      ref.current.style.top = `${y + (flipY ? -20 : 5)}px`;\n    }\n  }, [x, y, parentWidth, parentHeight]);\n\n  return (\n    <div\n      ref={ref}\n      className={classes.tooltipAnchor}\n    >\n      {ref && ref.current ? (\n        <Popper\n          open\n          anchorEl={ref.current}\n          container={getTooltipContainer}\n          transition\n          placement={`${placementY}-${placementX}`}\n        >\n          <Paper elevation={4} className={classes.tooltipContent}>\n            {children}\n          </Paper>\n        </Popper>\n      ) : null}\n    </div>\n  );\n}\n","/* eslint-disable no-nested-ternary */\n/* eslint-disable no-param-reassign */\nimport { treeToCellColorsBySetNames } from './sets/cell-set-utils';\n\n// The functions defined here have been adapted from d3-interpolate,\n// d3-color, and d3-scale-chromatic.\n// Color string \"rgb(r,g,b)\" representations are replaced by color array [r, g, b]\n// representations, to allow them to work nicely with deck.gl,\n// without the need to converting back and forth between string and array formats.\n\n// Reference: https://github.com/d3/d3-scale-chromatic/blob/431d21da776f97c632f53a855bd822edfbbcd56e/src/diverging/RdBu.js\n// eslint-disable-next-line max-len\nconst schemeRdBu = [[103, 0, 31], [178, 24, 43], [214, 96, 77], [244, 165, 130], [253, 219, 199], [247, 247, 247], [209, 229, 240], [146, 197, 222], [67, 147, 195], [33, 102, 172], [5, 48, 97]];\n// eslint-disable-next-line max-len\nconst schemePlasma = [[13, 8, 135], [16, 7, 136], [19, 7, 137], [22, 7, 138], [25, 6, 140], [27, 6, 141], [29, 6, 142], [32, 6, 143], [34, 6, 144], [36, 6, 145], [38, 5, 145], [40, 5, 146], [42, 5, 147], [44, 5, 148], [46, 5, 149], [47, 5, 150], [49, 5, 151], [51, 5, 151], [53, 4, 152], [55, 4, 153], [56, 4, 154], [58, 4, 154], [60, 4, 155], [62, 4, 156], [63, 4, 156], [65, 4, 157], [67, 3, 158], [68, 3, 158], [70, 3, 159], [72, 3, 159], [73, 3, 160], [75, 3, 161], [76, 2, 161], [78, 2, 162], [80, 2, 162], [81, 2, 163], [83, 2, 163], [85, 2, 164], [86, 1, 164], [88, 1, 164], [89, 1, 165], [91, 1, 165], [92, 1, 166], [94, 1, 166], [96, 1, 166], [97, 0, 167], [99, 0, 167], [100, 0, 167], [102, 0, 167], [103, 0, 168], [105, 0, 168], [106, 0, 168], [108, 0, 168], [110, 0, 168], [111, 0, 168], [113, 0, 168], [114, 1, 168], [116, 1, 168], [117, 1, 168], [119, 1, 168], [120, 1, 168], [122, 2, 168], [123, 2, 168], [125, 3, 168], [126, 3, 168], [128, 4, 168], [129, 4, 167], [131, 5, 167], [132, 5, 167], [134, 6, 166], [135, 7, 166], [136, 8, 166], [138, 9, 165], [139, 10, 165], [141, 11, 165], [142, 12, 164], [143, 13, 164], [145, 14, 163], [146, 15, 163], [148, 16, 162], [149, 17, 161], [150, 19, 161], [152, 20, 160], [153, 21, 159], [154, 22, 159], [156, 23, 158], [157, 24, 157], [158, 25, 157], [160, 26, 156], [161, 27, 155], [162, 29, 154], [163, 30, 154], [165, 31, 153], [166, 32, 152], [167, 33, 151], [168, 34, 150], [170, 35, 149], [171, 36, 148], [172, 38, 148], [173, 39, 147], [174, 40, 146], [176, 41, 145], [177, 42, 144], [178, 43, 143], [179, 44, 142], [180, 46, 141], [181, 47, 140], [182, 48, 139], [183, 49, 138], [184, 50, 137], [186, 51, 136], [187, 52, 136], [188, 53, 135], [189, 55, 134], [190, 56, 133], [191, 57, 132], [192, 58, 131], [193, 59, 130], [194, 60, 129], [195, 61, 128], [196, 62, 127], [197, 64, 126], [198, 65, 125], [199, 66, 124], [200, 67, 123], [201, 68, 122], [202, 69, 122], [203, 70, 121], [204, 71, 120], [204, 73, 119], [205, 74, 118], [206, 75, 117], [207, 76, 116], [208, 77, 115], [209, 78, 114], [210, 79, 113], [211, 81, 113], [212, 82, 112], [213, 83, 111], [213, 84, 110], [214, 85, 109], [215, 86, 108], [216, 87, 107], [217, 88, 106], [218, 90, 106], [218, 91, 105], [219, 92, 104], [220, 93, 103], [221, 94, 102], [222, 95, 101], [222, 97, 100], [223, 98, 99], [224, 99, 99], [225, 100, 98], [226, 101, 97], [226, 102, 96], [227, 104, 95], [228, 105, 94], [229, 106, 93], [229, 107, 93], [230, 108, 92], [231, 110, 91], [231, 111, 90], [232, 112, 89], [233, 113, 88], [233, 114, 87], [234, 116, 87], [235, 117, 86], [235, 118, 85], [236, 119, 84], [237, 121, 83], [237, 122, 82], [238, 123, 81], [239, 124, 81], [239, 126, 80], [240, 127, 79], [240, 128, 78], [241, 129, 77], [241, 131, 76], [242, 132, 75], [243, 133, 75], [243, 135, 74], [244, 136, 73], [244, 137, 72], [245, 139, 71], [245, 140, 70], [246, 141, 69], [246, 143, 68], [247, 144, 68], [247, 145, 67], [247, 147, 66], [248, 148, 65], [248, 149, 64], [249, 151, 63], [249, 152, 62], [249, 154, 62], [250, 155, 61], [250, 156, 60], [250, 158, 59], [251, 159, 58], [251, 161, 57], [251, 162, 56], [252, 163, 56], [252, 165, 55], [252, 166, 54], [252, 168, 53], [252, 169, 52], [253, 171, 51], [253, 172, 51], [253, 174, 50], [253, 175, 49], [253, 177, 48], [253, 178, 47], [253, 180, 47], [253, 181, 46], [254, 183, 45], [254, 184, 44], [254, 186, 44], [254, 187, 43], [254, 189, 42], [254, 190, 42], [254, 192, 41], [253, 194, 41], [253, 195, 40], [253, 197, 39], [253, 198, 39], [253, 200, 39], [253, 202, 38], [253, 203, 38], [252, 205, 37], [252, 206, 37], [252, 208, 37], [252, 210, 37], [251, 211, 36], [251, 213, 36], [251, 215, 36], [250, 216, 36], [250, 218, 36], [249, 220, 36], [249, 221, 37], [248, 223, 37], [248, 225, 37], [247, 226, 37], [247, 228, 37], [246, 230, 38], [246, 232, 38], [245, 233, 38], [245, 235, 39], [244, 237, 39], [243, 238, 39], [243, 240, 39], [242, 242, 39], [241, 244, 38], [241, 245, 37], [240, 247, 36], [240, 249, 33]];\n\n// Reference: https://github.com/d3/d3-interpolate/blob/96d54051d1c2fec55f240edd0ec5401715b10390/src/rgb.js\nfunction rgbSpline(spline) {\n  return (colors) => {\n    const n = colors.length;\n    let r = new Array(n);\n    let g = new Array(n);\n    let b = new Array(n);\n    let i; let\n      color;\n    // eslint-disable-next-line no-plusplus\n    for (i = 0; i < n; ++i) {\n      color = [colors[i][0], colors[i][1], colors[i][2]];\n      r[i] = color[0] || 0;\n      g[i] = color[1] || 0;\n      b[i] = color[2] || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    return t => [r(t), g(t), b(t)];\n  };\n}\n\n// Reference: https://github.com/d3/d3-interpolate/blob/594a32af1fe1118812b439012c2cb742e907c0c0/src/basis.js\nfunction basis(values) {\n  function innerBasis(t1, v0, v1, v2, v3) {\n    const t2 = t1 * t1; const\n      t3 = t2 * t1;\n    return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n          + (4 - 6 * t2 + 3 * t3) * v1\n          + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n          + t3 * v3) / 6;\n  }\n\n  const n = values.length - 1;\n  return (t) => {\n    const i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n);\n    const v1 = values[i];\n    const v2 = values[i + 1];\n    const v0 = i > 0 ? values[i - 1] : 2 * v1 - v2;\n    const v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return innerBasis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n\n\n// Reference: https://github.com/d3/d3-scale-chromatic/blob/ade54c13e8dfdb9807801a794eaec1a37f926b8a/src/ramp.js\nconst interpolateRgbBasis = rgbSpline(basis);\n\nfunction interpolateSequentialMulti(range) {\n  const n = range.length;\n  return t => range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n}\n\nexport const interpolateRdBu = interpolateRgbBasis(schemeRdBu);\nexport const interpolatePlasma = interpolateSequentialMulti(schemePlasma);\n\n\n/**\n * Get a mapping of cell IDs to cell colors based on\n * gene / cell set selection coordination state.\n * @param {object} params\n * @param {object} params.expressionMatrix { rows, cols, matrix }\n * @param {array} params.geneSelection Array of selected gene IDs.\n * @param {object} params.cellSets The cell sets tree.\n * @param {object} params.cellSetSelection Selected cell sets.\n * @param {string} params.cellColorEncoding Which to use for\n * coloring: gene expression or cell sets?\n * @returns {Map} Mapping from cell IDs to [r, g, b] color arrays.\n */\nexport function getCellColors(params) {\n  const {\n    cellColorEncoding,\n    expressionData,\n    cellSets, cellSetSelection,\n    cellSetColor,\n    expressionDataAttrs,\n    theme,\n  } = params;\n  if (cellColorEncoding === 'geneSelection' && expressionData && expressionDataAttrs) {\n    // TODO: allow other color maps.\n    const geneExpColormap = interpolatePlasma;\n    const colors = new Map();\n    for (let i = 0; i < expressionData.length; i += 1) {\n      const value = expressionData[i];\n      const cellColor = geneExpColormap(value / 255);\n      colors.set(expressionDataAttrs.rows[i], cellColor);\n    }\n    return colors;\n  } if (cellColorEncoding === 'cellSetSelection' && cellSetSelection && cellSets) {\n    // Cell sets can potentially lack set colors since the color property\n    // is not a required part of the schema.\n    // The `initializeSets` function fills in any empty colors\n    // with defaults and returns the processed tree object.\n    return treeToCellColorsBySetNames(cellSets, cellSetSelection, cellSetColor, theme);\n  }\n  return new Map();\n}\n","module.exports = require(\"@turf/centroid\");","module.exports = require(\"concaveman\");","/* eslint-disable no-underscore-dangle */\nimport { COORDINATE_SYSTEM, CompositeLayer } from '@deck.gl/core'; // eslint-disable-line import/no-extraneous-dependencies\nimport { TextLayer } from '@deck.gl/layers'; // eslint-disable-line import/no-extraneous-dependencies\nimport {\n  AXIS_LABEL_TEXT_SIZE,\n  AXIS_TITLE_TEXT_SIZE,\n  AXIS_MARGIN,\n  THEME_TO_TEXT_COLOR,\n  AXIS_FONT_FAMILY,\n} from './heatmap-constants';\n\nexport default class HeatmapCompositeTextLayer extends CompositeLayer {\n  _renderAxisTopLayers() {\n    const {\n      axisTopLabelData, matrixLeft, width, matrixWidth, viewWidth, theme,\n      targetX, targetY, axisTopTitle, cellWidth, axisOffsetTop, scaleFactor,\n    } = this.props;\n    const showAxisTopLabels = cellWidth >= AXIS_LABEL_TEXT_SIZE;\n    const axisLabelTop = targetY + (axisOffsetTop - AXIS_MARGIN) / 2 / scaleFactor;\n    return [\n      new TextLayer({\n        id: 'axisTopLabels',\n        coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,\n        data: axisTopLabelData,\n        getText: d => d[1],\n        getPosition: d => [matrixLeft + ((d[0] + 0.5) / width) * matrixWidth, axisLabelTop],\n        getTextAnchor: 'start',\n        getColor: () => THEME_TO_TEXT_COLOR[theme],\n        getSize: (showAxisTopLabels ? AXIS_LABEL_TEXT_SIZE : 0),\n        getAngle: 75,\n        fontFamily: AXIS_FONT_FAMILY,\n        updateTriggers: {\n          getPosition: [axisLabelTop, matrixLeft, matrixWidth, viewWidth],\n          getSize: [showAxisTopLabels],\n          getColor: [theme],\n        },\n      }),\n      new TextLayer({\n        id: 'axisTopTitle',\n        coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,\n        data: [{ title: axisTopTitle }],\n        getText: d => d.title,\n        getPosition: [targetX, targetY],\n        getTextAnchor: 'middle',\n        getColor: () => THEME_TO_TEXT_COLOR[theme],\n        getSize: (!showAxisTopLabels ? AXIS_TITLE_TEXT_SIZE : 0),\n        getAngle: 0,\n        fontFamily: AXIS_FONT_FAMILY,\n        updateTriggers: {\n          getSize: [showAxisTopLabels],\n          getColor: [theme],\n        },\n      }),\n    ];\n  }\n\n  _renderAxisLeftLayers() {\n    const {\n      axisLeftLabelData, matrixTop, height, matrixHeight,\n      viewHeight, theme, axisLeftTitle, targetX, targetY, cellHeight, axisOffsetLeft,\n      scaleFactor,\n    } = this.props;\n    const showAxisLeftLabels = cellHeight >= AXIS_LABEL_TEXT_SIZE;\n    const axisLabelLeft = targetX + (axisOffsetLeft - AXIS_MARGIN) / 2 / scaleFactor;\n    return [\n      new TextLayer({\n        id: 'axisLeftLabels',\n        coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,\n        data: axisLeftLabelData,\n        getText: d => d[1],\n        getPosition: d => [axisLabelLeft, matrixTop + ((d[0] + 0.5) / height) * matrixHeight],\n        getTextAnchor: 'end',\n        getColor: () => THEME_TO_TEXT_COLOR[theme],\n        getSize: (showAxisLeftLabels ? AXIS_LABEL_TEXT_SIZE : 0),\n        getAngle: 0,\n        fontFamily: AXIS_FONT_FAMILY,\n        updateTriggers: {\n          getPosition: [axisLabelLeft, matrixTop, matrixHeight, viewHeight],\n          getSize: [showAxisLeftLabels],\n          getColor: [theme],\n        },\n      }),\n      new TextLayer({\n        id: 'axisLeftTitle',\n        coordinateSystem: COORDINATE_SYSTEM.CARTESIAN,\n        data: [{ title: axisLeftTitle }],\n        getText: d => d.title,\n        getPosition: [targetX, targetY],\n        getTextAnchor: 'middle',\n        getColor: () => THEME_TO_TEXT_COLOR[theme],\n        getSize: (!showAxisLeftLabels ? AXIS_TITLE_TEXT_SIZE : 0),\n        getAngle: 90,\n        fontFamily: AXIS_FONT_FAMILY,\n        updateTriggers: {\n          getSize: [showAxisLeftLabels],\n          getColor: [theme],\n        },\n      }),\n    ];\n  }\n\n  renderLayers() {\n    return [\n      this._renderAxisTopLayers(),\n      this._renderAxisLeftLayers(),\n    ];\n  }\n}\n\nHeatmapCompositeTextLayer.layerName = 'HeatmapCompositeTextLayer';\n","import { BitmapLayer } from '@deck.gl/layers'; // eslint-disable-line import/no-extraneous-dependencies\nimport { CompositeLayer } from '@deck.gl/core'; // eslint-disable-line import/no-extraneous-dependencies\nimport { PIXELATED_TEXTURE_PARAMETERS } from './heatmap-constants';\n\n\n// These are the same defaultProps as for BitmapLayer.\nconst defaultProps = {\n  ...BitmapLayer.defaultProps,\n  image: { type: 'object', value: null, async: true },\n  bounds: { type: 'array', value: [1, 0, 0, 1], compare: true },\n  desaturate: {\n    type: 'number', min: 0, max: 1, value: 0,\n  },\n  transparentColor: { type: 'color', value: [0, 0, 0, 0] },\n  tintColor: { type: 'color', value: [255, 255, 255] },\n};\n\nexport default class PixelatedBitmapLayer extends CompositeLayer {\n  renderLayers() {\n    const { image } = this.props;\n    return new BitmapLayer(this.props, {\n      id: `${this.props.id}-wrapped`,\n      image,\n      textureParameters: PIXELATED_TEXTURE_PARAMETERS,\n    });\n  }\n}\n\nPixelatedBitmapLayer.layerName = 'PixelatedBitmapLayer';\nPixelatedBitmapLayer.defaultProps = defaultProps;\n","import glsl from 'glslify';\n\n/**\n * No change to the vertex shader from the base BitmapLayer.\n * Reference: https://github.com/visgl/deck.gl/blob/8.2-release/modules/layers/src/bitmap-layer/bitmap-layer-vertex.js\n */\nexport const vertexShader = glsl`\n#define SHADER_NAME heatmap-bitmap-layer-vertex-shader\n\nattribute vec2 texCoords;\nattribute vec3 positions;\nattribute vec3 positions64Low;\n\nvarying vec2 vTexCoord;\n\nconst vec3 pickingColor = vec3(1.0, 0.0, 0.0);\n\nvoid main(void) {\n  geometry.worldPosition = positions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = pickingColor;\n\n  gl_Position = project_position_to_clipspace(positions, positions64Low, vec3(0.0), geometry.position);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTexCoord = texCoords;\n\n  vec4 color = vec4(0.0);\n  DECKGL_FILTER_COLOR(color, geometry);\n}\n`;\n\n/**\n * Fragment shader adapted to perform aggregation and\n * take color scale functions + sliders into account.\n * Reference: https://github.com/visgl/deck.gl/blob/8.2-release/modules/layers/src/bitmap-layer/bitmap-layer-fragment.js\n * Reference: https://github.com/hms-dbmi/viv/blob/06231ae02cac1ff57ba458c71e9bc59ed2fc4f8b/src/layers/XRLayer/xr-layer-fragment-colormap.webgl1.glsl\n */\nexport const fragmentShader = glsl`\n#define SHADER_NAME heatmap-bitmap-layer-fragment-shader\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#pragma glslify: rdbu = require(\"glsl-colormap/rdbu\")\n#pragma glslify: plasma = require(\"glsl-colormap/plasma\")\n#pragma glslify: viridis = require(\"glsl-colormap/viridis\")\n#pragma glslify: greys = require(\"glsl-colormap/greys\")\n#pragma glslify: magma = require(\"glsl-colormap/magma\")\n#pragma glslify: jet = require(\"glsl-colormap/jet\")\n#pragma glslify: bone = require(\"glsl-colormap/bone\")\n#pragma glslify: copper = require(\"glsl-colormap/copper\")\n#pragma glslify: density = require(\"glsl-colormap/density\")\n#pragma glslify: inferno = require(\"glsl-colormap/inferno\")\n#pragma glslify: cool = require(\"glsl-colormap/cool\")\n#pragma glslify: hot = require(\"glsl-colormap/hot\")\n#pragma glslify: spring = require(\"glsl-colormap/spring\")\n#pragma glslify: summer = require(\"glsl-colormap/summer\")\n#pragma glslify: autumn = require(\"glsl-colormap/autumn\")\n#pragma glslify: winter = require(\"glsl-colormap/winter\")\n\n// The texture (GL.LUMINANCE & Uint8Array).\nuniform sampler2D uBitmapTexture;\n\n// What are the dimensions of the texture (width, height)?\nuniform vec2 uTextureSize;\n\n// How many consecutive pixels should be aggregated together along each axis?\nuniform vec2 uAggSize;\n\n// What are the values of the color scale sliders?\nuniform vec2 uColorScaleRange;\n\n// The texture coordinate, varying (interpolated between values set by the vertex shader).\nvarying vec2 vTexCoord;\n\nvoid main(void) {\n  // Compute 1 pixel in texture coordinates\n  vec2 onePixel = vec2(1.0, 1.0) / uTextureSize;\n  \n  vec2 viewCoord = vec2(floor(vTexCoord.x * uTextureSize.x), floor(vTexCoord.y * uTextureSize.y));\n\n  // Compute (x % aggSizeX, y % aggSizeY).\n  // These values will be the number of values to the left / above the current position to consider.\n  vec2 modAggSize = vec2(-1.0 * mod(viewCoord.x, uAggSize.x), -1.0 * mod(viewCoord.y, uAggSize.y));\n\n  // Take the sum of values along each axis.\n  float intensitySum = 0.0;\n  vec2 offsetPixels = vec2(0.0, 0.0);\n\n  for(int i = 0; i < 16; i++) {\n    // Check to break outer loop early.\n    // Uniforms cannot be used as conditions in GLSL for loops.\n    if(float(i) >= uAggSize.y) {\n      // Done in the y direction.\n      break;\n    }\n\n    offsetPixels = vec2(offsetPixels.x, (modAggSize.y + float(i)) * onePixel.y);\n\n    for(int j = 0; j < 16; j++) {\n      // Check to break inner loop early.\n      // Uniforms cannot be used as conditions in GLSL for loops.\n      if(float(j) >= uAggSize.x) {\n        // Done in the x direction.\n        break;\n      }\n\n      offsetPixels = vec2((modAggSize.x + float(j)) * onePixel.x, offsetPixels.y);\n      intensitySum += texture2D(uBitmapTexture, vTexCoord + offsetPixels).r;\n    }\n  }\n  \n  // Compute the mean value.\n  float intensityMean = intensitySum / (uAggSize.x * uAggSize.y);\n  \n  // Re-scale using the color scale slider values.\n  float scaledIntensityMean = (intensityMean - uColorScaleRange[0]) / max(0.005, (uColorScaleRange[1] - uColorScaleRange[0]));\n\n  gl_FragColor = COLORMAP_FUNC(clamp(scaledIntensityMean, 0.0, 1.0));\n\n  geometry.uv = vTexCoord;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n`;\n","/* eslint-disable no-underscore-dangle */\nimport GL from '@luma.gl/constants'; // eslint-disable-line import/no-extraneous-dependencies\nimport { _mergeShaders, project32, picking } from '@deck.gl/core'; // eslint-disable-line import/no-extraneous-dependencies\nimport { BitmapLayer } from '@deck.gl/layers'; // eslint-disable-line import/no-extraneous-dependencies\nimport { Texture2D } from '@luma.gl/core';\nimport { PIXELATED_TEXTURE_PARAMETERS, TILE_SIZE } from './heatmap-constants';\nimport { GLSL_COLORMAPS, GLSL_COLORMAP_DEFAULT, COLORMAP_SHADER_PLACEHOLDER } from './constants';\nimport { vertexShader, fragmentShader } from './heatmap-bitmap-layer-shaders';\n\nconst defaultProps = {\n  image: { type: 'object', value: null, async: true },\n  colormap: { type: 'string', value: GLSL_COLORMAP_DEFAULT, compare: true },\n  bounds: { type: 'array', value: [1, 0, 0, 1], compare: true },\n  aggSizeX: { type: 'number', value: 8.0, compare: true },\n  aggSizeY: { type: 'number', value: 8.0, compare: true },\n  colorScaleLo: { type: 'number', value: 0.0, compare: true },\n  colorScaleHi: { type: 'number', value: 1.0, compare: true },\n};\n\n/**\n * A BitmapLayer that performs aggregation in the fragment shader,\n * and renders its texture from a Uint8Array rather than an ImageData.\n */\nexport default class HeatmapBitmapLayer extends BitmapLayer {\n  /**\n   * Copy of getShaders from Layer (grandparent, parent of BitmapLayer).\n   * Reference: https://github.com/visgl/deck.gl/blob/0afd4e99a6199aeec979989e0c361c97e6c17a16/modules/core/src/lib/layer.js#L302\n   * @param {object} shaders\n   * @returns {object} Merged shaders.\n   */\n  _getShaders(shaders) {\n    this.props.extensions.forEach((extension) => {\n      // eslint-disable-next-line no-param-reassign\n      shaders = _mergeShaders(shaders, extension.getShaders.call(this, extension));\n    });\n    return shaders;\n  }\n\n  /**\n   * Need to override to provide custom shaders.\n   */\n  getShaders() {\n    const { colormap } = this.props;\n    const fragmentShaderWithColormap = (GLSL_COLORMAPS.includes(colormap)\n      ? fragmentShader.replace(COLORMAP_SHADER_PLACEHOLDER, colormap)\n      : fragmentShader.replace(COLORMAP_SHADER_PLACEHOLDER, GLSL_COLORMAP_DEFAULT)\n    );\n    return this._getShaders({\n      vs: vertexShader,\n      fs: fragmentShaderWithColormap,\n      modules: [project32, picking],\n    });\n  }\n\n  updateState(args) {\n    super.updateState(args);\n    this.loadTexture(this.props.image);\n    const { props, oldProps } = args;\n    if (props.colormap !== oldProps.colormap) {\n      const { gl } = this.context;\n      // eslint-disable-next-line no-unused-expressions\n      this.state.model?.delete();\n      this.state.model = this._getModel(gl);\n      this.getAttributeManager().invalidateAll();\n    }\n  }\n\n  /**\n   * Need to override to provide additional uniform values.\n   * Simplified by removing video-related code.\n   * Reference: https://github.com/visgl/deck.gl/blob/0afd4e99a6199aeec979989e0c361c97e6c17a16/modules/layers/src/bitmap-layer/bitmap-layer.js#L173\n   * @param {*} opts\n   */\n  draw(opts) {\n    const { uniforms } = opts;\n    const { bitmapTexture, model } = this.state;\n    const {\n      aggSizeX,\n      aggSizeY,\n      colorScaleLo,\n      colorScaleHi,\n    } = this.props;\n\n    // Render the image\n    if (bitmapTexture && model) {\n      model\n        .setUniforms(\n          Object.assign({}, uniforms, {\n            uBitmapTexture: bitmapTexture,\n            uTextureSize: [TILE_SIZE, TILE_SIZE],\n            uAggSize: [aggSizeX, aggSizeY],\n            uColorScaleRange: [colorScaleLo, colorScaleHi],\n          }),\n        )\n        .draw();\n    }\n  }\n\n  /**\n   * Need to override to provide the custom DEFAULT_TEXTURE_PARAMETERS\n   * object.\n   * Simplified by removing video-related code.\n   * Reference: https://github.com/visgl/deck.gl/blob/0afd4e99a6199aeec979989e0c361c97e6c17a16/modules/layers/src/bitmap-layer/bitmap-layer.js#L218\n   * @param {Uint8Array} image\n   */\n  loadTexture(image) {\n    const { gl } = this.context;\n\n    if (this.state.bitmapTexture) {\n      this.state.bitmapTexture.delete();\n    }\n\n    if (image instanceof Texture2D) {\n      this.setState({\n        bitmapTexture: image,\n      });\n    } else if (image) {\n      this.setState({\n        bitmapTexture: new Texture2D(gl, {\n          data: image,\n          mipmaps: false,\n          parameters: PIXELATED_TEXTURE_PARAMETERS,\n          // Each color contains a single luminance value.\n          // When sampled, rgb are all set to this luminance, alpha is 1.0.\n          // Reference: https://luma.gl/docs/api-reference/webgl/texture#texture-formats\n          format: GL.LUMINANCE,\n          dataFormat: GL.LUMINANCE,\n          type: GL.UNSIGNED_BYTE,\n          width: TILE_SIZE,\n          height: TILE_SIZE,\n        }),\n      });\n    }\n  }\n}\nHeatmapBitmapLayer.layerName = 'HeatmapBitmapLayer';\nHeatmapBitmapLayer.defaultProps = defaultProps;\n","module.exports = require(\"@material-ui/core/Box\");","module.exports = require(\"@material-ui/core/Table\");","module.exports = require(\"@material-ui/core/TableBody\");","module.exports = require(\"@material-ui/core/TableContainer\");","import clamp from 'lodash/clamp';\nimport range from 'lodash/range';\n\nimport {\n  AXIS_LABEL_TEXT_SIZE,\n  AXIS_MIN_SIZE,\n  AXIS_MAX_SIZE,\n} from '../../layers/heatmap-constants';\n\nexport function getGeneByCellTile(view, {\n  tileSize, tileI, tileJ, numCells, numGenes, cellOrdering, cells,\n}) {\n  const tileData = new Uint8Array(tileSize * tileSize);\n  let offset;\n  let value;\n  let cellI;\n  let geneI;\n  let sortedCellI;\n\n  const tileSizeRange = range(tileSize);\n\n  tileSizeRange.forEach((j) => {\n    // Need to iterate over cells in the outer loop.\n    cellI = (tileJ * tileSize) + j;\n    if (cellI < numCells) {\n      sortedCellI = cells.indexOf(cellOrdering[cellI]);\n      if (sortedCellI >= -1) {\n        tileSizeRange.forEach((i) => {\n          geneI = (tileI * tileSize) + i;\n          value = view[sortedCellI * numGenes + geneI];\n          offset = ((tileSize - i - 1) * tileSize + j);\n          tileData[offset] = value;\n        });\n      }\n    }\n  });\n  return tileData;\n}\n\nexport function getCellByGeneTile(view, {\n  tileSize, tileI, tileJ, numCells, numGenes, cellOrdering, cells,\n}) {\n  const tileData = new Uint8Array(tileSize * tileSize);\n  let offset;\n  let value;\n  let cellI;\n  let geneI;\n  let sortedCellI;\n\n  const tileSizeRange = range(tileSize);\n\n  tileSizeRange.forEach((i) => {\n    // Need to iterate over cells in the outer loop.\n    cellI = (tileI * tileSize) + i;\n    if (cellI < numCells) {\n      sortedCellI = cells.indexOf(cellOrdering[cellI]);\n      if (sortedCellI >= -1) {\n        tileSizeRange.forEach((j) => {\n          geneI = (tileJ * tileSize) + j;\n          if (geneI < numGenes) {\n            value = view[sortedCellI * numGenes + geneI];\n          } else {\n            value = 0;\n          }\n          offset = ((tileSize - i - 1) * tileSize + j);\n          tileData[offset] = value;\n        });\n      }\n    }\n  });\n\n  return tileData;\n}\n\n/**\n * Called before a layer is drawn to determine whether it should be rendered.\n * Reference: https://deck.gl/docs/api-reference/core/deck#layerfilter\n * @param {object} params A viewport, layer pair.\n * @param {object} params.layer The layer to check.\n * @param {object} params.viewport The viewport to check.\n * @returns {boolean} Should this layer be rendered in this viewport?\n */\nexport function layerFilter({ layer, viewport }) {\n  if (viewport.id === 'axisLeft') {\n    return layer.id.startsWith('axisLeft');\n  } if (viewport.id === 'axisTop') {\n    return layer.id.startsWith('axisTop');\n  } if (viewport.id === 'heatmap') {\n    return layer.id.startsWith('heatmap');\n  } if (viewport.id === 'colorsLeft') {\n    return layer.id.startsWith('colorsLeft');\n  } if (viewport.id === 'colorsTop') {\n    return layer.id.startsWith('colorsTop');\n  }\n  return false;\n}\n\n/**\n * Get the size of the left and top heatmap axes,\n * taking into account the maximum label string lengths.\n * @param {boolean} transpose Is the heatmap transposed?\n * @param {number} geneLabelMaxLength What is the maximum length gene label?\n * @param {number} cellLabelMaxLength What is the maximum length cell label?\n * @returns {number[]} [axisOffsetLeft, axisOffsetTop]\n */\nexport function getAxisSizes(transpose, geneLabelMaxLength, cellLabelMaxLength) {\n  const axisOffsetLeft = clamp(\n    (transpose ? geneLabelMaxLength : cellLabelMaxLength) * AXIS_LABEL_TEXT_SIZE,\n    AXIS_MIN_SIZE,\n    AXIS_MAX_SIZE,\n  );\n  const axisOffsetTop = clamp(\n    (transpose ? cellLabelMaxLength : geneLabelMaxLength) * AXIS_LABEL_TEXT_SIZE,\n    AXIS_MIN_SIZE,\n    AXIS_MAX_SIZE,\n  );\n  return [axisOffsetLeft, axisOffsetTop];\n}\n\n/**\n * Convert a mouse coordinate (x, y) to a heatmap coordinate (col index, row index).\n * @param {number} mouseX The mouse X of interest.\n * @param {number} mouseY The mouse Y of interest.\n * @param {object} param2 An object containing current sizes and scale factors.\n * @returns {number[]} [colI, rowI]\n */\nexport function mouseToHeatmapPosition(mouseX, mouseY, {\n  offsetLeft, offsetTop, targetX, targetY, scaleFactor, matrixWidth, matrixHeight, numRows, numCols,\n}) {\n  // TODO: use linear algebra\n  const viewMouseX = mouseX - offsetLeft;\n  const viewMouseY = mouseY - offsetTop;\n\n  if (viewMouseX < 0 || viewMouseY < 0) {\n    // The mouse is outside the heatmap.\n    return [null, null];\n  }\n\n  // Determine the rowI and colI values based on the current viewState.\n  const bboxTargetX = targetX * scaleFactor + matrixWidth * scaleFactor / 2;\n  const bboxTargetY = targetY * scaleFactor + matrixHeight * scaleFactor / 2;\n\n  const bboxLeft = bboxTargetX - matrixWidth / 2;\n  const bboxTop = bboxTargetY - matrixHeight / 2;\n\n  const zoomedOffsetLeft = bboxLeft / (matrixWidth * scaleFactor);\n  const zoomedOffsetTop = bboxTop / (matrixHeight * scaleFactor);\n\n  const zoomedViewMouseX = viewMouseX / (matrixWidth * scaleFactor);\n  const zoomedViewMouseY = viewMouseY / (matrixHeight * scaleFactor);\n\n  const zoomedMouseX = zoomedOffsetLeft + zoomedViewMouseX;\n  const zoomedMouseY = zoomedOffsetTop + zoomedViewMouseY;\n\n  const rowI = Math.floor(zoomedMouseY * numRows);\n  const colI = Math.floor(zoomedMouseX * numCols);\n  return [colI, rowI];\n}\n\n/**\n * Convert a heatmap coordinate (col index, row index) to a mouse coordinate (x, y).\n * @param {number} colI The column index of interest.\n * @param {number} rowI The row index of interest.\n * @param {object} param2 An object containing current sizes and scale factors.\n * @returns {number[]} [x, y]\n */\nexport function heatmapToMousePosition(colI, rowI, {\n  offsetLeft, offsetTop, targetX, targetY, scaleFactor, matrixWidth, matrixHeight, numRows, numCols,\n}) {\n  // TODO: use linear algebra\n  let zoomedMouseY = null;\n  let zoomedMouseX = null;\n\n  if (rowI !== null) {\n    const minY = -matrixHeight * scaleFactor / 2;\n    const maxY = matrixHeight * scaleFactor / 2;\n    const totalHeight = maxY - minY;\n\n    const minInViewY = (targetY * scaleFactor) - (matrixHeight / 2);\n    const maxInViewY = (targetY * scaleFactor) + (matrixHeight / 2);\n    const inViewHeight = maxInViewY - minInViewY;\n\n    const normalizedRowY = (rowI + 0.5) / numRows;\n    const globalRowY = minY + (normalizedRowY * totalHeight);\n\n    if (minInViewY <= globalRowY && globalRowY <= maxInViewY) {\n      zoomedMouseY = offsetTop + ((globalRowY - minInViewY) / inViewHeight) * matrixHeight;\n    }\n  }\n  if (colI !== null) {\n    const minX = -matrixWidth * scaleFactor / 2;\n    const maxX = matrixWidth * scaleFactor / 2;\n    const totalWidth = maxX - minX;\n\n    const minInViewX = (targetX * scaleFactor) - (matrixWidth / 2);\n    const maxInViewX = (targetX * scaleFactor) + (matrixWidth / 2);\n    const inViewWidth = maxInViewX - minInViewX;\n\n    const normalizedRowX = (colI + 0.5) / numCols;\n    const globalRowX = minX + (normalizedRowX * totalWidth);\n\n    if (minInViewX <= globalRowX && globalRowX <= maxInViewX) {\n      zoomedMouseX = offsetLeft + ((globalRowX - minInViewX) / inViewWidth) * matrixWidth;\n    }\n  }\n  return [zoomedMouseX, zoomedMouseY];\n}\n","// https://developer.mozilla.org/en-US/docs/Web/API/NavigatorConcurrentHardware/hardwareConcurrency\n// We need to give a different way of getting this for safari, so 4 is probably a safe bet\n// for parallel processing in the meantime.  More can't really hurt since they'll just block\n// each other and not the UI thread, which is the real benefit.\nconst defaultPoolSize = typeof navigator !== 'undefined' ? navigator.hardwareConcurrency || 4 : null;\n\n/**\n * Pool for workers to decode chunks of the images.\n * This is a line-for-line copy of GeoTIFFs old implementation: https://github.com/geotiffjs/geotiff.js/blob/v1.0.0-beta.6/src/pool.js\n */\nexport default class Pool {\n  /**\n   * @constructor\n   * @param {object} Worker The worker class to be used for processing.\n   */\n  constructor(Worker) {\n    this.workers = [];\n    this.idleWorkers = [];\n    this.waitQueue = [];\n    this.decoder = null;\n\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i < defaultPoolSize; ++i) {\n      const w = new Worker();\n      this.workers.push(w);\n      this.idleWorkers.push(w);\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async process() {\n    throw new Error('Pool needs to implement \"process\" method');\n  }\n\n  async waitForWorker() {\n    const idleWorker = this.idleWorkers.pop();\n    if (idleWorker) {\n      return idleWorker;\n    }\n    const waiter = {};\n    const promise = new Promise((resolve) => {\n      waiter.resolve = resolve;\n    });\n\n    this.waitQueue.push(waiter);\n    return promise;\n  }\n\n  async finishTask(currentWorker) {\n    const waiter = this.waitQueue.pop();\n    if (waiter) {\n      waiter.resolve(currentWorker);\n    } else {\n      this.idleWorkers.push(currentWorker);\n    }\n  }\n\n  destroy() {\n    // eslint-disable-next-line no-plusplus\n    for (let i = 0; i < this.workers.length; ++i) {\n      this.workers[i].terminate();\n    }\n  }\n}\n","import Worker from './heatmap.worker'; // eslint-disable-line import/no-unresolved\nimport Pool from '../../Pool';\n\n/**\n * Pool for workers to decode chunks of the images.\n * This is a line-for-line copy of GeoTIFFs old implementation: https://github.com/geotiffjs/geotiff.js/blob/v1.0.0-beta.6/src/pool.js\n */\nexport default class HeatmapPool extends Pool {\n  constructor() {\n    super(Worker);\n  }\n\n  /**\n   * Process each heatmap tile\n   * @param {object} params The arguments passed to the heatmap worker.\n   * @param {string} params.curr The current task uuid.\n   * @param {number} params.xTiles How many tiles required in the x direction?\n   * @param {number} params.yTiles How many tiles required in the y direction?\n   * @param {number} params.tileSize How many entries along each tile axis?\n   * @param {string[]} params.cellOrdering The current ordering of cells.\n   * @param {string[]} params.rows The name of each row (cell ID).\n   * Does not take transpose into account (always cells).\n   * @param {string[]} params.cols The name of each column (gene ID).\n   * Does not take transpose into account (always genes).\n   * @param {ArrayBuffer} params.data The array buffer.\n   * Need to transfer back to main thread when done.\n   * @param {boolean} params.transpose Is the heatmap transposed?\n   * @returns {array} [message, transfers]\n   * @returns {Promise.<ArrayBuffer>} the decoded result as a `Promise`\n   */\n  async process(args) {\n    const currentWorker = await this.waitForWorker();\n    return new Promise((resolve, reject) => {\n      currentWorker.onmessage = (event) => {\n        // this.workers.push(currentWorker);\n        this.finishTask(currentWorker);\n        resolve(event.data);\n      };\n      currentWorker.onerror = (error) => {\n        // this.workers.push(currentWorker);\n        this.finishTask(currentWorker);\n        reject(error);\n      };\n      currentWorker.postMessage(['getTile', args], [args.data]);\n    });\n  }\n}\n","import React, {\n  useRef, useState, useCallback, useMemo, useEffect, useReducer, forwardRef,\n} from 'react';\nimport uuidv4 from 'uuid/v4';\nimport DeckGL from 'deck.gl';\nimport { OrthographicView } from '@deck.gl/core'; // eslint-disable-line import/no-extraneous-dependencies\nimport range from 'lodash/range';\nimport clamp from 'lodash/clamp';\nimport isEqual from 'lodash/isEqual';\nimport { max } from 'd3-array';\nimport HeatmapCompositeTextLayer from '../../layers/HeatmapCompositeTextLayer';\nimport PixelatedBitmapLayer from '../../layers/PixelatedBitmapLayer';\nimport HeatmapBitmapLayer from '../../layers/HeatmapBitmapLayer';\nimport {\n  DEFAULT_GL_OPTIONS,\n  createDefaultUpdateCellsHover,\n  createDefaultUpdateGenesHover,\n  createDefaultUpdateViewInfo,\n  copyUint8Array,\n} from '../utils';\nimport {\n  layerFilter,\n  getAxisSizes,\n  mouseToHeatmapPosition,\n  heatmapToMousePosition,\n} from './utils';\nimport {\n  TILE_SIZE, MAX_ROW_AGG, MIN_ROW_AGG,\n  COLOR_BAR_SIZE,\n  AXIS_MARGIN,\n} from '../../layers/heatmap-constants';\nimport HeatmapWorkerPool from './HeatmapWorkerPool';\n/**\n * A heatmap component for cell x gene matrices.\n * @param {object} props\n * @param {string} props.uuid The uuid of this component,\n * used by tooltips to determine whether to render a tooltip or\n * a crosshair.\n * @param {string} props.theme The current theme name.\n * @param {object} props.initialViewState The initial viewState for\n * DeckGL.\n * @param {number} props.width The width of the canvas.\n * @param {number} props.height The height of the canvas.\n * @param {object} props.expressionMatrix An object { rows, cols, matrix },\n * where matrix is a flat Uint8Array, rows is a list of cell ID strings,\n * and cols is a list of gene ID strings.\n * @param {Map} props.cellColors Map of cell ID to color. Optional.\n * If defined, the key ordering is used to order the cell axis of the heatmap.\n * @param {function} props.clearPleaseWait The clear please wait callback,\n * called when the expression matrix has loaded (is not null).\n * @param {function} props.setCellHighlight Callback function called on\n * hover with the cell ID. Optional.\n * @param {function} props.setGeneHighlight Callback function called on\n * hover with the gene ID. Optional.\n * @param {function} props.updateViewInfo Callback function that gets called with an\n * object { uuid, project() } where project is a function that maps (cellId, geneId)\n * to canvas (x,y) coordinates. Used to show tooltips. Optional.\n * @param {boolean} props.transpose By default, false.\n * @param {string} props.variablesTitle By default, 'Genes'.\n * @param {string} props.observationsTitle By default, 'Cells'.\n * @param {string} props.colormap The name of the colormap function to use.\n * @param {array} props.colormapRange A tuple [lower, upper] to adjust the color scale.\n * @param {function} props.setColormapRange The setter function for colormapRange.\n */\nconst Heatmap = forwardRef((props, deckRef) => {\n  const {\n    uuid,\n    theme,\n    viewState: rawViewState,\n    setViewState,\n    width: viewWidth,\n    height: viewHeight,\n    expressionMatrix: expression,\n    cellColors,\n    colormap,\n    colormapRange,\n    clearPleaseWait,\n    setComponentHover,\n    setCellHighlight = createDefaultUpdateCellsHover('Heatmap'),\n    setGeneHighlight = createDefaultUpdateGenesHover('Heatmap'),\n    updateViewInfo = createDefaultUpdateViewInfo('Heatmap'),\n    setIsRendering = () => {},\n    transpose = false,\n    variablesTitle = 'Genes',\n    observationsTitle = 'Cells',\n  } = props;\n\n  const viewState = {\n    ...rawViewState,\n    target: (transpose ? [rawViewState.target[1], rawViewState.target[0]] : rawViewState.target),\n    minZoom: 0,\n  };\n\n  const axisLeftTitle = (transpose ? variablesTitle : observationsTitle);\n  const axisTopTitle = (transpose ? observationsTitle : variablesTitle);\n\n  const workerPool = useMemo(() => new HeatmapWorkerPool(), []);\n\n  useEffect(() => {\n    if (clearPleaseWait && expression) {\n      clearPleaseWait('expression-matrix');\n    }\n  }, [clearPleaseWait, expression]);\n\n  const tilesRef = useRef();\n  const dataRef = useRef();\n  const [axisLeftLabels, setAxisLeftLabels] = useState([]);\n  const [axisTopLabels, setAxisTopLabels] = useState([]);\n\n\n  // Since we are storing the tile data in a ref,\n  // and updating it asynchronously when the worker finishes,\n  // we need to tie it to a piece of state through this iteration value.\n  const [tileIteration, incTileIteration] = useReducer(i => i + 1, 0);\n\n  // We need to keep a backlog of the tasks for the worker thread,\n  // since the array buffer can only be held by one thread at a time.\n  const [backlog, setBacklog] = useState([]);\n\n  // Store a reference to the matrix Uint8Array in the dataRef,\n  // since we need to access its array buffer to transfer\n  // it back and forth from the worker thread.\n  useEffect(() => {\n    // Store the expression matrix Uint8Array in the dataRef.\n    if (expression && expression.matrix) {\n      dataRef.current = copyUint8Array(expression.matrix);\n    }\n  }, [dataRef, expression]);\n\n  // Check if the ordering of axis labels needs to be changed,\n  // for example if the cells \"selected\" (technically just colored)\n  // have changed.\n  useEffect(() => {\n    if (!expression) {\n      return;\n    }\n    const newCellOrdering = (!cellColors || cellColors.size === 0\n      ? expression.rows\n      : Array.from(cellColors.keys())\n    );\n    const oldCellOrdering = (transpose ? axisTopLabels : axisLeftLabels);\n\n    if (!isEqual(oldCellOrdering, newCellOrdering)) {\n      if (transpose) {\n        setAxisTopLabels(newCellOrdering);\n      } else {\n        setAxisLeftLabels(newCellOrdering);\n      }\n    }\n  }, [expression, cellColors, axisTopLabels, axisLeftLabels, transpose]);\n\n  // Set the genes ordering.\n  useEffect(() => {\n    if (!expression) {\n      return;\n    }\n    if (transpose) {\n      setAxisLeftLabels(expression.cols);\n    } else {\n      setAxisTopLabels(expression.cols);\n    }\n  }, [expression, transpose]);\n\n  const [cellLabelMaxLength, geneLabelMaxLength] = useMemo(() => {\n    if (!expression) {\n      return [0, 0];\n    }\n    return [\n      max(expression.rows.map(cellId => cellId.length)),\n      max(expression.cols.map(geneId => geneId.length)),\n    ];\n  }, [expression]);\n\n  const width = axisTopLabels.length;\n  const height = axisLeftLabels.length;\n\n  const [axisOffsetLeft, axisOffsetTop] = getAxisSizes(\n    transpose, geneLabelMaxLength, cellLabelMaxLength,\n  );\n\n  const offsetTop = axisOffsetTop + COLOR_BAR_SIZE;\n  const offsetLeft = axisOffsetLeft + COLOR_BAR_SIZE;\n\n  const matrixWidth = viewWidth - offsetLeft;\n  const matrixHeight = viewHeight - offsetTop;\n\n  const matrixLeft = -matrixWidth / 2;\n  const matrixRight = matrixWidth / 2;\n  const matrixTop = -matrixHeight / 2;\n  const matrixBottom = matrixHeight / 2;\n\n  const xTiles = Math.ceil(width / TILE_SIZE);\n  const yTiles = Math.ceil(height / TILE_SIZE);\n\n  const widthRatio = 1 - (TILE_SIZE - (width % TILE_SIZE)) / (xTiles * TILE_SIZE);\n  const heightRatio = 1 - (TILE_SIZE - (height % TILE_SIZE)) / (yTiles * TILE_SIZE);\n\n  const tileWidth = (matrixWidth / widthRatio) / (xTiles);\n  const tileHeight = (matrixHeight / heightRatio) / (yTiles);\n\n  const scaleFactor = 2 ** viewState.zoom;\n  const cellHeight = (matrixHeight * scaleFactor) / height;\n  const cellWidth = (matrixWidth * scaleFactor) / width;\n\n  // Get power of 2 between 1 and 16,\n  // for number of cells to aggregate together in each direction.\n  const aggSizeX = clamp(2 ** Math.ceil(Math.log2(1 / cellWidth)), MIN_ROW_AGG, MAX_ROW_AGG);\n  const aggSizeY = clamp(2 ** Math.ceil(Math.log2(1 / cellHeight)), MIN_ROW_AGG, MAX_ROW_AGG);\n\n  const [targetX, targetY] = viewState.target;\n\n  // Emit the viewInfo object on viewState updates\n  // (used by tooltips / crosshair elements).\n  useEffect(() => {\n    updateViewInfo({\n      uuid,\n      project: (cellId, geneId) => {\n        const colI = transpose ? axisTopLabels.indexOf(cellId) : axisTopLabels.indexOf(geneId);\n        const rowI = transpose ? axisLeftLabels.indexOf(geneId) : axisLeftLabels.indexOf(cellId);\n        return heatmapToMousePosition(\n          colI, rowI, {\n            offsetLeft,\n            offsetTop,\n            targetX: viewState.target[0],\n            targetY: viewState.target[1],\n            scaleFactor,\n            matrixWidth,\n            matrixHeight,\n            numRows: height,\n            numCols: width,\n          },\n        );\n      },\n    });\n  }, [uuid, updateViewInfo, transpose, axisTopLabels, axisLeftLabels, offsetLeft,\n    offsetTop, viewState, scaleFactor, matrixWidth, matrixHeight, height, width]);\n\n\n  // Listen for viewState changes.\n  // Do not allow the user to zoom and pan outside of the initial window.\n  const onViewStateChange = useCallback(({ viewState: nextViewState }) => {\n    const { zoom: nextZoom } = nextViewState;\n    const nextScaleFactor = 2 ** nextZoom;\n\n    const minTargetX = nextZoom === 0 ? 0 : -(matrixRight - (matrixRight / nextScaleFactor));\n    const maxTargetX = -1 * minTargetX;\n\n    const minTargetY = nextZoom === 0 ? 0 : -(matrixBottom - (matrixBottom / nextScaleFactor));\n    const maxTargetY = -1 * minTargetY;\n\n    // Manipulate view state if necessary to keep the user in the window.\n    const nextTarget = [\n      clamp(nextViewState.target[0], minTargetX, maxTargetX),\n      clamp(nextViewState.target[1], minTargetY, maxTargetY),\n    ];\n\n    setViewState({\n      zoom: nextZoom,\n      target: (transpose ? [nextTarget[1], nextTarget[0]] : nextTarget),\n    });\n  }, [matrixRight, matrixBottom, transpose, setViewState]);\n\n  // If `expression` or `cellOrdering` have changed,\n  // then new tiles need to be generated,\n  // so add a new task to the backlog.\n  useEffect(() => {\n    if (!expression) {\n      return;\n    }\n    // Use a uuid to give the task a unique ID,\n    // to help identify where in the list it is located\n    // after the worker thread asynchronously sends the data back\n    // to this thread.\n    if (\n      axisTopLabels && axisLeftLabels && xTiles && yTiles\n    ) {\n      setBacklog(prev => [...prev, uuidv4()]);\n    }\n  }, [dataRef, expression, axisTopLabels, axisLeftLabels, xTiles, yTiles]);\n\n  // When the backlog has updated, a new worker job can be submitted if:\n  // - the backlog has length >= 1 (at least one job is waiting), and\n  // - buffer.byteLength is not zero, so the worker does not currently \"own\" the buffer.\n  useEffect(() => {\n    if (backlog.length < 1) {\n      return;\n    }\n    const curr = backlog[backlog.length - 1];\n    if (dataRef.current && dataRef.current.buffer.byteLength) {\n      const { rows, cols, matrix } = expression;\n      const promises = range(yTiles).map(i => range(xTiles).map(async j => workerPool.process({\n        curr,\n        tileI: i,\n        tileJ: j,\n        tileSize: TILE_SIZE,\n        cellOrdering: transpose ? axisTopLabels : axisLeftLabels,\n        rows,\n        cols,\n        transpose,\n        data: matrix.buffer.slice(),\n      })));\n      const process = async () => {\n        const tiles = await Promise.all(promises.flat());\n        tilesRef.current = tiles.map(i => i.tile);\n        incTileIteration();\n        dataRef.current = new Uint8Array(tiles[0].buffer);\n        const { curr: currWork } = tiles[0];\n        setBacklog((prev) => {\n          const currIndex = prev.indexOf(currWork);\n          return prev.slice(currIndex + 1, prev.length);\n        });\n      };\n      process();\n    }\n  }, [axisLeftLabels, axisTopLabels, backlog, expression, transpose, xTiles, yTiles, workerPool]);\n\n  useEffect(() => {\n    setIsRendering(backlog.length > 0);\n  }, [backlog, setIsRendering]);\n\n  // Update the heatmap tiles if:\n  // - new tiles are available (`tileIteration` has changed), or\n  // - the matrix bounds have changed, or\n  // - the `aggSizeX` or `aggSizeY` have changed, or\n  // - the cell ordering has changed.\n  const heatmapLayers = useMemo(() => {\n    if (!tilesRef.current || backlog.length) {\n      return [];\n    }\n    function getLayer(i, j, tile) {\n      return new HeatmapBitmapLayer({\n        id: `heatmapLayer-${tileIteration}-${i}-${j}`,\n        image: tile,\n        bounds: [\n          matrixLeft + j * tileWidth,\n          matrixTop + i * tileHeight,\n          matrixLeft + (j + 1) * tileWidth,\n          matrixTop + (i + 1) * tileHeight,\n        ],\n        aggSizeX,\n        aggSizeY,\n        colormap,\n        colorScaleLo: colormapRange[0],\n        colorScaleHi: colormapRange[1],\n        updateTriggers: {\n          image: [axisLeftLabels, axisTopLabels],\n          bounds: [tileHeight, tileWidth],\n        },\n      });\n    }\n    const layers = tilesRef\n      .current.map((tile, index) => getLayer(Math.floor(index / xTiles), index % xTiles, tile));\n    return layers;\n  }, [backlog, tileIteration, matrixLeft, tileWidth, matrixTop, tileHeight,\n    aggSizeX, aggSizeY, colormap, colormapRange,\n    axisLeftLabels, axisTopLabels, xTiles]);\n\n\n  // Map cell and gene names to arrays with indices,\n  // to prepare to render the names in TextLayers.\n  const axisTopLabelData = useMemo(() => axisTopLabels.map((d, i) => [i, d]), [axisTopLabels]);\n  const axisLeftLabelData = useMemo(() => axisLeftLabels.map((d, i) => [i, d]), [axisLeftLabels]);\n\n  // Generate the axis label, axis title, and loading indicator text layers.\n  const textLayers = [\n    new HeatmapCompositeTextLayer({\n      targetX,\n      targetY,\n      scaleFactor,\n      axisLeftLabelData,\n      matrixTop,\n      height,\n      matrixHeight,\n      cellHeight,\n      cellWidth,\n      axisTopLabelData,\n      matrixLeft,\n      width,\n      matrixWidth,\n      viewHeight,\n      viewWidth,\n      theme,\n      axisLeftTitle,\n      axisTopTitle,\n      axisOffsetLeft,\n      axisOffsetTop,\n    }),\n  ];\n\n  // Create the left color bar with a BitmapLayer.\n  // TODO: find a way to do aggregation for this as well.\n  const cellColorsTiles = useMemo(() => {\n    if (!cellColors) {\n      return null;\n    }\n\n    let cellId;\n    let offset;\n    let color;\n    let rowI;\n\n    const cellOrdering = (transpose ? axisTopLabels : axisLeftLabels);\n    const colorBarTileWidthPx = (transpose ? TILE_SIZE : 1);\n    const colorBarTileHeightPx = (transpose ? 1 : TILE_SIZE);\n\n    const result = range((transpose ? xTiles : yTiles)).map((i) => {\n      const tileData = new Uint8ClampedArray(TILE_SIZE * 1 * 4);\n\n      range(TILE_SIZE).forEach((tileY) => {\n        rowI = (i * TILE_SIZE) + tileY; // the row / cell index\n        if (rowI < cellOrdering.length) {\n          cellId = cellOrdering[rowI];\n          color = cellColors.get(cellId);\n          offset = (transpose ? tileY : (TILE_SIZE - tileY - 1)) * 4;\n          if (color) {\n            const [rValue, gValue, bValue] = color;\n            tileData[offset + 0] = rValue;\n            tileData[offset + 1] = gValue;\n            tileData[offset + 2] = bValue;\n            tileData[offset + 3] = 255;\n          }\n        }\n      });\n\n      return new ImageData(tileData, colorBarTileWidthPx, colorBarTileHeightPx);\n    });\n\n    return result;\n  }, [cellColors, transpose, axisTopLabels, axisLeftLabels, xTiles, yTiles]);\n\n  const cellColorsLayers = useMemo(() => (cellColorsTiles\n    ? cellColorsTiles\n      .map((tile, i) => new PixelatedBitmapLayer({\n        id: `${(transpose ? 'colorsTopLayer' : 'colorsLeftLayer')}-${i}-${uuidv4()}`,\n        image: tile,\n        bounds: (transpose ? [\n          matrixLeft + i * tileWidth,\n          -matrixHeight / 2,\n          matrixLeft + (i + 1) * tileWidth,\n          matrixHeight / 2,\n        ] : [\n          -matrixWidth / 2,\n          matrixTop + i * tileHeight,\n          matrixWidth / 2,\n          matrixTop + (i + 1) * tileHeight,\n        ]),\n      }))\n    : []), [cellColorsTiles, matrixTop, matrixLeft, matrixHeight,\n    matrixWidth, tileWidth, tileHeight, transpose]);\n\n  const layers = heatmapLayers\n    .concat(textLayers)\n    .concat(cellColorsLayers);\n\n  // Set up the onHover function.\n  function onHover(info, event) {\n    if (!expression) {\n      return;\n    }\n    const { x: mouseX, y: mouseY } = event.offsetCenter;\n    const [colI, rowI] = mouseToHeatmapPosition(mouseX, mouseY, {\n      offsetLeft,\n      offsetTop,\n      targetX,\n      targetY,\n      scaleFactor,\n      matrixWidth,\n      matrixHeight,\n      numRows: height,\n      numCols: width,\n    });\n\n    if (colI === null) {\n      if (transpose) {\n        setCellHighlight(null);\n      } else {\n        setGeneHighlight(null);\n      }\n    }\n\n    if (rowI === null) {\n      if (transpose) {\n        setGeneHighlight(null);\n      } else {\n        setCellHighlight(null);\n      }\n    }\n\n    const obsI = expression.rows.indexOf(transpose\n      ? axisTopLabels[colI]\n      : axisLeftLabels[rowI]);\n    const varI = expression.cols.indexOf(transpose\n      ? axisLeftLabels[rowI]\n      : axisTopLabels[colI]);\n\n    const obsId = expression.rows[obsI];\n    const varId = expression.cols[varI];\n    if (setComponentHover) {\n      setComponentHover();\n    }\n    setCellHighlight(obsId || null);\n    setGeneHighlight(varId || null);\n  }\n\n  return (\n    <DeckGL\n      id={`deckgl-overlay-${uuid}`}\n      ref={deckRef}\n      views={[\n        // Note that there are multiple views here,\n        // but only one viewState.\n        new OrthographicView({\n          id: 'heatmap',\n          controller: true,\n          x: offsetLeft,\n          y: offsetTop,\n          width: matrixWidth,\n          height: matrixHeight,\n        }),\n        new OrthographicView({\n          id: 'axisLeft',\n          controller: false,\n          x: (transpose ? COLOR_BAR_SIZE : 0),\n          y: offsetTop,\n          width: axisOffsetLeft,\n          height: matrixHeight,\n        }),\n        new OrthographicView({\n          id: 'axisTop',\n          controller: false,\n          x: offsetLeft,\n          y: (transpose ? 0 : COLOR_BAR_SIZE),\n          width: matrixWidth,\n          height: axisOffsetTop,\n        }),\n        new OrthographicView({\n          id: 'colorsLeft',\n          controller: false,\n          x: axisOffsetLeft,\n          y: offsetTop,\n          width: COLOR_BAR_SIZE - AXIS_MARGIN,\n          height: matrixHeight,\n        }),\n        new OrthographicView({\n          id: 'colorsTop',\n          controller: false,\n          x: offsetLeft,\n          y: axisOffsetTop,\n          width: matrixWidth,\n          height: COLOR_BAR_SIZE - AXIS_MARGIN,\n        }),\n      ]}\n      layers={layers}\n      layerFilter={layerFilter}\n      getCursor={interactionState => (interactionState.isDragging ? 'grabbing' : 'default')}\n      glOptions={DEFAULT_GL_OPTIONS}\n      onViewStateChange={onViewStateChange}\n      viewState={viewState}\n      onHover={onHover}\n    />\n  );\n});\n\nexport default Heatmap;\n","module.exports = require(\"regenerator-runtime\");","import React from 'react';\nimport Tooltip2D from '../tooltip/Tooltip2D';\nimport TooltipContent from '../tooltip/TooltipContent';\nimport { useComponentHover, useComponentViewInfo } from '../../app/state/hooks';\n\nexport default function HeatmapTooltipSubscriber(props) {\n  const {\n    parentUuid,\n    width, height, transpose,\n    getCellInfo, getGeneInfo,\n    cellHighlight, geneHighlight,\n  } = props;\n\n  const sourceUuid = useComponentHover();\n  const viewInfo = useComponentViewInfo(parentUuid);\n\n  const [cellInfo, cellCoord] = (cellHighlight && getCellInfo ? (\n    [\n      getCellInfo(cellHighlight),\n      (viewInfo && viewInfo.project\n        ? viewInfo.project(cellHighlight, null)[(transpose ? 0 : 1)]\n        : null),\n    ]\n  ) : ([null, null]));\n\n  const [geneInfo, geneCoord] = (geneHighlight && getGeneInfo ? (\n    [\n      getGeneInfo(geneHighlight),\n      (viewInfo && viewInfo.project\n        ? viewInfo.project(null, geneHighlight)[(transpose ? 1 : 0)]\n        : null),\n    ]\n  ) : ([null, null]));\n\n  const x = (transpose ? cellCoord : geneCoord);\n  const y = (transpose ? geneCoord : cellCoord);\n\n  return (\n    (cellInfo || geneInfo ? (\n      <Tooltip2D\n        x={x}\n        y={y}\n        parentUuid={parentUuid}\n        parentWidth={width}\n        parentHeight={height}\n        sourceUuid={sourceUuid}\n      >\n        <TooltipContent info={{ ...geneInfo, ...cellInfo }} />\n      </Tooltip2D>\n    ) : null)\n  );\n}\n","import React, { useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport Slider from '@material-ui/core/Slider';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { useStyles } from '../shared-plot-options/styles';\nimport OptionsContainer from '../shared-plot-options/OptionsContainer';\nimport OptionSelect from '../shared-plot-options/OptionSelect';\nimport { GLSL_COLORMAPS } from '../../layers/constants';\n\nexport default function HeatmapOptions(props) {\n  const {\n    geneExpressionColormap,\n    setGeneExpressionColormap,\n    geneExpressionColormapRange,\n    setGeneExpressionColormapRange,\n  } = props;\n\n  const classes = useStyles();\n\n  function handleGeneExpressionColormapChange(event) {\n    setGeneExpressionColormap(event.target.value);\n  }\n\n  function handleColormapRangeChange(event, value) {\n    setGeneExpressionColormapRange(value);\n  }\n  const handleColormapRangeChangeDebounced = useCallback(\n    debounce(handleColormapRangeChange, 5, { trailing: true }),\n    [handleColormapRangeChange],\n  );\n\n  return (\n    <OptionsContainer>\n      <TableRow>\n        <TableCell className={classes.labelCell} htmlFor=\"gene-expression-colormap-select\">\n          Gene Expression Colormap\n        </TableCell>\n        <TableCell className={classes.inputCell}>\n          <OptionSelect\n            className={classes.select}\n            value={geneExpressionColormap}\n            onChange={handleGeneExpressionColormapChange}\n            inputProps={{\n              id: 'gene-expression-colormap-select',\n            }}\n          >\n            {GLSL_COLORMAPS.map(cmap => (\n              <option key={cmap} value={cmap}>{cmap}</option>\n            ))}\n          </OptionSelect>\n        </TableCell>\n      </TableRow>\n      <TableRow>\n        <TableCell className={classes.labelCell}>\n          Gene Expression Colormap Range\n        </TableCell>\n        <TableCell className={classes.inputCell}>\n          <Slider\n            classes={{ root: classes.slider, valueLabel: classes.sliderValueLabel }}\n            value={geneExpressionColormapRange}\n            onChange={handleColormapRangeChangeDebounced}\n            aria-labelledby=\"gene-expression-colormap-range-slider\"\n            valueLabelDisplay=\"auto\"\n            step={0.005}\n            min={0.0}\n            max={1.0}\n          />\n        </TableCell>\n      </TableRow>\n    </OptionsContainer>\n  );\n}\n","import React, {\n  useEffect, useState, useCallback, useMemo,\n} from 'react';\nimport TitleInfo from '../TitleInfo';\nimport { pluralize, capitalize } from '../../utils';\nimport { useDeckCanvasSize, useReady, useUrls } from '../hooks';\nimport { mergeCellSets } from '../utils';\nimport {\n  useCellsData,\n  useCellSetsData,\n  useExpressionMatrixData,\n} from '../data-hooks';\nimport { getCellColors } from '../interpolate-colors';\nimport {\n  useCoordination, useLoaders,\n  useSetComponentHover, useSetComponentViewInfo,\n} from '../../app/state/hooks';\nimport {\n  COMPONENT_COORDINATION_TYPES,\n} from '../../app/state/coordination';\nimport Heatmap from './Heatmap';\nimport HeatmapTooltipSubscriber from './HeatmapTooltipSubscriber';\nimport HeatmapOptions from './HeatmapOptions';\n\nconst HEATMAP_DATA_TYPES = ['cells', 'cell-sets', 'expression-matrix'];\n\n/**\n * @param {object} props\n * @param {number} props.uuid The unique identifier for this component.\n * @param {object} props.coordinationScopes The mapping from coordination types to coordination\n * scopes.\n * @param {function} props.removeGridComponent The callback function to pass to TitleInfo,\n * to call when the component has been removed from the grid.\n * @param {string} props.title The component title.\n * @param {boolean} props.transpose Whether to\n * render as cell-by-gene or gene-by-cell.\n * @param {string} props.observationsLabelOverride The singular\n * form of the name of the observation.\n * @param {string} props.observationsPluralLabelOverride The\n * plural form of the name of the observation.\n * @param {string} props.variablesLabelOverride The singular\n * form of the name of the variable.\n * @param {string} props.variablesPluralLabelOverride The plural\n * form of the name of the variable.\n * @param {boolean} props.disableTooltip Whether to disable the\n * tooltip on mouse hover.\n */\nexport default function HeatmapSubscriber(props) {\n  const {\n    uuid,\n    coordinationScopes,\n    removeGridComponent, theme, transpose,\n    observationsLabelOverride: observationsLabel = 'cell',\n    observationsPluralLabelOverride: observationsPluralLabel = `${observationsLabel}s`,\n    variablesLabelOverride: variablesLabel = 'gene',\n    variablesPluralLabelOverride: variablesPluralLabel = `${variablesLabel}s`,\n    disableTooltip = false,\n    title = 'Heatmap',\n  } = props;\n\n  const loaders = useLoaders();\n  const setComponentHover = useSetComponentHover();\n  const setComponentViewInfo = useSetComponentViewInfo(uuid);\n\n  // Get \"props\" from the coordination space.\n  const [{\n    dataset,\n    heatmapZoomX: zoomX,\n    heatmapTargetX: targetX,\n    heatmapTargetY: targetY,\n    geneSelection,\n    cellHighlight,\n    geneHighlight,\n    cellSetSelection,\n    cellSetColor,\n    additionalCellSets,\n    geneExpressionColormap,\n    geneExpressionColormapRange,\n  }, {\n    setHeatmapZoomX: setZoomX,\n    setHeatmapZoomY: setZoomY,\n    setHeatmapTargetX: setTargetX,\n    setHeatmapTargetY: setTargetY,\n    setCellHighlight,\n    setGeneHighlight,\n    setCellSetSelection,\n    setCellSetColor,\n    setGeneExpressionColormapRange,\n    setGeneExpressionColormap,\n  }] = useCoordination(COMPONENT_COORDINATION_TYPES.heatmap, coordinationScopes);\n\n  const observationsTitle = capitalize(observationsPluralLabel);\n  const variablesTitle = capitalize(variablesPluralLabel);\n\n  const [isRendering, setIsRendering] = useState(false);\n  const [\n    isReady,\n    setItemIsReady,\n    setItemIsNotReady, // eslint-disable-line no-unused-vars\n    resetReadyItems,\n  ] = useReady(\n    HEATMAP_DATA_TYPES,\n  );\n  const [urls, addUrl, resetUrls] = useUrls();\n  const [width, height, deckRef] = useDeckCanvasSize();\n\n  // Reset file URLs and loader progress when the dataset has changed.\n  useEffect(() => {\n    resetUrls();\n    resetReadyItems();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [loaders, dataset]);\n\n  // Get data from loaders using the data hooks.\n  const [cells] = useCellsData(loaders, dataset, setItemIsReady, addUrl, true);\n  const [expressionMatrix] = useExpressionMatrixData(\n    loaders, dataset, setItemIsReady, addUrl, true,\n  );\n  const [cellSets] = useCellSetsData(\n    loaders, dataset, setItemIsReady, addUrl, false,\n    { setCellSetSelection, setCellSetColor },\n    { cellSetSelection, cellSetColor },\n  );\n\n  const mergedCellSets = useMemo(() => mergeCellSets(\n    cellSets, additionalCellSets,\n  ), [cellSets, additionalCellSets]);\n\n  const cellColors = useMemo(() => getCellColors({\n    // Only show cell set selection on heatmap labels.\n    cellColorEncoding: 'cellSetSelection',\n    geneSelection,\n    cellSets: mergedCellSets,\n    cellSetSelection,\n    cellSetColor,\n    expressionDataAttrs: expressionMatrix,\n    theme,\n  }), [mergedCellSets, geneSelection, theme,\n    cellSetColor, cellSetSelection, expressionMatrix]);\n\n  const getCellInfo = useCallback((cellId) => {\n    if (cellId) {\n      const cellInfo = cells[cellId];\n      return {\n        [`${capitalize(observationsLabel)} ID`]: cellId,\n        ...(cellInfo ? cellInfo.factors : {}),\n      };\n    }\n    return null;\n  }, [cells, observationsLabel]);\n\n  const getGeneInfo = useCallback((geneId) => {\n    if (geneId) {\n      return { [`${capitalize(variablesLabel)} ID`]: geneId };\n    }\n    return null;\n  }, [variablesLabel]);\n\n  const cellsCount = expressionMatrix && expressionMatrix.rows\n    ? expressionMatrix.rows.length : 0;\n  const genesCount = expressionMatrix && expressionMatrix.cols\n    ? expressionMatrix.cols.length : 0;\n  const selectedCount = cellColors.size;\n  return (\n    <TitleInfo\n      title={title}\n      info={`${cellsCount} ${pluralize(observationsLabel, observationsPluralLabel, cellsCount)}  ${genesCount} ${pluralize(variablesLabel, variablesPluralLabel, genesCount)},\n             with ${selectedCount} ${pluralize(observationsLabel, observationsPluralLabel, selectedCount)} selected`}\n      urls={urls}\n      theme={theme}\n      removeGridComponent={removeGridComponent}\n      isReady={isReady && !isRendering}\n      options={(\n        <HeatmapOptions\n          geneExpressionColormap={geneExpressionColormap}\n          setGeneExpressionColormap={setGeneExpressionColormap}\n          geneExpressionColormapRange={geneExpressionColormapRange}\n          setGeneExpressionColormapRange={setGeneExpressionColormapRange}\n        />\n      )}\n    >\n      <Heatmap\n        ref={deckRef}\n        transpose={transpose}\n        viewState={{ zoom: zoomX, target: [targetX, targetY] }}\n        setViewState={({ zoom, target }) => {\n          setZoomX(zoom);\n          setZoomY(zoom);\n          setTargetX(target[0]);\n          setTargetY(target[1]);\n        }}\n        colormapRange={geneExpressionColormapRange}\n        setColormapRange={setGeneExpressionColormapRange}\n        height={height}\n        width={width}\n        theme={theme}\n        uuid={uuid}\n        expressionMatrix={expressionMatrix}\n        cellColors={cellColors}\n        colormap={geneExpressionColormap}\n        setIsRendering={setIsRendering}\n        setCellHighlight={setCellHighlight}\n        setGeneHighlight={setGeneHighlight}\n        setComponentHover={() => {\n          setComponentHover(uuid);\n        }}\n        updateViewInfo={setComponentViewInfo}\n        observationsTitle={observationsTitle}\n        variablesTitle={variablesTitle}\n      />\n      {!disableTooltip && (\n      <HeatmapTooltipSubscriber\n        parentUuid={uuid}\n        width={width}\n        height={height}\n        transpose={transpose}\n        getCellInfo={getCellInfo}\n        getGeneInfo={getGeneInfo}\n        cellHighlight={cellHighlight}\n        geneHighlight={geneHighlight}\n      />\n      )}\n    </TitleInfo>\n  );\n}\n","module.exports = function() {\n  return require(\"!!/home/runner/work/vitessce/vitessce/node_modules/worker-loader/dist/workers/InlineWorker.js\")(\"/******/ (function(modules) { // webpackBootstrap\\n/******/ \\t// The module cache\\n/******/ \\tvar installedModules = {};\\n/******/\\n/******/ \\t// The require function\\n/******/ \\tfunction __webpack_require__(moduleId) {\\n/******/\\n/******/ \\t\\t// Check if module is in cache\\n/******/ \\t\\tif(installedModules[moduleId]) {\\n/******/ \\t\\t\\treturn installedModules[moduleId].exports;\\n/******/ \\t\\t}\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\n/******/ \\t\\tvar module = installedModules[moduleId] = {\\n/******/ \\t\\t\\ti: moduleId,\\n/******/ \\t\\t\\tl: false,\\n/******/ \\t\\t\\texports: {}\\n/******/ \\t\\t};\\n/******/\\n/******/ \\t\\t// Execute the module function\\n/******/ \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n/******/\\n/******/ \\t\\t// Flag the module as loaded\\n/******/ \\t\\tmodule.l = true;\\n/******/\\n/******/ \\t\\t// Return the exports of the module\\n/******/ \\t\\treturn module.exports;\\n/******/ \\t}\\n/******/\\n/******/\\n/******/ \\t// expose the modules object (__webpack_modules__)\\n/******/ \\t__webpack_require__.m = modules;\\n/******/\\n/******/ \\t// expose the module cache\\n/******/ \\t__webpack_require__.c = installedModules;\\n/******/\\n/******/ \\t// define getter function for harmony exports\\n/******/ \\t__webpack_require__.d = function(exports, name, getter) {\\n/******/ \\t\\tif(!__webpack_require__.o(exports, name)) {\\n/******/ \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n/******/ \\t\\t}\\n/******/ \\t};\\n/******/\\n/******/ \\t// define __esModule on exports\\n/******/ \\t__webpack_require__.r = function(exports) {\\n/******/ \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n/******/ \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n/******/ \\t\\t}\\n/******/ \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n/******/ \\t};\\n/******/\\n/******/ \\t// create a fake namespace object\\n/******/ \\t// mode & 1: value is a module id, require it\\n/******/ \\t// mode & 2: merge all properties of value into the ns\\n/******/ \\t// mode & 4: return value when already ns object\\n/******/ \\t// mode & 8|1: behave like require\\n/******/ \\t__webpack_require__.t = function(value, mode) {\\n/******/ \\t\\tif(mode & 1) value = __webpack_require__(value);\\n/******/ \\t\\tif(mode & 8) return value;\\n/******/ \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n/******/ \\t\\tvar ns = Object.create(null);\\n/******/ \\t\\t__webpack_require__.r(ns);\\n/******/ \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n/******/ \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n/******/ \\t\\treturn ns;\\n/******/ \\t};\\n/******/\\n/******/ \\t// getDefaultExport function for compatibility with non-harmony modules\\n/******/ \\t__webpack_require__.n = function(module) {\\n/******/ \\t\\tvar getter = module && module.__esModule ?\\n/******/ \\t\\t\\tfunction getDefault() { return module['default']; } :\\n/******/ \\t\\t\\tfunction getModuleExports() { return module; };\\n/******/ \\t\\t__webpack_require__.d(getter, 'a', getter);\\n/******/ \\t\\treturn getter;\\n/******/ \\t};\\n/******/\\n/******/ \\t// Object.prototype.hasOwnProperty.call\\n/******/ \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n/******/\\n/******/ \\t// __webpack_public_path__\\n/******/ \\t__webpack_require__.p = \\\"./\\\";\\n/******/\\n/******/\\n/******/ \\t// Load entry module and return exports\\n/******/ \\treturn __webpack_require__(__webpack_require__.s = 23);\\n/******/ })\\n/************************************************************************/\\n/******/ ([\\n/* 0 */\\n/***/ (function(module, exports) {\\n\\n/**\\n * Checks if `value` is the\\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\\n *\\n * @static\\n * @memberOf _\\n * @since 0.1.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\\n * @example\\n *\\n * _.isObject({});\\n * // => true\\n *\\n * _.isObject([1, 2, 3]);\\n * // => true\\n *\\n * _.isObject(_.noop);\\n * // => true\\n *\\n * _.isObject(null);\\n * // => false\\n */\\nfunction isObject(value) {\\n  var type = typeof value;\\n  return value != null && (type == 'object' || type == 'function');\\n}\\n\\nmodule.exports = isObject;\\n\\n/***/ }),\\n/* 1 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar baseClamp = __webpack_require__(6),\\n    toNumber = __webpack_require__(3);\\n/**\\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\\n *\\n * @static\\n * @memberOf _\\n * @since 4.0.0\\n * @category Number\\n * @param {number} number The number to clamp.\\n * @param {number} [lower] The lower bound.\\n * @param {number} upper The upper bound.\\n * @returns {number} Returns the clamped number.\\n * @example\\n *\\n * _.clamp(-10, -5, 5);\\n * // => -5\\n *\\n * _.clamp(10, -5, 5);\\n * // => 5\\n */\\n\\n\\nfunction clamp(number, lower, upper) {\\n  if (upper === undefined) {\\n    upper = lower;\\n    lower = undefined;\\n  }\\n\\n  if (upper !== undefined) {\\n    upper = toNumber(upper);\\n    upper = upper === upper ? upper : 0;\\n  }\\n\\n  if (lower !== undefined) {\\n    lower = toNumber(lower);\\n    lower = lower === lower ? lower : 0;\\n  }\\n\\n  return baseClamp(toNumber(number), lower, upper);\\n}\\n\\nmodule.exports = clamp;\\n\\n/***/ }),\\n/* 2 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar createRange = __webpack_require__(14);\\n/**\\n * Creates an array of numbers (positive and/or negative) progressing from\\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\\n * `start` is specified without an `end` or `step`. If `end` is not specified,\\n * it's set to `start` with `start` then set to `0`.\\n *\\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\\n * floating-point values which can produce unexpected results.\\n *\\n * @static\\n * @since 0.1.0\\n * @memberOf _\\n * @category Util\\n * @param {number} [start=0] The start of the range.\\n * @param {number} end The end of the range.\\n * @param {number} [step=1] The value to increment or decrement by.\\n * @returns {Array} Returns the range of numbers.\\n * @see _.inRange, _.rangeRight\\n * @example\\n *\\n * _.range(4);\\n * // => [0, 1, 2, 3]\\n *\\n * _.range(-4);\\n * // => [0, -1, -2, -3]\\n *\\n * _.range(1, 5);\\n * // => [1, 2, 3, 4]\\n *\\n * _.range(0, 20, 5);\\n * // => [0, 5, 10, 15]\\n *\\n * _.range(0, -4, -1);\\n * // => [0, -1, -2, -3]\\n *\\n * _.range(1, 4, 0);\\n * // => [1, 1, 1]\\n *\\n * _.range(0);\\n * // => []\\n */\\n\\n\\nvar range = createRange();\\nmodule.exports = range;\\n\\n/***/ }),\\n/* 3 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar isObject = __webpack_require__(0),\\n    isSymbol = __webpack_require__(7);\\n/** Used as references for various `Number` constants. */\\n\\n\\nvar NAN = 0 / 0;\\n/** Used to match leading and trailing whitespace. */\\n\\nvar reTrim = /^\\\\s+|\\\\s+$/g;\\n/** Used to detect bad signed hexadecimal string values. */\\n\\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\\n/** Used to detect binary string values. */\\n\\nvar reIsBinary = /^0b[01]+$/i;\\n/** Used to detect octal string values. */\\n\\nvar reIsOctal = /^0o[0-7]+$/i;\\n/** Built-in method references without a dependency on `root`. */\\n\\nvar freeParseInt = parseInt;\\n/**\\n * Converts `value` to a number.\\n *\\n * @static\\n * @memberOf _\\n * @since 4.0.0\\n * @category Lang\\n * @param {*} value The value to process.\\n * @returns {number} Returns the number.\\n * @example\\n *\\n * _.toNumber(3.2);\\n * // => 3.2\\n *\\n * _.toNumber(Number.MIN_VALUE);\\n * // => 5e-324\\n *\\n * _.toNumber(Infinity);\\n * // => Infinity\\n *\\n * _.toNumber('3.2');\\n * // => 3.2\\n */\\n\\nfunction toNumber(value) {\\n  if (typeof value == 'number') {\\n    return value;\\n  }\\n\\n  if (isSymbol(value)) {\\n    return NAN;\\n  }\\n\\n  if (isObject(value)) {\\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\\n    value = isObject(other) ? other + '' : other;\\n  }\\n\\n  if (typeof value != 'string') {\\n    return value === 0 ? value : +value;\\n  }\\n\\n  value = value.replace(reTrim, '');\\n  var isBinary = reIsBinary.test(value);\\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\\n}\\n\\nmodule.exports = toNumber;\\n\\n/***/ }),\\n/* 4 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar Symbol = __webpack_require__(5),\\n    getRawTag = __webpack_require__(11),\\n    objectToString = __webpack_require__(12);\\n/** `Object#toString` result references. */\\n\\n\\nvar nullTag = '[object Null]',\\n    undefinedTag = '[object Undefined]';\\n/** Built-in value references. */\\n\\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\\n/**\\n * The base implementation of `getTag` without fallbacks for buggy environments.\\n *\\n * @private\\n * @param {*} value The value to query.\\n * @returns {string} Returns the `toStringTag`.\\n */\\n\\nfunction baseGetTag(value) {\\n  if (value == null) {\\n    return value === undefined ? undefinedTag : nullTag;\\n  }\\n\\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\\n}\\n\\nmodule.exports = baseGetTag;\\n\\n/***/ }),\\n/* 5 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar root = __webpack_require__(8);\\n/** Built-in value references. */\\n\\n\\nvar Symbol = root.Symbol;\\nmodule.exports = Symbol;\\n\\n/***/ }),\\n/* 6 */\\n/***/ (function(module, exports) {\\n\\n/**\\n * The base implementation of `_.clamp` which doesn't coerce arguments.\\n *\\n * @private\\n * @param {number} number The number to clamp.\\n * @param {number} [lower] The lower bound.\\n * @param {number} upper The upper bound.\\n * @returns {number} Returns the clamped number.\\n */\\nfunction baseClamp(number, lower, upper) {\\n  if (number === number) {\\n    if (upper !== undefined) {\\n      number = number <= upper ? number : upper;\\n    }\\n\\n    if (lower !== undefined) {\\n      number = number >= lower ? number : lower;\\n    }\\n  }\\n\\n  return number;\\n}\\n\\nmodule.exports = baseClamp;\\n\\n/***/ }),\\n/* 7 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar baseGetTag = __webpack_require__(4),\\n    isObjectLike = __webpack_require__(13);\\n/** `Object#toString` result references. */\\n\\n\\nvar symbolTag = '[object Symbol]';\\n/**\\n * Checks if `value` is classified as a `Symbol` primitive or object.\\n *\\n * @static\\n * @memberOf _\\n * @since 4.0.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\\n * @example\\n *\\n * _.isSymbol(Symbol.iterator);\\n * // => true\\n *\\n * _.isSymbol('abc');\\n * // => false\\n */\\n\\nfunction isSymbol(value) {\\n  return typeof value == 'symbol' || isObjectLike(value) && baseGetTag(value) == symbolTag;\\n}\\n\\nmodule.exports = isSymbol;\\n\\n/***/ }),\\n/* 8 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar freeGlobal = __webpack_require__(9);\\n/** Detect free variable `self`. */\\n\\n\\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\\n/** Used as a reference to the global object. */\\n\\nvar root = freeGlobal || freeSelf || Function('return this')();\\nmodule.exports = root;\\n\\n/***/ }),\\n/* 9 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\n/* WEBPACK VAR INJECTION */(function(global) {/** Detect free variable `global` from Node.js. */\\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\\nmodule.exports = freeGlobal;\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(10)))\\n\\n/***/ }),\\n/* 10 */\\n/***/ (function(module, exports) {\\n\\nvar g; // This works in non-strict mode\\n\\ng = function () {\\n  return this;\\n}();\\n\\ntry {\\n  // This works if eval is allowed (see CSP)\\n  g = g || new Function(\\\"return this\\\")();\\n} catch (e) {\\n  // This works if the window reference is available\\n  if (typeof window === \\\"object\\\") g = window;\\n} // g can still be undefined, but nothing to do about it...\\n// We return undefined, instead of nothing here, so it's\\n// easier to handle this case. if(!global) { ...}\\n\\n\\nmodule.exports = g;\\n\\n/***/ }),\\n/* 11 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar Symbol = __webpack_require__(5);\\n/** Used for built-in method references. */\\n\\n\\nvar objectProto = Object.prototype;\\n/** Used to check objects for own properties. */\\n\\nvar hasOwnProperty = objectProto.hasOwnProperty;\\n/**\\n * Used to resolve the\\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\\n * of values.\\n */\\n\\nvar nativeObjectToString = objectProto.toString;\\n/** Built-in value references. */\\n\\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\\n/**\\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\\n *\\n * @private\\n * @param {*} value The value to query.\\n * @returns {string} Returns the raw `toStringTag`.\\n */\\n\\nfunction getRawTag(value) {\\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\\n      tag = value[symToStringTag];\\n\\n  try {\\n    value[symToStringTag] = undefined;\\n    var unmasked = true;\\n  } catch (e) {}\\n\\n  var result = nativeObjectToString.call(value);\\n\\n  if (unmasked) {\\n    if (isOwn) {\\n      value[symToStringTag] = tag;\\n    } else {\\n      delete value[symToStringTag];\\n    }\\n  }\\n\\n  return result;\\n}\\n\\nmodule.exports = getRawTag;\\n\\n/***/ }),\\n/* 12 */\\n/***/ (function(module, exports) {\\n\\n/** Used for built-in method references. */\\nvar objectProto = Object.prototype;\\n/**\\n * Used to resolve the\\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\\n * of values.\\n */\\n\\nvar nativeObjectToString = objectProto.toString;\\n/**\\n * Converts `value` to a string using `Object.prototype.toString`.\\n *\\n * @private\\n * @param {*} value The value to convert.\\n * @returns {string} Returns the converted string.\\n */\\n\\nfunction objectToString(value) {\\n  return nativeObjectToString.call(value);\\n}\\n\\nmodule.exports = objectToString;\\n\\n/***/ }),\\n/* 13 */\\n/***/ (function(module, exports) {\\n\\n/**\\n * Checks if `value` is object-like. A value is object-like if it's not `null`\\n * and has a `typeof` result of \\\"object\\\".\\n *\\n * @static\\n * @memberOf _\\n * @since 4.0.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\\n * @example\\n *\\n * _.isObjectLike({});\\n * // => true\\n *\\n * _.isObjectLike([1, 2, 3]);\\n * // => true\\n *\\n * _.isObjectLike(_.noop);\\n * // => false\\n *\\n * _.isObjectLike(null);\\n * // => false\\n */\\nfunction isObjectLike(value) {\\n  return value != null && typeof value == 'object';\\n}\\n\\nmodule.exports = isObjectLike;\\n\\n/***/ }),\\n/* 14 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar baseRange = __webpack_require__(15),\\n    isIterateeCall = __webpack_require__(16),\\n    toFinite = __webpack_require__(22);\\n/**\\n * Creates a `_.range` or `_.rangeRight` function.\\n *\\n * @private\\n * @param {boolean} [fromRight] Specify iterating from right to left.\\n * @returns {Function} Returns the new range function.\\n */\\n\\n\\nfunction createRange(fromRight) {\\n  return function (start, end, step) {\\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\\n      end = step = undefined;\\n    } // Ensure the sign of `-0` is preserved.\\n\\n\\n    start = toFinite(start);\\n\\n    if (end === undefined) {\\n      end = start;\\n      start = 0;\\n    } else {\\n      end = toFinite(end);\\n    }\\n\\n    step = step === undefined ? start < end ? 1 : -1 : toFinite(step);\\n    return baseRange(start, end, step, fromRight);\\n  };\\n}\\n\\nmodule.exports = createRange;\\n\\n/***/ }),\\n/* 15 */\\n/***/ (function(module, exports) {\\n\\n/* Built-in method references for those with the same name as other `lodash` methods. */\\nvar nativeCeil = Math.ceil,\\n    nativeMax = Math.max;\\n/**\\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\\n * coerce arguments.\\n *\\n * @private\\n * @param {number} start The start of the range.\\n * @param {number} end The end of the range.\\n * @param {number} step The value to increment or decrement by.\\n * @param {boolean} [fromRight] Specify iterating from right to left.\\n * @returns {Array} Returns the range of numbers.\\n */\\n\\nfunction baseRange(start, end, step, fromRight) {\\n  var index = -1,\\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\\n      result = Array(length);\\n\\n  while (length--) {\\n    result[fromRight ? length : ++index] = start;\\n    start += step;\\n  }\\n\\n  return result;\\n}\\n\\nmodule.exports = baseRange;\\n\\n/***/ }),\\n/* 16 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar eq = __webpack_require__(17),\\n    isArrayLike = __webpack_require__(18),\\n    isIndex = __webpack_require__(21),\\n    isObject = __webpack_require__(0);\\n/**\\n * Checks if the given arguments are from an iteratee call.\\n *\\n * @private\\n * @param {*} value The potential iteratee value argument.\\n * @param {*} index The potential iteratee index or key argument.\\n * @param {*} object The potential iteratee object argument.\\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\\n *  else `false`.\\n */\\n\\n\\nfunction isIterateeCall(value, index, object) {\\n  if (!isObject(object)) {\\n    return false;\\n  }\\n\\n  var type = typeof index;\\n\\n  if (type == 'number' ? isArrayLike(object) && isIndex(index, object.length) : type == 'string' && index in object) {\\n    return eq(object[index], value);\\n  }\\n\\n  return false;\\n}\\n\\nmodule.exports = isIterateeCall;\\n\\n/***/ }),\\n/* 17 */\\n/***/ (function(module, exports) {\\n\\n/**\\n * Performs a\\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\\n * comparison between two values to determine if they are equivalent.\\n *\\n * @static\\n * @memberOf _\\n * @since 4.0.0\\n * @category Lang\\n * @param {*} value The value to compare.\\n * @param {*} other The other value to compare.\\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\\n * @example\\n *\\n * var object = { 'a': 1 };\\n * var other = { 'a': 1 };\\n *\\n * _.eq(object, object);\\n * // => true\\n *\\n * _.eq(object, other);\\n * // => false\\n *\\n * _.eq('a', 'a');\\n * // => true\\n *\\n * _.eq('a', Object('a'));\\n * // => false\\n *\\n * _.eq(NaN, NaN);\\n * // => true\\n */\\nfunction eq(value, other) {\\n  return value === other || value !== value && other !== other;\\n}\\n\\nmodule.exports = eq;\\n\\n/***/ }),\\n/* 18 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar isFunction = __webpack_require__(19),\\n    isLength = __webpack_require__(20);\\n/**\\n * Checks if `value` is array-like. A value is considered array-like if it's\\n * not a function and has a `value.length` that's an integer greater than or\\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\\n *\\n * @static\\n * @memberOf _\\n * @since 4.0.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\\n * @example\\n *\\n * _.isArrayLike([1, 2, 3]);\\n * // => true\\n *\\n * _.isArrayLike(document.body.children);\\n * // => true\\n *\\n * _.isArrayLike('abc');\\n * // => true\\n *\\n * _.isArrayLike(_.noop);\\n * // => false\\n */\\n\\n\\nfunction isArrayLike(value) {\\n  return value != null && isLength(value.length) && !isFunction(value);\\n}\\n\\nmodule.exports = isArrayLike;\\n\\n/***/ }),\\n/* 19 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar baseGetTag = __webpack_require__(4),\\n    isObject = __webpack_require__(0);\\n/** `Object#toString` result references. */\\n\\n\\nvar asyncTag = '[object AsyncFunction]',\\n    funcTag = '[object Function]',\\n    genTag = '[object GeneratorFunction]',\\n    proxyTag = '[object Proxy]';\\n/**\\n * Checks if `value` is classified as a `Function` object.\\n *\\n * @static\\n * @memberOf _\\n * @since 0.1.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\\n * @example\\n *\\n * _.isFunction(_);\\n * // => true\\n *\\n * _.isFunction(/abc/);\\n * // => false\\n */\\n\\nfunction isFunction(value) {\\n  if (!isObject(value)) {\\n    return false;\\n  } // The use of `Object#toString` avoids issues with the `typeof` operator\\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\\n\\n\\n  var tag = baseGetTag(value);\\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\\n}\\n\\nmodule.exports = isFunction;\\n\\n/***/ }),\\n/* 20 */\\n/***/ (function(module, exports) {\\n\\n/** Used as references for various `Number` constants. */\\nvar MAX_SAFE_INTEGER = 9007199254740991;\\n/**\\n * Checks if `value` is a valid array-like length.\\n *\\n * **Note:** This method is loosely based on\\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\\n *\\n * @static\\n * @memberOf _\\n * @since 4.0.0\\n * @category Lang\\n * @param {*} value The value to check.\\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\\n * @example\\n *\\n * _.isLength(3);\\n * // => true\\n *\\n * _.isLength(Number.MIN_VALUE);\\n * // => false\\n *\\n * _.isLength(Infinity);\\n * // => false\\n *\\n * _.isLength('3');\\n * // => false\\n */\\n\\nfunction isLength(value) {\\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\\n}\\n\\nmodule.exports = isLength;\\n\\n/***/ }),\\n/* 21 */\\n/***/ (function(module, exports) {\\n\\n/** Used as references for various `Number` constants. */\\nvar MAX_SAFE_INTEGER = 9007199254740991;\\n/** Used to detect unsigned integer values. */\\n\\nvar reIsUint = /^(?:0|[1-9]\\\\d*)$/;\\n/**\\n * Checks if `value` is a valid array-like index.\\n *\\n * @private\\n * @param {*} value The value to check.\\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\\n */\\n\\nfunction isIndex(value, length) {\\n  var type = typeof value;\\n  length = length == null ? MAX_SAFE_INTEGER : length;\\n  return !!length && (type == 'number' || type != 'symbol' && reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\\n}\\n\\nmodule.exports = isIndex;\\n\\n/***/ }),\\n/* 22 */\\n/***/ (function(module, exports, __webpack_require__) {\\n\\nvar toNumber = __webpack_require__(3);\\n/** Used as references for various `Number` constants. */\\n\\n\\nvar INFINITY = 1 / 0,\\n    MAX_INTEGER = 1.7976931348623157e+308;\\n/**\\n * Converts `value` to a finite number.\\n *\\n * @static\\n * @memberOf _\\n * @since 4.12.0\\n * @category Lang\\n * @param {*} value The value to convert.\\n * @returns {number} Returns the converted number.\\n * @example\\n *\\n * _.toFinite(3.2);\\n * // => 3.2\\n *\\n * _.toFinite(Number.MIN_VALUE);\\n * // => 5e-324\\n *\\n * _.toFinite(Infinity);\\n * // => 1.7976931348623157e+308\\n *\\n * _.toFinite('3.2');\\n * // => 3.2\\n */\\n\\nfunction toFinite(value) {\\n  if (!value) {\\n    return value === 0 ? value : 0;\\n  }\\n\\n  value = toNumber(value);\\n\\n  if (value === INFINITY || value === -INFINITY) {\\n    var sign = value < 0 ? -1 : 1;\\n    return sign * MAX_INTEGER;\\n  }\\n\\n  return value === value ? value : 0;\\n}\\n\\nmodule.exports = toFinite;\\n\\n/***/ }),\\n/* 23 */\\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\\n\\n\\\"use strict\\\";\\n__webpack_require__.r(__webpack_exports__);\\n\\n// EXTERNAL MODULE: ./node_modules/lodash/clamp.js\\nvar clamp = __webpack_require__(1);\\nvar clamp_default = /*#__PURE__*/__webpack_require__.n(clamp);\\n\\n// EXTERNAL MODULE: ./node_modules/lodash/range.js\\nvar range = __webpack_require__(2);\\nvar range_default = /*#__PURE__*/__webpack_require__.n(range);\\n\\n// CONCATENATED MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\\nfunction _defineProperty(obj, key, value) {\\n  if (key in obj) {\\n    Object.defineProperty(obj, key, {\\n      value: value,\\n      enumerable: true,\\n      configurable: true,\\n      writable: true\\n    });\\n  } else {\\n    obj[key] = value;\\n  }\\n\\n  return obj;\\n}\\n// CONCATENATED MODULE: ./node_modules/@luma.gl/constants/dist/esm/index.js\\n/* harmony default export */ var esm = ({\\n  DEPTH_BUFFER_BIT: 0x00000100,\\n  STENCIL_BUFFER_BIT: 0x00000400,\\n  COLOR_BUFFER_BIT: 0x00004000,\\n  POINTS: 0x0000,\\n  LINES: 0x0001,\\n  LINE_LOOP: 0x0002,\\n  LINE_STRIP: 0x0003,\\n  TRIANGLES: 0x0004,\\n  TRIANGLE_STRIP: 0x0005,\\n  TRIANGLE_FAN: 0x0006,\\n  ZERO: 0,\\n  ONE: 1,\\n  SRC_COLOR: 0x0300,\\n  ONE_MINUS_SRC_COLOR: 0x0301,\\n  SRC_ALPHA: 0x0302,\\n  ONE_MINUS_SRC_ALPHA: 0x0303,\\n  DST_ALPHA: 0x0304,\\n  ONE_MINUS_DST_ALPHA: 0x0305,\\n  DST_COLOR: 0x0306,\\n  ONE_MINUS_DST_COLOR: 0x0307,\\n  SRC_ALPHA_SATURATE: 0x0308,\\n  CONSTANT_COLOR: 0x8001,\\n  ONE_MINUS_CONSTANT_COLOR: 0x8002,\\n  CONSTANT_ALPHA: 0x8003,\\n  ONE_MINUS_CONSTANT_ALPHA: 0x8004,\\n  FUNC_ADD: 0x8006,\\n  FUNC_SUBTRACT: 0x800a,\\n  FUNC_REVERSE_SUBTRACT: 0x800b,\\n  BLEND_EQUATION: 0x8009,\\n  BLEND_EQUATION_RGB: 0x8009,\\n  BLEND_EQUATION_ALPHA: 0x883d,\\n  BLEND_DST_RGB: 0x80c8,\\n  BLEND_SRC_RGB: 0x80c9,\\n  BLEND_DST_ALPHA: 0x80ca,\\n  BLEND_SRC_ALPHA: 0x80cb,\\n  BLEND_COLOR: 0x8005,\\n  ARRAY_BUFFER_BINDING: 0x8894,\\n  ELEMENT_ARRAY_BUFFER_BINDING: 0x8895,\\n  LINE_WIDTH: 0x0b21,\\n  ALIASED_POINT_SIZE_RANGE: 0x846d,\\n  ALIASED_LINE_WIDTH_RANGE: 0x846e,\\n  CULL_FACE_MODE: 0x0b45,\\n  FRONT_FACE: 0x0b46,\\n  DEPTH_RANGE: 0x0b70,\\n  DEPTH_WRITEMASK: 0x0b72,\\n  DEPTH_CLEAR_VALUE: 0x0b73,\\n  DEPTH_FUNC: 0x0b74,\\n  STENCIL_CLEAR_VALUE: 0x0b91,\\n  STENCIL_FUNC: 0x0b92,\\n  STENCIL_FAIL: 0x0b94,\\n  STENCIL_PASS_DEPTH_FAIL: 0x0b95,\\n  STENCIL_PASS_DEPTH_PASS: 0x0b96,\\n  STENCIL_REF: 0x0b97,\\n  STENCIL_VALUE_MASK: 0x0b93,\\n  STENCIL_WRITEMASK: 0x0b98,\\n  STENCIL_BACK_FUNC: 0x8800,\\n  STENCIL_BACK_FAIL: 0x8801,\\n  STENCIL_BACK_PASS_DEPTH_FAIL: 0x8802,\\n  STENCIL_BACK_PASS_DEPTH_PASS: 0x8803,\\n  STENCIL_BACK_REF: 0x8ca3,\\n  STENCIL_BACK_VALUE_MASK: 0x8ca4,\\n  STENCIL_BACK_WRITEMASK: 0x8ca5,\\n  VIEWPORT: 0x0ba2,\\n  SCISSOR_BOX: 0x0c10,\\n  COLOR_CLEAR_VALUE: 0x0c22,\\n  COLOR_WRITEMASK: 0x0c23,\\n  UNPACK_ALIGNMENT: 0x0cf5,\\n  PACK_ALIGNMENT: 0x0d05,\\n  MAX_TEXTURE_SIZE: 0x0d33,\\n  MAX_VIEWPORT_DIMS: 0x0d3a,\\n  SUBPIXEL_BITS: 0x0d50,\\n  RED_BITS: 0x0d52,\\n  GREEN_BITS: 0x0d53,\\n  BLUE_BITS: 0x0d54,\\n  ALPHA_BITS: 0x0d55,\\n  DEPTH_BITS: 0x0d56,\\n  STENCIL_BITS: 0x0d57,\\n  POLYGON_OFFSET_UNITS: 0x2a00,\\n  POLYGON_OFFSET_FACTOR: 0x8038,\\n  TEXTURE_BINDING_2D: 0x8069,\\n  SAMPLE_BUFFERS: 0x80a8,\\n  SAMPLES: 0x80a9,\\n  SAMPLE_COVERAGE_VALUE: 0x80aa,\\n  SAMPLE_COVERAGE_INVERT: 0x80ab,\\n  COMPRESSED_TEXTURE_FORMATS: 0x86a3,\\n  VENDOR: 0x1f00,\\n  RENDERER: 0x1f01,\\n  VERSION: 0x1f02,\\n  IMPLEMENTATION_COLOR_READ_TYPE: 0x8b9a,\\n  IMPLEMENTATION_COLOR_READ_FORMAT: 0x8b9b,\\n  BROWSER_DEFAULT_WEBGL: 0x9244,\\n  STATIC_DRAW: 0x88e4,\\n  STREAM_DRAW: 0x88e0,\\n  DYNAMIC_DRAW: 0x88e8,\\n  ARRAY_BUFFER: 0x8892,\\n  ELEMENT_ARRAY_BUFFER: 0x8893,\\n  BUFFER_SIZE: 0x8764,\\n  BUFFER_USAGE: 0x8765,\\n  CURRENT_VERTEX_ATTRIB: 0x8626,\\n  VERTEX_ATTRIB_ARRAY_ENABLED: 0x8622,\\n  VERTEX_ATTRIB_ARRAY_SIZE: 0x8623,\\n  VERTEX_ATTRIB_ARRAY_STRIDE: 0x8624,\\n  VERTEX_ATTRIB_ARRAY_TYPE: 0x8625,\\n  VERTEX_ATTRIB_ARRAY_NORMALIZED: 0x886a,\\n  VERTEX_ATTRIB_ARRAY_POINTER: 0x8645,\\n  VERTEX_ATTRIB_ARRAY_BUFFER_BINDING: 0x889f,\\n  CULL_FACE: 0x0b44,\\n  FRONT: 0x0404,\\n  BACK: 0x0405,\\n  FRONT_AND_BACK: 0x0408,\\n  BLEND: 0x0be2,\\n  DEPTH_TEST: 0x0b71,\\n  DITHER: 0x0bd0,\\n  POLYGON_OFFSET_FILL: 0x8037,\\n  SAMPLE_ALPHA_TO_COVERAGE: 0x809e,\\n  SAMPLE_COVERAGE: 0x80a0,\\n  SCISSOR_TEST: 0x0c11,\\n  STENCIL_TEST: 0x0b90,\\n  NO_ERROR: 0,\\n  INVALID_ENUM: 0x0500,\\n  INVALID_VALUE: 0x0501,\\n  INVALID_OPERATION: 0x0502,\\n  OUT_OF_MEMORY: 0x0505,\\n  CONTEXT_LOST_WEBGL: 0x9242,\\n  CW: 0x0900,\\n  CCW: 0x0901,\\n  DONT_CARE: 0x1100,\\n  FASTEST: 0x1101,\\n  NICEST: 0x1102,\\n  GENERATE_MIPMAP_HINT: 0x8192,\\n  BYTE: 0x1400,\\n  UNSIGNED_BYTE: 0x1401,\\n  SHORT: 0x1402,\\n  UNSIGNED_SHORT: 0x1403,\\n  INT: 0x1404,\\n  UNSIGNED_INT: 0x1405,\\n  FLOAT: 0x1406,\\n  DOUBLE: 0x140a,\\n  DEPTH_COMPONENT: 0x1902,\\n  ALPHA: 0x1906,\\n  RGB: 0x1907,\\n  RGBA: 0x1908,\\n  LUMINANCE: 0x1909,\\n  LUMINANCE_ALPHA: 0x190a,\\n  UNSIGNED_SHORT_4_4_4_4: 0x8033,\\n  UNSIGNED_SHORT_5_5_5_1: 0x8034,\\n  UNSIGNED_SHORT_5_6_5: 0x8363,\\n  FRAGMENT_SHADER: 0x8b30,\\n  VERTEX_SHADER: 0x8b31,\\n  COMPILE_STATUS: 0x8b81,\\n  DELETE_STATUS: 0x8b80,\\n  LINK_STATUS: 0x8b82,\\n  VALIDATE_STATUS: 0x8b83,\\n  ATTACHED_SHADERS: 0x8b85,\\n  ACTIVE_ATTRIBUTES: 0x8b89,\\n  ACTIVE_UNIFORMS: 0x8b86,\\n  MAX_VERTEX_ATTRIBS: 0x8869,\\n  MAX_VERTEX_UNIFORM_VECTORS: 0x8dfb,\\n  MAX_VARYING_VECTORS: 0x8dfc,\\n  MAX_COMBINED_TEXTURE_IMAGE_UNITS: 0x8b4d,\\n  MAX_VERTEX_TEXTURE_IMAGE_UNITS: 0x8b4c,\\n  MAX_TEXTURE_IMAGE_UNITS: 0x8872,\\n  MAX_FRAGMENT_UNIFORM_VECTORS: 0x8dfd,\\n  SHADER_TYPE: 0x8b4f,\\n  SHADING_LANGUAGE_VERSION: 0x8b8c,\\n  CURRENT_PROGRAM: 0x8b8d,\\n  NEVER: 0x0200,\\n  ALWAYS: 0x0207,\\n  LESS: 0x0201,\\n  EQUAL: 0x0202,\\n  LEQUAL: 0x0203,\\n  GREATER: 0x0204,\\n  GEQUAL: 0x0206,\\n  NOTEQUAL: 0x0205,\\n  KEEP: 0x1e00,\\n  REPLACE: 0x1e01,\\n  INCR: 0x1e02,\\n  DECR: 0x1e03,\\n  INVERT: 0x150a,\\n  INCR_WRAP: 0x8507,\\n  DECR_WRAP: 0x8508,\\n  NEAREST: 0x2600,\\n  LINEAR: 0x2601,\\n  NEAREST_MIPMAP_NEAREST: 0x2700,\\n  LINEAR_MIPMAP_NEAREST: 0x2701,\\n  NEAREST_MIPMAP_LINEAR: 0x2702,\\n  LINEAR_MIPMAP_LINEAR: 0x2703,\\n  TEXTURE_MAG_FILTER: 0x2800,\\n  TEXTURE_MIN_FILTER: 0x2801,\\n  TEXTURE_WRAP_S: 0x2802,\\n  TEXTURE_WRAP_T: 0x2803,\\n  TEXTURE_2D: 0x0de1,\\n  TEXTURE: 0x1702,\\n  TEXTURE_CUBE_MAP: 0x8513,\\n  TEXTURE_BINDING_CUBE_MAP: 0x8514,\\n  TEXTURE_CUBE_MAP_POSITIVE_X: 0x8515,\\n  TEXTURE_CUBE_MAP_NEGATIVE_X: 0x8516,\\n  TEXTURE_CUBE_MAP_POSITIVE_Y: 0x8517,\\n  TEXTURE_CUBE_MAP_NEGATIVE_Y: 0x8518,\\n  TEXTURE_CUBE_MAP_POSITIVE_Z: 0x8519,\\n  TEXTURE_CUBE_MAP_NEGATIVE_Z: 0x851a,\\n  MAX_CUBE_MAP_TEXTURE_SIZE: 0x851c,\\n  TEXTURE0: 0x84c0,\\n  ACTIVE_TEXTURE: 0x84e0,\\n  REPEAT: 0x2901,\\n  CLAMP_TO_EDGE: 0x812f,\\n  MIRRORED_REPEAT: 0x8370,\\n  TEXTURE_WIDTH: 0x1000,\\n  TEXTURE_HEIGHT: 0x1001,\\n  FLOAT_VEC2: 0x8b50,\\n  FLOAT_VEC3: 0x8b51,\\n  FLOAT_VEC4: 0x8b52,\\n  INT_VEC2: 0x8b53,\\n  INT_VEC3: 0x8b54,\\n  INT_VEC4: 0x8b55,\\n  BOOL: 0x8b56,\\n  BOOL_VEC2: 0x8b57,\\n  BOOL_VEC3: 0x8b58,\\n  BOOL_VEC4: 0x8b59,\\n  FLOAT_MAT2: 0x8b5a,\\n  FLOAT_MAT3: 0x8b5b,\\n  FLOAT_MAT4: 0x8b5c,\\n  SAMPLER_2D: 0x8b5e,\\n  SAMPLER_CUBE: 0x8b60,\\n  LOW_FLOAT: 0x8df0,\\n  MEDIUM_FLOAT: 0x8df1,\\n  HIGH_FLOAT: 0x8df2,\\n  LOW_INT: 0x8df3,\\n  MEDIUM_INT: 0x8df4,\\n  HIGH_INT: 0x8df5,\\n  FRAMEBUFFER: 0x8d40,\\n  RENDERBUFFER: 0x8d41,\\n  RGBA4: 0x8056,\\n  RGB5_A1: 0x8057,\\n  RGB565: 0x8d62,\\n  DEPTH_COMPONENT16: 0x81a5,\\n  STENCIL_INDEX: 0x1901,\\n  STENCIL_INDEX8: 0x8d48,\\n  DEPTH_STENCIL: 0x84f9,\\n  RENDERBUFFER_WIDTH: 0x8d42,\\n  RENDERBUFFER_HEIGHT: 0x8d43,\\n  RENDERBUFFER_INTERNAL_FORMAT: 0x8d44,\\n  RENDERBUFFER_RED_SIZE: 0x8d50,\\n  RENDERBUFFER_GREEN_SIZE: 0x8d51,\\n  RENDERBUFFER_BLUE_SIZE: 0x8d52,\\n  RENDERBUFFER_ALPHA_SIZE: 0x8d53,\\n  RENDERBUFFER_DEPTH_SIZE: 0x8d54,\\n  RENDERBUFFER_STENCIL_SIZE: 0x8d55,\\n  FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE: 0x8cd0,\\n  FRAMEBUFFER_ATTACHMENT_OBJECT_NAME: 0x8cd1,\\n  FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL: 0x8cd2,\\n  FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE: 0x8cd3,\\n  COLOR_ATTACHMENT0: 0x8ce0,\\n  DEPTH_ATTACHMENT: 0x8d00,\\n  STENCIL_ATTACHMENT: 0x8d20,\\n  DEPTH_STENCIL_ATTACHMENT: 0x821a,\\n  NONE: 0,\\n  FRAMEBUFFER_COMPLETE: 0x8cd5,\\n  FRAMEBUFFER_INCOMPLETE_ATTACHMENT: 0x8cd6,\\n  FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT: 0x8cd7,\\n  FRAMEBUFFER_INCOMPLETE_DIMENSIONS: 0x8cd9,\\n  FRAMEBUFFER_UNSUPPORTED: 0x8cdd,\\n  FRAMEBUFFER_BINDING: 0x8ca6,\\n  RENDERBUFFER_BINDING: 0x8ca7,\\n  READ_FRAMEBUFFER: 0x8ca8,\\n  DRAW_FRAMEBUFFER: 0x8ca9,\\n  MAX_RENDERBUFFER_SIZE: 0x84e8,\\n  INVALID_FRAMEBUFFER_OPERATION: 0x0506,\\n  UNPACK_FLIP_Y_WEBGL: 0x9240,\\n  UNPACK_PREMULTIPLY_ALPHA_WEBGL: 0x9241,\\n  UNPACK_COLORSPACE_CONVERSION_WEBGL: 0x9243,\\n  READ_BUFFER: 0x0c02,\\n  UNPACK_ROW_LENGTH: 0x0cf2,\\n  UNPACK_SKIP_ROWS: 0x0cf3,\\n  UNPACK_SKIP_PIXELS: 0x0cf4,\\n  PACK_ROW_LENGTH: 0x0d02,\\n  PACK_SKIP_ROWS: 0x0d03,\\n  PACK_SKIP_PIXELS: 0x0d04,\\n  TEXTURE_BINDING_3D: 0x806a,\\n  UNPACK_SKIP_IMAGES: 0x806d,\\n  UNPACK_IMAGE_HEIGHT: 0x806e,\\n  MAX_3D_TEXTURE_SIZE: 0x8073,\\n  MAX_ELEMENTS_VERTICES: 0x80e8,\\n  MAX_ELEMENTS_INDICES: 0x80e9,\\n  MAX_TEXTURE_LOD_BIAS: 0x84fd,\\n  MAX_FRAGMENT_UNIFORM_COMPONENTS: 0x8b49,\\n  MAX_VERTEX_UNIFORM_COMPONENTS: 0x8b4a,\\n  MAX_ARRAY_TEXTURE_LAYERS: 0x88ff,\\n  MIN_PROGRAM_TEXEL_OFFSET: 0x8904,\\n  MAX_PROGRAM_TEXEL_OFFSET: 0x8905,\\n  MAX_VARYING_COMPONENTS: 0x8b4b,\\n  FRAGMENT_SHADER_DERIVATIVE_HINT: 0x8b8b,\\n  RASTERIZER_DISCARD: 0x8c89,\\n  VERTEX_ARRAY_BINDING: 0x85b5,\\n  MAX_VERTEX_OUTPUT_COMPONENTS: 0x9122,\\n  MAX_FRAGMENT_INPUT_COMPONENTS: 0x9125,\\n  MAX_SERVER_WAIT_TIMEOUT: 0x9111,\\n  MAX_ELEMENT_INDEX: 0x8d6b,\\n  RED: 0x1903,\\n  RGB8: 0x8051,\\n  RGBA8: 0x8058,\\n  RGB10_A2: 0x8059,\\n  TEXTURE_3D: 0x806f,\\n  TEXTURE_WRAP_R: 0x8072,\\n  TEXTURE_MIN_LOD: 0x813a,\\n  TEXTURE_MAX_LOD: 0x813b,\\n  TEXTURE_BASE_LEVEL: 0x813c,\\n  TEXTURE_MAX_LEVEL: 0x813d,\\n  TEXTURE_COMPARE_MODE: 0x884c,\\n  TEXTURE_COMPARE_FUNC: 0x884d,\\n  SRGB: 0x8c40,\\n  SRGB8: 0x8c41,\\n  SRGB8_ALPHA8: 0x8c43,\\n  COMPARE_REF_TO_TEXTURE: 0x884e,\\n  RGBA32F: 0x8814,\\n  RGB32F: 0x8815,\\n  RGBA16F: 0x881a,\\n  RGB16F: 0x881b,\\n  TEXTURE_2D_ARRAY: 0x8c1a,\\n  TEXTURE_BINDING_2D_ARRAY: 0x8c1d,\\n  R11F_G11F_B10F: 0x8c3a,\\n  RGB9_E5: 0x8c3d,\\n  RGBA32UI: 0x8d70,\\n  RGB32UI: 0x8d71,\\n  RGBA16UI: 0x8d76,\\n  RGB16UI: 0x8d77,\\n  RGBA8UI: 0x8d7c,\\n  RGB8UI: 0x8d7d,\\n  RGBA32I: 0x8d82,\\n  RGB32I: 0x8d83,\\n  RGBA16I: 0x8d88,\\n  RGB16I: 0x8d89,\\n  RGBA8I: 0x8d8e,\\n  RGB8I: 0x8d8f,\\n  RED_INTEGER: 0x8d94,\\n  RGB_INTEGER: 0x8d98,\\n  RGBA_INTEGER: 0x8d99,\\n  R8: 0x8229,\\n  RG8: 0x822b,\\n  R16F: 0x822d,\\n  R32F: 0x822e,\\n  RG16F: 0x822f,\\n  RG32F: 0x8230,\\n  R8I: 0x8231,\\n  R8UI: 0x8232,\\n  R16I: 0x8233,\\n  R16UI: 0x8234,\\n  R32I: 0x8235,\\n  R32UI: 0x8236,\\n  RG8I: 0x8237,\\n  RG8UI: 0x8238,\\n  RG16I: 0x8239,\\n  RG16UI: 0x823a,\\n  RG32I: 0x823b,\\n  RG32UI: 0x823c,\\n  R8_SNORM: 0x8f94,\\n  RG8_SNORM: 0x8f95,\\n  RGB8_SNORM: 0x8f96,\\n  RGBA8_SNORM: 0x8f97,\\n  RGB10_A2UI: 0x906f,\\n  TEXTURE_IMMUTABLE_FORMAT: 0x912f,\\n  TEXTURE_IMMUTABLE_LEVELS: 0x82df,\\n  UNSIGNED_INT_2_10_10_10_REV: 0x8368,\\n  UNSIGNED_INT_10F_11F_11F_REV: 0x8c3b,\\n  UNSIGNED_INT_5_9_9_9_REV: 0x8c3e,\\n  FLOAT_32_UNSIGNED_INT_24_8_REV: 0x8dad,\\n  UNSIGNED_INT_24_8: 0x84fa,\\n  HALF_FLOAT: 0x140b,\\n  RG: 0x8227,\\n  RG_INTEGER: 0x8228,\\n  INT_2_10_10_10_REV: 0x8d9f,\\n  CURRENT_QUERY: 0x8865,\\n  QUERY_RESULT: 0x8866,\\n  QUERY_RESULT_AVAILABLE: 0x8867,\\n  ANY_SAMPLES_PASSED: 0x8c2f,\\n  ANY_SAMPLES_PASSED_CONSERVATIVE: 0x8d6a,\\n  MAX_DRAW_BUFFERS: 0x8824,\\n  DRAW_BUFFER0: 0x8825,\\n  DRAW_BUFFER1: 0x8826,\\n  DRAW_BUFFER2: 0x8827,\\n  DRAW_BUFFER3: 0x8828,\\n  DRAW_BUFFER4: 0x8829,\\n  DRAW_BUFFER5: 0x882a,\\n  DRAW_BUFFER6: 0x882b,\\n  DRAW_BUFFER7: 0x882c,\\n  DRAW_BUFFER8: 0x882d,\\n  DRAW_BUFFER9: 0x882e,\\n  DRAW_BUFFER10: 0x882f,\\n  DRAW_BUFFER11: 0x8830,\\n  DRAW_BUFFER12: 0x8831,\\n  DRAW_BUFFER13: 0x8832,\\n  DRAW_BUFFER14: 0x8833,\\n  DRAW_BUFFER15: 0x8834,\\n  MAX_COLOR_ATTACHMENTS: 0x8cdf,\\n  COLOR_ATTACHMENT1: 0x8ce1,\\n  COLOR_ATTACHMENT2: 0x8ce2,\\n  COLOR_ATTACHMENT3: 0x8ce3,\\n  COLOR_ATTACHMENT4: 0x8ce4,\\n  COLOR_ATTACHMENT5: 0x8ce5,\\n  COLOR_ATTACHMENT6: 0x8ce6,\\n  COLOR_ATTACHMENT7: 0x8ce7,\\n  COLOR_ATTACHMENT8: 0x8ce8,\\n  COLOR_ATTACHMENT9: 0x8ce9,\\n  COLOR_ATTACHMENT10: 0x8cea,\\n  COLOR_ATTACHMENT11: 0x8ceb,\\n  COLOR_ATTACHMENT12: 0x8cec,\\n  COLOR_ATTACHMENT13: 0x8ced,\\n  COLOR_ATTACHMENT14: 0x8cee,\\n  COLOR_ATTACHMENT15: 0x8cef,\\n  SAMPLER_3D: 0x8b5f,\\n  SAMPLER_2D_SHADOW: 0x8b62,\\n  SAMPLER_2D_ARRAY: 0x8dc1,\\n  SAMPLER_2D_ARRAY_SHADOW: 0x8dc4,\\n  SAMPLER_CUBE_SHADOW: 0x8dc5,\\n  INT_SAMPLER_2D: 0x8dca,\\n  INT_SAMPLER_3D: 0x8dcb,\\n  INT_SAMPLER_CUBE: 0x8dcc,\\n  INT_SAMPLER_2D_ARRAY: 0x8dcf,\\n  UNSIGNED_INT_SAMPLER_2D: 0x8dd2,\\n  UNSIGNED_INT_SAMPLER_3D: 0x8dd3,\\n  UNSIGNED_INT_SAMPLER_CUBE: 0x8dd4,\\n  UNSIGNED_INT_SAMPLER_2D_ARRAY: 0x8dd7,\\n  MAX_SAMPLES: 0x8d57,\\n  SAMPLER_BINDING: 0x8919,\\n  PIXEL_PACK_BUFFER: 0x88eb,\\n  PIXEL_UNPACK_BUFFER: 0x88ec,\\n  PIXEL_PACK_BUFFER_BINDING: 0x88ed,\\n  PIXEL_UNPACK_BUFFER_BINDING: 0x88ef,\\n  COPY_READ_BUFFER: 0x8f36,\\n  COPY_WRITE_BUFFER: 0x8f37,\\n  COPY_READ_BUFFER_BINDING: 0x8f36,\\n  COPY_WRITE_BUFFER_BINDING: 0x8f37,\\n  FLOAT_MAT2x3: 0x8b65,\\n  FLOAT_MAT2x4: 0x8b66,\\n  FLOAT_MAT3x2: 0x8b67,\\n  FLOAT_MAT3x4: 0x8b68,\\n  FLOAT_MAT4x2: 0x8b69,\\n  FLOAT_MAT4x3: 0x8b6a,\\n  UNSIGNED_INT_VEC2: 0x8dc6,\\n  UNSIGNED_INT_VEC3: 0x8dc7,\\n  UNSIGNED_INT_VEC4: 0x8dc8,\\n  UNSIGNED_NORMALIZED: 0x8c17,\\n  SIGNED_NORMALIZED: 0x8f9c,\\n  VERTEX_ATTRIB_ARRAY_INTEGER: 0x88fd,\\n  VERTEX_ATTRIB_ARRAY_DIVISOR: 0x88fe,\\n  TRANSFORM_FEEDBACK_BUFFER_MODE: 0x8c7f,\\n  MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS: 0x8c80,\\n  TRANSFORM_FEEDBACK_VARYINGS: 0x8c83,\\n  TRANSFORM_FEEDBACK_BUFFER_START: 0x8c84,\\n  TRANSFORM_FEEDBACK_BUFFER_SIZE: 0x8c85,\\n  TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN: 0x8c88,\\n  MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS: 0x8c8a,\\n  MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS: 0x8c8b,\\n  INTERLEAVED_ATTRIBS: 0x8c8c,\\n  SEPARATE_ATTRIBS: 0x8c8d,\\n  TRANSFORM_FEEDBACK_BUFFER: 0x8c8e,\\n  TRANSFORM_FEEDBACK_BUFFER_BINDING: 0x8c8f,\\n  TRANSFORM_FEEDBACK: 0x8e22,\\n  TRANSFORM_FEEDBACK_PAUSED: 0x8e23,\\n  TRANSFORM_FEEDBACK_ACTIVE: 0x8e24,\\n  TRANSFORM_FEEDBACK_BINDING: 0x8e25,\\n  FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING: 0x8210,\\n  FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE: 0x8211,\\n  FRAMEBUFFER_ATTACHMENT_RED_SIZE: 0x8212,\\n  FRAMEBUFFER_ATTACHMENT_GREEN_SIZE: 0x8213,\\n  FRAMEBUFFER_ATTACHMENT_BLUE_SIZE: 0x8214,\\n  FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE: 0x8215,\\n  FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE: 0x8216,\\n  FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE: 0x8217,\\n  FRAMEBUFFER_DEFAULT: 0x8218,\\n  DEPTH24_STENCIL8: 0x88f0,\\n  DRAW_FRAMEBUFFER_BINDING: 0x8ca6,\\n  READ_FRAMEBUFFER_BINDING: 0x8caa,\\n  RENDERBUFFER_SAMPLES: 0x8cab,\\n  FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER: 0x8cd4,\\n  FRAMEBUFFER_INCOMPLETE_MULTISAMPLE: 0x8d56,\\n  UNIFORM_BUFFER: 0x8a11,\\n  UNIFORM_BUFFER_BINDING: 0x8a28,\\n  UNIFORM_BUFFER_START: 0x8a29,\\n  UNIFORM_BUFFER_SIZE: 0x8a2a,\\n  MAX_VERTEX_UNIFORM_BLOCKS: 0x8a2b,\\n  MAX_FRAGMENT_UNIFORM_BLOCKS: 0x8a2d,\\n  MAX_COMBINED_UNIFORM_BLOCKS: 0x8a2e,\\n  MAX_UNIFORM_BUFFER_BINDINGS: 0x8a2f,\\n  MAX_UNIFORM_BLOCK_SIZE: 0x8a30,\\n  MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS: 0x8a31,\\n  MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS: 0x8a33,\\n  UNIFORM_BUFFER_OFFSET_ALIGNMENT: 0x8a34,\\n  ACTIVE_UNIFORM_BLOCKS: 0x8a36,\\n  UNIFORM_TYPE: 0x8a37,\\n  UNIFORM_SIZE: 0x8a38,\\n  UNIFORM_BLOCK_INDEX: 0x8a3a,\\n  UNIFORM_OFFSET: 0x8a3b,\\n  UNIFORM_ARRAY_STRIDE: 0x8a3c,\\n  UNIFORM_MATRIX_STRIDE: 0x8a3d,\\n  UNIFORM_IS_ROW_MAJOR: 0x8a3e,\\n  UNIFORM_BLOCK_BINDING: 0x8a3f,\\n  UNIFORM_BLOCK_DATA_SIZE: 0x8a40,\\n  UNIFORM_BLOCK_ACTIVE_UNIFORMS: 0x8a42,\\n  UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES: 0x8a43,\\n  UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER: 0x8a44,\\n  UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER: 0x8a46,\\n  OBJECT_TYPE: 0x9112,\\n  SYNC_CONDITION: 0x9113,\\n  SYNC_STATUS: 0x9114,\\n  SYNC_FLAGS: 0x9115,\\n  SYNC_FENCE: 0x9116,\\n  SYNC_GPU_COMMANDS_COMPLETE: 0x9117,\\n  UNSIGNALED: 0x9118,\\n  SIGNALED: 0x9119,\\n  ALREADY_SIGNALED: 0x911a,\\n  TIMEOUT_EXPIRED: 0x911b,\\n  CONDITION_SATISFIED: 0x911c,\\n  WAIT_FAILED: 0x911d,\\n  SYNC_FLUSH_COMMANDS_BIT: 0x00000001,\\n  COLOR: 0x1800,\\n  DEPTH: 0x1801,\\n  STENCIL: 0x1802,\\n  MIN: 0x8007,\\n  MAX: 0x8008,\\n  DEPTH_COMPONENT24: 0x81a6,\\n  STREAM_READ: 0x88e1,\\n  STREAM_COPY: 0x88e2,\\n  STATIC_READ: 0x88e5,\\n  STATIC_COPY: 0x88e6,\\n  DYNAMIC_READ: 0x88e9,\\n  DYNAMIC_COPY: 0x88ea,\\n  DEPTH_COMPONENT32F: 0x8cac,\\n  DEPTH32F_STENCIL8: 0x8cad,\\n  INVALID_INDEX: 0xffffffff,\\n  TIMEOUT_IGNORED: -1,\\n  MAX_CLIENT_WAIT_TIMEOUT_WEBGL: 0x9247,\\n  VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE: 0x88fe,\\n  UNMASKED_VENDOR_WEBGL: 0x9245,\\n  UNMASKED_RENDERER_WEBGL: 0x9246,\\n  MAX_TEXTURE_MAX_ANISOTROPY_EXT: 0x84ff,\\n  TEXTURE_MAX_ANISOTROPY_EXT: 0x84fe,\\n  COMPRESSED_RGB_S3TC_DXT1_EXT: 0x83f0,\\n  COMPRESSED_RGBA_S3TC_DXT1_EXT: 0x83f1,\\n  COMPRESSED_RGBA_S3TC_DXT3_EXT: 0x83f2,\\n  COMPRESSED_RGBA_S3TC_DXT5_EXT: 0x83f3,\\n  COMPRESSED_R11_EAC: 0x9270,\\n  COMPRESSED_SIGNED_R11_EAC: 0x9271,\\n  COMPRESSED_RG11_EAC: 0x9272,\\n  COMPRESSED_SIGNED_RG11_EAC: 0x9273,\\n  COMPRESSED_RGB8_ETC2: 0x9274,\\n  COMPRESSED_RGBA8_ETC2_EAC: 0x9275,\\n  COMPRESSED_SRGB8_ETC2: 0x9276,\\n  COMPRESSED_SRGB8_ALPHA8_ETC2_EAC: 0x9277,\\n  COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2: 0x9278,\\n  COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2: 0x9279,\\n  COMPRESSED_RGB_PVRTC_4BPPV1_IMG: 0x8c00,\\n  COMPRESSED_RGBA_PVRTC_4BPPV1_IMG: 0x8c02,\\n  COMPRESSED_RGB_PVRTC_2BPPV1_IMG: 0x8c01,\\n  COMPRESSED_RGBA_PVRTC_2BPPV1_IMG: 0x8c03,\\n  COMPRESSED_RGB_ETC1_WEBGL: 0x8d64,\\n  COMPRESSED_RGB_ATC_WEBGL: 0x8c92,\\n  COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL: 0x8c92,\\n  COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL: 0x87ee,\\n  UNSIGNED_INT_24_8_WEBGL: 0x84fa,\\n  HALF_FLOAT_OES: 0x8d61,\\n  RGBA32F_EXT: 0x8814,\\n  RGB32F_EXT: 0x8815,\\n  FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT: 0x8211,\\n  UNSIGNED_NORMALIZED_EXT: 0x8c17,\\n  MIN_EXT: 0x8007,\\n  MAX_EXT: 0x8008,\\n  SRGB_EXT: 0x8c40,\\n  SRGB_ALPHA_EXT: 0x8c42,\\n  SRGB8_ALPHA8_EXT: 0x8c43,\\n  FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT: 0x8210,\\n  FRAGMENT_SHADER_DERIVATIVE_HINT_OES: 0x8b8b,\\n  COLOR_ATTACHMENT0_WEBGL: 0x8ce0,\\n  COLOR_ATTACHMENT1_WEBGL: 0x8ce1,\\n  COLOR_ATTACHMENT2_WEBGL: 0x8ce2,\\n  COLOR_ATTACHMENT3_WEBGL: 0x8ce3,\\n  COLOR_ATTACHMENT4_WEBGL: 0x8ce4,\\n  COLOR_ATTACHMENT5_WEBGL: 0x8ce5,\\n  COLOR_ATTACHMENT6_WEBGL: 0x8ce6,\\n  COLOR_ATTACHMENT7_WEBGL: 0x8ce7,\\n  COLOR_ATTACHMENT8_WEBGL: 0x8ce8,\\n  COLOR_ATTACHMENT9_WEBGL: 0x8ce9,\\n  COLOR_ATTACHMENT10_WEBGL: 0x8cea,\\n  COLOR_ATTACHMENT11_WEBGL: 0x8ceb,\\n  COLOR_ATTACHMENT12_WEBGL: 0x8cec,\\n  COLOR_ATTACHMENT13_WEBGL: 0x8ced,\\n  COLOR_ATTACHMENT14_WEBGL: 0x8cee,\\n  COLOR_ATTACHMENT15_WEBGL: 0x8cef,\\n  DRAW_BUFFER0_WEBGL: 0x8825,\\n  DRAW_BUFFER1_WEBGL: 0x8826,\\n  DRAW_BUFFER2_WEBGL: 0x8827,\\n  DRAW_BUFFER3_WEBGL: 0x8828,\\n  DRAW_BUFFER4_WEBGL: 0x8829,\\n  DRAW_BUFFER5_WEBGL: 0x882a,\\n  DRAW_BUFFER6_WEBGL: 0x882b,\\n  DRAW_BUFFER7_WEBGL: 0x882c,\\n  DRAW_BUFFER8_WEBGL: 0x882d,\\n  DRAW_BUFFER9_WEBGL: 0x882e,\\n  DRAW_BUFFER10_WEBGL: 0x882f,\\n  DRAW_BUFFER11_WEBGL: 0x8830,\\n  DRAW_BUFFER12_WEBGL: 0x8831,\\n  DRAW_BUFFER13_WEBGL: 0x8832,\\n  DRAW_BUFFER14_WEBGL: 0x8833,\\n  DRAW_BUFFER15_WEBGL: 0x8834,\\n  MAX_COLOR_ATTACHMENTS_WEBGL: 0x8cdf,\\n  MAX_DRAW_BUFFERS_WEBGL: 0x8824,\\n  VERTEX_ARRAY_BINDING_OES: 0x85b5,\\n  QUERY_COUNTER_BITS_EXT: 0x8864,\\n  CURRENT_QUERY_EXT: 0x8865,\\n  QUERY_RESULT_EXT: 0x8866,\\n  QUERY_RESULT_AVAILABLE_EXT: 0x8867,\\n  TIME_ELAPSED_EXT: 0x88bf,\\n  TIMESTAMP_EXT: 0x8e28,\\n  GPU_DISJOINT_EXT: 0x8fbb\\n});\\n// CONCATENATED MODULE: ./src/layers/heatmap-constants.js\\nvar _PIXELATED_TEXTURE_PA;// eslint-disable-line import/no-extraneous-dependencies\\nvar TILE_SIZE=2048;var MIN_ROW_AGG=1;var MAX_ROW_AGG=16;var COLOR_BAR_SIZE=20;var AXIS_LABEL_TEXT_SIZE=9;var AXIS_TITLE_TEXT_SIZE=15;var AXIS_MIN_SIZE=10;var AXIS_MAX_SIZE=90;var AXIS_MARGIN=3;var THEME_TO_TEXT_COLOR={dark:[224,224,224],light:[64,64,64]};var AXIS_FONT_FAMILY=\\\"-apple-system, 'Helvetica Neue', Arial, sans-serif\\\";var PIXELATED_TEXTURE_PARAMETERS=(_PIXELATED_TEXTURE_PA={},_defineProperty(_PIXELATED_TEXTURE_PA,esm.TEXTURE_MIN_FILTER,esm.NEAREST),_defineProperty(_PIXELATED_TEXTURE_PA,esm.TEXTURE_MAG_FILTER,esm.NEAREST),_defineProperty(_PIXELATED_TEXTURE_PA,esm.TEXTURE_WRAP_S,esm.CLAMP_TO_EDGE),_defineProperty(_PIXELATED_TEXTURE_PA,esm.TEXTURE_WRAP_T,esm.CLAMP_TO_EDGE),_PIXELATED_TEXTURE_PA);\\n// CONCATENATED MODULE: ./src/components/heatmap/utils.js\\nfunction getGeneByCellTile(view,_ref){var tileSize=_ref.tileSize,tileI=_ref.tileI,tileJ=_ref.tileJ,numCells=_ref.numCells,numGenes=_ref.numGenes,cellOrdering=_ref.cellOrdering,cells=_ref.cells;var tileData=new Uint8Array(tileSize*tileSize);var offset;var value;var cellI;var geneI;var sortedCellI;var tileSizeRange=range_default()(tileSize);tileSizeRange.forEach(function(j){// Need to iterate over cells in the outer loop.\\ncellI=tileJ*tileSize+j;if(cellI<numCells){sortedCellI=cells.indexOf(cellOrdering[cellI]);if(sortedCellI>=-1){tileSizeRange.forEach(function(i){geneI=tileI*tileSize+i;value=view[sortedCellI*numGenes+geneI];offset=(tileSize-i-1)*tileSize+j;tileData[offset]=value;});}}});return tileData;}function getCellByGeneTile(view,_ref2){var tileSize=_ref2.tileSize,tileI=_ref2.tileI,tileJ=_ref2.tileJ,numCells=_ref2.numCells,numGenes=_ref2.numGenes,cellOrdering=_ref2.cellOrdering,cells=_ref2.cells;var tileData=new Uint8Array(tileSize*tileSize);var offset;var value;var cellI;var geneI;var sortedCellI;var tileSizeRange=range_default()(tileSize);tileSizeRange.forEach(function(i){// Need to iterate over cells in the outer loop.\\ncellI=tileI*tileSize+i;if(cellI<numCells){sortedCellI=cells.indexOf(cellOrdering[cellI]);if(sortedCellI>=-1){tileSizeRange.forEach(function(j){geneI=tileJ*tileSize+j;if(geneI<numGenes){value=view[sortedCellI*numGenes+geneI];}else{value=0;}offset=(tileSize-i-1)*tileSize+j;tileData[offset]=value;});}}});return tileData;}/**\\n * Called before a layer is drawn to determine whether it should be rendered.\\n * Reference: https://deck.gl/docs/api-reference/core/deck#layerfilter\\n * @param {object} params A viewport, layer pair.\\n * @param {object} params.layer The layer to check.\\n * @param {object} params.viewport The viewport to check.\\n * @returns {boolean} Should this layer be rendered in this viewport?\\n */function layerFilter(_ref3){var layer=_ref3.layer,viewport=_ref3.viewport;if(viewport.id==='axisLeft'){return layer.id.startsWith('axisLeft');}if(viewport.id==='axisTop'){return layer.id.startsWith('axisTop');}if(viewport.id==='heatmap'){return layer.id.startsWith('heatmap');}if(viewport.id==='colorsLeft'){return layer.id.startsWith('colorsLeft');}if(viewport.id==='colorsTop'){return layer.id.startsWith('colorsTop');}return false;}/**\\n * Get the size of the left and top heatmap axes,\\n * taking into account the maximum label string lengths.\\n * @param {boolean} transpose Is the heatmap transposed?\\n * @param {number} geneLabelMaxLength What is the maximum length gene label?\\n * @param {number} cellLabelMaxLength What is the maximum length cell label?\\n * @returns {number[]} [axisOffsetLeft, axisOffsetTop]\\n */function getAxisSizes(transpose,geneLabelMaxLength,cellLabelMaxLength){var axisOffsetLeft=clamp_default()((transpose?geneLabelMaxLength:cellLabelMaxLength)*AXIS_LABEL_TEXT_SIZE,AXIS_MIN_SIZE,AXIS_MAX_SIZE);var axisOffsetTop=clamp_default()((transpose?cellLabelMaxLength:geneLabelMaxLength)*AXIS_LABEL_TEXT_SIZE,AXIS_MIN_SIZE,AXIS_MAX_SIZE);return[axisOffsetLeft,axisOffsetTop];}/**\\n * Convert a mouse coordinate (x, y) to a heatmap coordinate (col index, row index).\\n * @param {number} mouseX The mouse X of interest.\\n * @param {number} mouseY The mouse Y of interest.\\n * @param {object} param2 An object containing current sizes and scale factors.\\n * @returns {number[]} [colI, rowI]\\n */function mouseToHeatmapPosition(mouseX,mouseY,_ref4){var offsetLeft=_ref4.offsetLeft,offsetTop=_ref4.offsetTop,targetX=_ref4.targetX,targetY=_ref4.targetY,scaleFactor=_ref4.scaleFactor,matrixWidth=_ref4.matrixWidth,matrixHeight=_ref4.matrixHeight,numRows=_ref4.numRows,numCols=_ref4.numCols;// TODO: use linear algebra\\nvar viewMouseX=mouseX-offsetLeft;var viewMouseY=mouseY-offsetTop;if(viewMouseX<0||viewMouseY<0){// The mouse is outside the heatmap.\\nreturn[null,null];}// Determine the rowI and colI values based on the current viewState.\\nvar bboxTargetX=targetX*scaleFactor+matrixWidth*scaleFactor/2;var bboxTargetY=targetY*scaleFactor+matrixHeight*scaleFactor/2;var bboxLeft=bboxTargetX-matrixWidth/2;var bboxTop=bboxTargetY-matrixHeight/2;var zoomedOffsetLeft=bboxLeft/(matrixWidth*scaleFactor);var zoomedOffsetTop=bboxTop/(matrixHeight*scaleFactor);var zoomedViewMouseX=viewMouseX/(matrixWidth*scaleFactor);var zoomedViewMouseY=viewMouseY/(matrixHeight*scaleFactor);var zoomedMouseX=zoomedOffsetLeft+zoomedViewMouseX;var zoomedMouseY=zoomedOffsetTop+zoomedViewMouseY;var rowI=Math.floor(zoomedMouseY*numRows);var colI=Math.floor(zoomedMouseX*numCols);return[colI,rowI];}/**\\n * Convert a heatmap coordinate (col index, row index) to a mouse coordinate (x, y).\\n * @param {number} colI The column index of interest.\\n * @param {number} rowI The row index of interest.\\n * @param {object} param2 An object containing current sizes and scale factors.\\n * @returns {number[]} [x, y]\\n */function heatmapToMousePosition(colI,rowI,_ref5){var offsetLeft=_ref5.offsetLeft,offsetTop=_ref5.offsetTop,targetX=_ref5.targetX,targetY=_ref5.targetY,scaleFactor=_ref5.scaleFactor,matrixWidth=_ref5.matrixWidth,matrixHeight=_ref5.matrixHeight,numRows=_ref5.numRows,numCols=_ref5.numCols;// TODO: use linear algebra\\nvar zoomedMouseY=null;var zoomedMouseX=null;if(rowI!==null){var minY=-matrixHeight*scaleFactor/2;var maxY=matrixHeight*scaleFactor/2;var totalHeight=maxY-minY;var minInViewY=targetY*scaleFactor-matrixHeight/2;var maxInViewY=targetY*scaleFactor+matrixHeight/2;var inViewHeight=maxInViewY-minInViewY;var normalizedRowY=(rowI+0.5)/numRows;var globalRowY=minY+normalizedRowY*totalHeight;if(minInViewY<=globalRowY&&globalRowY<=maxInViewY){zoomedMouseY=offsetTop+(globalRowY-minInViewY)/inViewHeight*matrixHeight;}}if(colI!==null){var minX=-matrixWidth*scaleFactor/2;var maxX=matrixWidth*scaleFactor/2;var totalWidth=maxX-minX;var minInViewX=targetX*scaleFactor-matrixWidth/2;var maxInViewX=targetX*scaleFactor+matrixWidth/2;var inViewWidth=maxInViewX-minInViewX;var normalizedRowX=(colI+0.5)/numCols;var globalRowX=minX+normalizedRowX*totalWidth;if(minInViewX<=globalRowX&&globalRowX<=maxInViewX){zoomedMouseX=offsetLeft+(globalRowX-minInViewX)/inViewWidth*matrixWidth;}}return[zoomedMouseX,zoomedMouseY];}\\n// CONCATENATED MODULE: ./node_modules/eslint-loader/dist/cjs.js??ref--5-0!./src/components/heatmap/heatmap.worker.js\\n/* eslint-disable no-restricted-globals */\\n\\n\\n/**\\n * Map a gene expression matrix onto multiple square array tiles,\\n * taking into account the ordering/selection of cells.\\n * @param {object} params\\n * @param {string} params.curr The current task uuid.\\n * @param {number} params.xTiles How many tiles required in the x direction?\\n * @param {number} params.yTiles How many tiles required in the y direction?\\n * @param {number} params.tileSize How many entries along each tile axis?\\n * @param {string[]} params.cellOrdering The current ordering of cells.\\n * @param {string[]} params.rows The name of each row (cell ID).\\n * Does not take transpose into account (always cells).\\n * @param {string[]} params.cols The name of each column (gene ID).\\n * Does not take transpose into account (always genes).\\n * @param {ArrayBuffer} params.data The array buffer.\\n * Need to transfer back to main thread when done.\\n * @param {boolean} params.transpose Is the heatmap transposed?\\n * @returns {array} [message, transfers]\\n */\\nfunction getTile({\\n  curr,\\n  tileI,\\n  tileJ,\\n  tileSize,\\n  cellOrdering,\\n  rows,\\n  cols,\\n  data,\\n  transpose,\\n}) {\\n  const view = new Uint8Array(data);\\n\\n  const numGenes = cols.length;\\n  const numCells = cellOrdering.length;\\n\\n  const getTileFunction = (transpose ? getGeneByCellTile : getCellByGeneTile);\\n\\n  const result = getTileFunction(\\n    view,\\n    {\\n      tileSize,\\n      tileI,\\n      tileJ,\\n      numCells,\\n      numGenes,\\n      cellOrdering,\\n      cells: rows,\\n    },\\n  );\\n  return [{ tile: result, buffer: data, curr }, [data]];\\n}\\n\\n/**\\n * Worker message passing logic.\\n */\\nif (typeof self !== 'undefined') {\\n  const nameToFunction = {\\n    getTile,\\n  };\\n\\n  self.addEventListener('message', (event) => {\\n    try {\\n      const [name, args] = event.data;\\n      const [message, transfers] = nameToFunction[name](args);\\n      self.postMessage(message, transfers);\\n    } catch (e) {\\n      console.warn(e);\\n    }\\n  });\\n}\\n\\n\\n/***/ })\\n/******/ ]);\\n//# sourceMappingURL=6eb13c7b1b880fe64362.worker.js.map\", null);\n};","export { default as HeatmapSubscriber } from './HeatmapSubscriber';\nexport { default as Heatmap } from './Heatmap';\n","'use strict';\n\n// http://stackoverflow.com/questions/10343913/how-to-create-a-web-worker-from-a-string\n\nvar URL = window.URL || window.webkitURL;\n\nmodule.exports = function (content, url) {\n  try {\n    try {\n      var blob;\n\n      try {\n        // BlobBuilder = Deprecated, but widely implemented\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n\n        blob = new BlobBuilder();\n\n        blob.append(content);\n\n        blob = blob.getBlob();\n      } catch (e) {\n        // The proposed API\n        blob = new Blob([content]);\n      }\n\n      return new Worker(URL.createObjectURL(blob));\n    } catch (e) {\n      return new Worker('data:application/javascript,' + encodeURIComponent(content));\n    }\n  } catch (e) {\n    if (!url) {\n      throw Error('Inline worker is not supported');\n    }\n\n    return new Worker(url);\n  }\n};"],"sourceRoot":""}